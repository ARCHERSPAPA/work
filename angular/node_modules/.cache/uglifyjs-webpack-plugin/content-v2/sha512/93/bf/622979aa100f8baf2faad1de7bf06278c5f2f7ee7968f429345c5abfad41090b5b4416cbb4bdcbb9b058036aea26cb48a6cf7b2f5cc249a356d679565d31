{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{\"3ED9\":function(l,n,t){\"use strict\";t.d(n,\"a\",function(){return e});var e=function(){function l(l,n){this.el=l,this.activeModal=n,this.movePos={x:0,y:0},this.isMove=!1}return l.prototype.ngOnInit=function(){this.imgDom=this.el.nativeElement.querySelector(\"#imageLarge\"),this.moveDom=this.el.nativeElement.querySelector(\"#moveLarge\")},l.prototype.onMouseWheel=function(l){l.stopPropagation(),l.preventDefault();var n=parseInt(this.imgDom.style.zoom,10)||100;(n+=l.wheelDelta/12)>100&&(this.imgDom.style.zoom=n+\"%\")},l.prototype.onZoom=function(l){l.stopPropagation(),l.preventDefault();var n=parseInt(this.imgDom.style.zoom,10)||100;(n+=20)>100&&(this.imgDom.style.zoom=n+\"%\")},l.prototype.onMove=function(l){if(l.stopPropagation(),l.preventDefault(),this.isMove){var n=parseInt(this.imgDom.style.zoom?this.imgDom.style.zoom:100)/100,t=parseInt(l.clientX),e=parseInt(l.clientY),u=Number(this.imgDom.width),i=Number(this.imgDom.height),a=Math.floor(this.imgDom.width*n),o=Math.floor(this.imgDom.height*n),s=Math.floor(t-this.movePos.x),r=Math.floor(e-this.movePos.y);0!=s&&Math.abs(s)>=a-u&&(s=(a-u)*Math.pow(-1,s<0?1:2)),0!=r&&Math.abs(r)>=o-i&&(r=(o-i)*Math.pow(-1,r<0?1:2)),this.moveDom.style.left=s+\"px\",this.moveDom.style.top=r+\"px\"}},l.prototype.onDown=function(l){l.stopPropagation(),l.preventDefault();var n=parseInt(this.moveDom.offsetLeft?this.moveDom.offsetLeft:0),t=parseInt(this.moveDom.offsetTop?this.moveDom.offsetTop:0);this.movePos={x:parseInt(l.clientX)-n,y:parseInt(l.clientY)-t},this.isMove=!0},l.prototype.onUp=function(l){l.stopPropagation(),l.preventDefault(),this.isMove=!1},l.prototype.onLeave=function(l){l.stopPropagation(),l.preventDefault(),this.isMove=!1},l.prototype.onReset=function(l){l.stopPropagation(),l.preventDefault(),this.moveDom.style.left=\"0px\",this.moveDom.style.top=\"0px\",this.imgDom.style.zoom=\"100%\"},l}()},Gb3j:function(l,n,t){\"use strict\";var e=t(\"nm2k\"),u=t(\"zUMB\"),i=t(\"CcnG\"),a=t(\"6Cds\"),o=t(\"Ip0R\"),s=t(\"ebDo\"),r=t(\"eDkP\"),c=t(\"lLAP\"),p=t(\"LPJc\"),m=t(\"I3Dz\"),d=t(\"OHOg\"),h=t(\"5aMp\"),f=t(\"ZYCi\"),g=t(\"4GxJ\"),b=t(\"Ouoq\");t.d(n,\"a\",function(){return U});var y=i.Sa({encapsulation:0,styles:[e.a,u.a,[\"\"]],data:{animation:[{type:7,name:\"bounce\",definitions:[{type:0,name:\"up\",styles:{type:6,styles:{transform:\"translate3d(0,-1000%,0)\"},offset:null},options:void 0},{type:0,name:\"down\",styles:{type:6,styles:{transform:\"translate3d(0,0,0)\"},offset:null},options:void 0},{type:0,name:\"bottom\",styles:{type:6,styles:{transform:\"translate3d(0,1000%,0)\"},offset:null},options:void 0},{type:1,expr:\"up => down\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,0,0)\"},offset:null}]},timings:1e3},options:null},{type:1,expr:\"down => up\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,-1000%,0)\"},offset:null}]},timings:1e3},options:null},{type:1,expr:\"bottom => down\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,0,0)\"},offset:null}]},timings:1e3},options:null},{type:1,expr:\"down => bottom\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,1000%,0)\"},offset:null}]},timings:1e3},options:null}],options:{}}]}});function v(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,2,\"span\",[[\"class\",\"fix\"]],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"a\",[[\"href\",\"javascript:void(0)\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.addDrawList()&&e),e},null,null)),(l()(),i.mb(-1,null,[\"\\u6dfb\\u52a0\"]))],null,null)}function x(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,0,\"dd\",[[\"class\",\"graph-list\"]],null,null,null,null,null))],null,null)}function T(l){return i.ob(0,[(l()(),i.Ua(0,16777216,null,null,3,\"a\",[[\"class\",\"del\"],[\"nz-popconfirm\",\"\"],[\"nzCancelText\",\"\\u53d6\\u6d88\"],[\"nzOkText\",\"\\u786e\\u5b9a\"],[\"nzTitle\",\"\\u786e\\u5b9a\\u5220\\u9664\\u7167\\u7247?\"]],[[2,\"ant-tooltip-open\",null]],[[null,\"nzOnConfirm\"]],function(l,n,t){var e=!0;return\"nzOnConfirm\"===n&&(e=!1!==l.component.delDraw(l.parent.context.index)&&e),e},null,null)),i.Ta(1,4407296,null,0,a.Ad,[i.k,i.S,i.j,i.F,[2,a.zd]],{setTitle:[0,\"setTitle\"],nzOkText:[1,\"nzOkText\"],nzCancelText:[2,\"nzCancelText\"]},{nzOnConfirm:\"nzOnConfirm\"}),(l()(),i.Ua(2,0,null,null,1,\"i\",[[\"class\",\"anticon anticon-delete\"]],null,null,null,null,null)),i.Ta(3,2834432,null,0,a.Ca,[a.ac,i.k,i.F],null,null),(l()(),i.La(0,null,null,0))],function(l,n){l(n,1,0,\"\\u786e\\u5b9a\\u5220\\u9664\\u7167\\u7247?\",\"\\u786e\\u5b9a\",\"\\u53d6\\u6d88\"),l(n,3,0)},function(l,n){l(n,0,0,i.eb(n,1).isOpen)})}function k(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,3,\"li\",[],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,0,\"img\",[],[[8,\"src\",4]],[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.openModal(l.context.$implicit)&&e),e},null,null)),(l()(),i.La(16777216,null,null,1,null,T)),i.Ta(3,16384,null,0,o.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,3,0,n.component.showBtnByState())},function(l,n){l(n,1,0,n.context.$implicit.indexOf(\"?\")>-1?n.context.$implicit:n.context.$implicit+\"?imageView2/2/w/200/h/140\")})}function I(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,2,\"dd\",[[\"class\",\"graph-list\"]],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"p\",[],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u6682\\u65e0\\u6570\\u636e\\u663e\\u793a\"]))],null,null)}function C(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,1,\"button\",[[\"class\",\"btn\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.doGraph(t)&&e),e},null,null)),(l()(),i.mb(-1,null,[\"\\u4fdd\\u5b58\"]))],null,null)}function z(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,1,\"div\",[[\"class\",\"large-img\"]],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,0,\"img\",[],[[8,\"src\",4]],null,null,null,null))],null,function(l,n){l(n,1,0,n.component.src)})}function w(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,18,\"div\",[[\"class\",\"detail-contract\"]],[[24,\"@bounce\",0]],null,null,null,null)),(l()(),i.Ua(1,0,null,null,13,\"dl\",[],null,null,null,null,null)),(l()(),i.Ua(2,0,null,null,4,\"dt\",[],null,null,null,null,null)),(l()(),i.Ua(3,0,null,null,1,\"span\",[[\"class\",\"title\"]],null,null,null,null,null)),(l()(),i.mb(4,null,[\"\",\"\"])),(l()(),i.La(16777216,null,null,1,null,v)),i.Ta(6,16384,null,0,o.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.La(16777216,null,null,1,null,x)),i.Ta(8,16384,null,0,o.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.Ua(9,0,null,null,3,\"dd\",[[\"class\",\"graph-list\"]],null,null,null,null,null)),(l()(),i.Ua(10,0,null,null,2,\"ul\",[],null,null,null,null,null)),(l()(),i.La(16777216,null,null,1,null,k)),i.Ta(12,278528,null,0,o.m,[i.S,i.O,i.r],{ngForOf:[0,\"ngForOf\"]},null),(l()(),i.La(16777216,null,null,1,null,I)),i.Ta(14,16384,null,0,o.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.Ua(15,0,null,null,3,\"div\",[[\"class\",\"btns txt-right\"]],null,null,null,null,null)),(l()(),i.Ua(16,0,null,null,2,\"div\",[[\"class\",\"btn-line\"]],null,null,null,null,null)),(l()(),i.La(16777216,null,null,1,null,C)),i.Ta(18,16384,null,0,o.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.Ua(19,16777216,null,null,3,\"nz-modal\",[[\"nzTitle\",\"\\u56fe\\u7247\\u5c55\\u793a\"],[\"nzWidth\",\"1000\"]],null,[[null,\"nzVisibleChange\"],[null,\"nzOnCancel\"]],function(l,n,t){var e=!0,u=l.component;return\"nzVisibleChange\"===n&&(e=!1!==(u.isVisible=t)&&e),\"nzOnCancel\"===n&&(e=!1!==u.handleCancel()&&e),e},s.O,s.s)),i.Ta(20,4964352,null,0,a.Cd,[r.d,a.Wd,i.F,i.j,i.k,i.S,a.Xb,a.Ed,c.a,a.Dd,o.d],{nzFooter:[0,\"nzFooter\"],nzVisible:[1,\"nzVisible\"],nzWidth:[2,\"nzWidth\"],nzTitle:[3,\"nzTitle\"]},{nzVisibleChange:\"nzVisibleChange\",nzOnCancel:\"nzOnCancel\"}),(l()(),i.La(16777216,null,0,1,null,z)),i.Ta(22,16384,null,0,o.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=n.component;l(n,6,0,t.showBtnByState()),l(n,8,0,t.graphList&&t.graphList.length>0),l(n,12,0,t.graphList),l(n,14,0,!t.graphList||t.graphList&&0==t.graphList.length),l(n,18,0,t.showBtnByState()),l(n,20,0,null,t.isVisible,\"1000\",\"\\u56fe\\u7247\\u5c55\\u793a\"),l(n,22,0,t.src)},function(l,n){var t=n.component;l(n,0,0,t.switch),l(n,4,0,t.graphName)})}var U=i.Qa(\"rev-graph\",p.a,function(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,1,\"rev-graph\",[],null,null,null,w,y)),i.Ta(1,6537216,null,0,p.a,[m.a,d.a,h.a,f.a,g.u,b.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[])},LPJc:function(l,n,t){\"use strict\";t.d(n,\"a\",function(){return s}),t(\"I3Dz\");var e=t(\"f8yE\"),u=(t(\"OHOg\"),t(\"5aMp\"),t(\"FoyA\")),i=t(\"lcOY\"),a=(t(\"Ouoq\"),t(\"oRWq\")),o=t(\"3ED9\"),s=function(){function l(l,n,t,e,u,a){this.quote=l,this.req=n,this.warn=t,this.activatedRoute=e,this.modalService=u,this.user=a,this.state=i.a.STATE.ITEM_1,this.graphList=[],this.graphName=i.a.NAME.GRAPH,this.showBtnTextByState=!1,this.isVisible=!1}return l.prototype.ngOnInit=function(){var l=this;this.state=parseInt(this.activatedRoute.snapshot.paramMap.get(\"state\")),this.activatedRoute.queryParams.subscribe(function(n){n&&n.cid&&(l.cid=n.cid?n.cid:l.quote.getDataId())}),!this.quote.getSubmitInfo()&&this.cid&&this.quote.loadSubmitInfo(this.cid),this.cid&&this.quote.loadContract(this.cid)},l.prototype.ngAfterViewInit=function(){var l=this;setTimeout(function(){l.switch=\"down\",l.graphList=l.quote.getContract()?l.resetGraph(l.quote.getContract().drawings):[]},1500)},l.prototype.ngAfterContentChecked=function(){this.graphName=i.a.NAME.GRAPH,this.quote.getSubmitInfo()&&(this.showBtnTextByState=this.quote.getSubmitInfo().submitedDrawing,this.showBtnTextByState&&(this.graphName=this.graphName+\"  \"+(this.quote.getSubmitInfo().customConfirmDrawing?\"\\u5ba2\\u6237\\u5df2\\u786e\\u8ba4\":\"\\u5ba2\\u6237\\u5c1a\\u672a\\u786e\\u8ba4\"))),this.quote.getQuoteInfo()&&(this.baseQuote=this.quote.getQuoteInfo().quoteBase,this.designers=this.quote.getQuoteInfo().designers),this.quote.getFinanceInfo()&&(this.baseQuote=this.quote.getFinanceInfo().quoteBase,this.designers=this.quote.getFinanceInfo().designers)},l.prototype.resetGraph=function(l){var n=[];if(l&&l.length>0)for(var t=0,e=l;t<e.length;t++){var u=e[t];u.content&&n.push(u.content)}return n},l.prototype.addDrawList=function(){var l=this,n=this.modalService.open(a.a,{centered:!0,keyboard:!1,backdrop:\"static\"});n.componentInstance.name=i.a.NAME.GRAPH,n.componentInstance.cid=this.cid,n.componentInstance.split=\"graph\",n.result.then(function(n){n&&n.length>0&&(l.graphList=l.graphList.concat(n))},function(l){console.log(l)})},l.prototype.delDraw=function(l){return this.graphList.splice(l,1),this.quote.setContract({drawing:this.graphList}),!1},l.prototype.openModal=function(l){var n=this.modalService.open(o.a,{centered:!0,keyboard:!1,backdrop:\"static\",size:\"lg\"});n.componentInstance.title=\"\\u67e5\\u770b\\u8bbe\\u8ba1\\u56fe\\u7eb8\",n.componentInstance.src=l,n.result.then(function(l){console.log(l)},function(l){console.log(l)})},l.prototype.handleCancel=function(){this.isVisible=!1,this.src=null},l.prototype.showBtnByState=function(){return!Object(u.M)(this.baseQuote)&&Object(u.k)(this.user.getPhone(),this.designers)&&this.state!==i.a.STATE.ITEM_6&&0===this.baseQuote.retreat},l.prototype.doGraph=function(l){var n=this;l.stopPropagation(),l.preventDefault(),this.cid&&this.req.doPost({url:\"submitDrawing\",data:{id:this.cid,urls:this.graphList},success:function(l){l&&200==l.code?(n.warn.onSuccess(l.msg||e.a.SUCCESS.DATA),n.quote.loadSubmitInfo(n.cid)):n.warn.onError(l.msg||e.a.FAIL.DATA)}})},l.prototype.ngOnDestroy=function(){this.graphList=[]},l}()},\"tu/w\":function(l,n,t){\"use strict\";t.d(n,\"a\",function(){return q});var e=t(\"nm2k\"),u=t(\"i/W5\"),i=t(\"CcnG\"),a=t(\"gIcY\"),o=t(\"bawp\"),s=t(\"OHOg\"),r=t(\"5aMp\"),c=t(\"I3Dz\"),p=t(\"0wFE\"),m=t(\"6Cds\"),d=t(\"s/lM\"),h=t(\"Ip0R\"),f=t(\"ZYCi\"),g=t(\"ebDo\"),b=t(\"eDkP\"),y=t(\"lLAP\"),v=t(\"xBV8\"),x=t(\"4GxJ\"),T=t(\"iNCl\"),k=t(\"Ouoq\"),I=i.Sa({encapsulation:0,styles:[e.a,u.a],data:{animation:[{type:7,name:\"bounce\",definitions:[{type:0,name:\"up\",styles:{type:6,styles:{transform:\"translate3d(0,-1000%,0)\"},offset:null},options:void 0},{type:0,name:\"down\",styles:{type:6,styles:{transform:\"translate3d(0,0,0)\"},offset:null},options:void 0},{type:0,name:\"bottom\",styles:{type:6,styles:{transform:\"translate3d(0,1000%,0)\"},offset:null},options:void 0},{type:1,expr:\"up => down\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,0,0)\"},offset:null}]},timings:1e3},options:null},{type:1,expr:\"down => up\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,-1000%,0)\"},offset:null}]},timings:1e3},options:null},{type:1,expr:\"bottom => down\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,0,0)\"},offset:null}]},timings:1e3},options:null},{type:1,expr:\"down => bottom\",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{transform:\"translate3d(0,1000%,0)\"},offset:null}]},timings:1e3},options:null}],options:{}}]}});function C(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,2,\"span\",[[\"class\",\"fix\"]],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"a\",[[\"href\",\"javascript:void(0)\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.addUpItem(5)&&e),e},null,null)),(l()(),i.mb(-1,null,[\"\\u9009\\u62e9\\u7248\\u672c\"]))],null,null)}function z(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,34,\"li\",[],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"span\",[[\"class\",\"w20\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(2,null,[\"\",\"\"])),(l()(),i.Ua(3,0,null,null,1,\"span\",[[\"class\",\"w10\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(4,null,[\"\",\"\"])),(l()(),i.Ua(5,0,null,null,1,\"span\",[[\"class\",\"w20\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(6,null,[\"\",\"\"])),(l()(),i.Ua(7,0,null,null,1,\"span\",[[\"class\",\"w15\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(8,null,[\"\",\"\"])),(l()(),i.Ua(9,0,null,null,1,\"span\",[[\"class\",\"w10\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(10,null,[\"\",\"\"])),(l()(),i.Ua(11,0,null,null,7,\"span\",[[\"class\",\"w5\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.Ua(12,0,null,null,6,\"input\",[[\"class\",\"text\"],[\"oncopy\",\"return false\"],[\"onpaste\",\"return false\"],[\"onselectstart\",\"return false\"],[\"revInputDecimal\",\"\"],[\"role\",\"10\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null],[4,\"color\",null],[4,\"borderColor\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"keyup\"],[null,\"dragmove\"],[null,\"change\"]],function(l,n,t){var e=!0;return\"input\"===n&&(e=!1!==i.eb(l,13)._handleInput(t.target.value)&&e),\"blur\"===n&&(e=!1!==i.eb(l,13).onTouched()&&e),\"compositionstart\"===n&&(e=!1!==i.eb(l,13)._compositionStart()&&e),\"compositionend\"===n&&(e=!1!==i.eb(l,13)._compositionEnd(t.target.value)&&e),\"keyup\"===n&&(e=!1!==i.eb(l,18).onKeyup()&&e),\"dragmove\"===n&&(e=!1!==i.eb(l,18).onDragMove(t)&&e),\"blur\"===n&&(e=!1!==i.eb(l,18).onBlur(t)&&e),\"change\"===n&&(e=!1!==i.eb(l,18).onChange(t)&&e),\"ngModelChange\"===n&&(e=!1!==(l.context.$implicit.num=t)&&e),e},null,null)),i.Ta(13,16384,null,0,a.d,[i.F,i.k,[2,a.a]],null,null),i.jb(1024,null,a.m,function(l){return[l]},[a.d]),i.Ta(15,671744,null,0,a.r,[[8,null],[8,null],[8,null],[6,a.m]],{isDisabled:[0,\"isDisabled\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),i.jb(2048,null,a.n,null,[a.r]),i.Ta(17,16384,null,0,a.o,[[4,a.n]],null,null),i.Ta(18,16384,null,0,o.a,[i.k,s.a,r.a,c.a,p.a],{role:[0,\"role\"]},null),(l()(),i.Ua(19,16777216,null,null,3,\"span\",[[\"class\",\"w5\"],[\"nz-tooltip\",\"\"],[\"nzPlacement\",\"topLeft\"]],[[2,\"ant-tooltip-open\",null]],null,null,null,null)),i.Ta(20,4407296,null,0,m.jb,[i.k,i.S,i.j,i.F,[2,m.ib]],{nzTitle:[0,\"nzTitle\"],setTitle:[1,\"setTitle\"],nzPlacement:[2,\"nzPlacement\"]},null),(l()(),i.Ua(21,0,null,null,1,\"i\",[[\"nz-icon\",\"\"],[\"title\",\"\\u67e5\\u770b\\u8bf4\\u660e\"],[\"type\",\"exclamation-circle\"]],null,null,null,null,null)),i.Ta(22,2834432,null,0,m.Ca,[m.ac,i.k,i.F],{type:[0,\"type\"]},null),(l()(),i.Ua(23,16777216,null,null,2,\"span\",[[\"class\",\"w5\"],[\"nz-tooltip\",\"\"],[\"nzPlacement\",\"topLeft\"]],[[2,\"ant-tooltip-open\",null]],null,null,null,null)),i.Ta(24,4407296,null,0,m.jb,[i.k,i.S,i.j,i.F,[2,m.ib]],{nzTitle:[0,\"nzTitle\"],setTitle:[1,\"setTitle\"],nzPlacement:[2,\"nzPlacement\"]},null),(l()(),i.mb(25,null,[\"\",\"\"])),(l()(),i.Ua(26,0,null,null,8,\"span\",[[\"class\",\"w10\"]],[[8,\"hidden\",0]],null,null,null,null)),(l()(),i.Ua(27,0,null,null,2,\"a\",[[\"class\",\"drag\"],[\"href\",\"javascript:void(0)\"],[\"title\",\"\\u53ef\\u62d6\\u52a8\"]],null,null,null,null,null)),(l()(),i.Ua(28,0,null,null,1,\"i\",[[\"nz-icon\",\"\"],[\"type\",\"unordered-list\"]],null,null,null,null,null)),i.Ta(29,2834432,null,0,m.Ca,[m.ac,i.k,i.F],{type:[0,\"type\"]},null),(l()(),i.Ua(30,16777216,null,null,2,\"a\",[[\"href\",\"javascript:void(0)\"],[\"nz-popconfirm\",\"\"],[\"nzCancelText\",\"\\u53d6\\u6d88\"],[\"nzOkText\",\"\\u786e\\u5b9a\"],[\"nzTitle\",\"\\u786e\\u5b9a\\u5220\\u9664\\u8be5\\u9879\\u5417?\"]],[[2,\"ant-tooltip-open\",null]],[[null,\"nzOnConfirm\"]],function(l,n,t){var e=!0;return\"nzOnConfirm\"===n&&(e=!1!==l.component.deleteItem(l.context.index)&&e),e},null,null)),i.Ta(31,4407296,null,0,m.Ad,[i.k,i.S,i.j,i.F,[2,m.zd]],{setTitle:[0,\"setTitle\"],nzOkText:[1,\"nzOkText\"],nzCancelText:[2,\"nzCancelText\"]},{nzOnConfirm:\"nzOnConfirm\"}),(l()(),i.mb(-1,null,[\"\\u5220\\u9664\"])),(l()(),i.Ua(33,0,null,null,1,\"a\",[[\"href\",\"javascript:void(0)\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.markItem(l.context.$implicit)&&e),e},null,null)),(l()(),i.mb(-1,null,[\"\\u5907\\u6ce8\"]))],function(l,n){l(n,15,0,!n.component.showBtnByState(),n.context.$implicit.num),l(n,18,0,\"10\"),l(n,20,0,\"\",n.context.$implicit.offerExplain?n.context.$implicit.offerExplain:\"\\u6682\\u65e0\\u8bf4\\u660e\\u4fe1\\u606f\",\"topLeft\"),l(n,22,0,\"exclamation-circle\"),l(n,24,0,\"\",n.context.$implicit.remark?n.context.$implicit.remark:\"\\u6682\\u65e0\\u5907\\u6ce8\\u4fe1\\u606f\",\"topLeft\"),l(n,29,0,\"unordered-list\"),l(n,31,0,\"\\u786e\\u5b9a\\u5220\\u9664\\u8be5\\u9879\\u5417?\",\"\\u786e\\u5b9a\",\"\\u53d6\\u6d88\")},function(l,n){var t=n.component;l(n,1,0,n.context.$implicit.projectName?n.context.$implicit.projectName:\"\"),l(n,2,0,n.context.$implicit.projectName?n.context.$implicit.projectName:\"\"),l(n,3,0,n.context.$implicit.brand?n.context.$implicit.brand:\"\"),l(n,4,0,n.context.$implicit.brand?n.context.$implicit.brand:\"--\"),l(n,5,0,n.context.$implicit.specifications?n.context.$implicit.specifications:\"\"),l(n,6,0,n.context.$implicit.specifications?n.context.$implicit.specifications:\"--\"),l(n,7,0,n.context.$implicit.model?n.context.$implicit.model:\"\"),l(n,8,0,n.context.$implicit.modelNum?n.context.$implicit.modelNum:\"--\"),l(n,9,0,n.context.$implicit.unit),l(n,10,0,n.context.$implicit.unit?n.context.$implicit.unit:\"--\"),l(n,11,0,n.context.$implicit.num?n.context.$implicit.num:0),l(n,12,0,i.eb(n,17).ngClassUntouched,i.eb(n,17).ngClassTouched,i.eb(n,17).ngClassPristine,i.eb(n,17).ngClassDirty,i.eb(n,17).ngClassValid,i.eb(n,17).ngClassInvalid,i.eb(n,17).ngClassPending,i.eb(n,18).color,i.eb(n,18).bc),l(n,19,0,i.eb(n,20).isOpen),l(n,23,0,i.eb(n,24).isOpen),l(n,25,0,n.context.$implicit.remark?n.context.$implicit.remark:\"--\"),l(n,26,0,!t.showBtnByState()),l(n,30,0,i.eb(n,31).isOpen)})}function w(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,3,\"ul\",[],null,[[null,\"dragulaModelChange\"]],function(l,n,t){var e=!0;return\"dragulaModelChange\"===n&&(e=!1!==(l.component.materials=t)&&e),e},null,null)),i.Ta(1,671744,null,0,d.a,[i.k,d.c],{dragula:[0,\"dragula\"],dragulaModel:[1,\"dragulaModel\"]},{dragulaModelChange:\"dragulaModelChange\"}),(l()(),i.La(16777216,null,null,1,null,z)),i.Ta(3,278528,null,0,h.m,[i.S,i.O,i.r],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){var t=n.component;l(n,1,0,t.dragMaterial,t.materials),l(n,3,0,t.materials)},null)}function U(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,25,\"li\",[],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"span\",[[\"class\",\"w20\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(2,null,[\"\",\"\"])),(l()(),i.Ua(3,0,null,null,1,\"span\",[[\"class\",\"w10\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(4,null,[\"\",\"\"])),(l()(),i.Ua(5,0,null,null,1,\"span\",[[\"class\",\"w20\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(6,null,[\"\",\"\"])),(l()(),i.Ua(7,0,null,null,1,\"span\",[[\"class\",\"w15\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(8,null,[\"\",\"\"])),(l()(),i.Ua(9,0,null,null,1,\"span\",[[\"class\",\"w10\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.mb(10,null,[\"\",\"\"])),(l()(),i.Ua(11,0,null,null,7,\"span\",[[\"class\",\"w5\"]],[[8,\"title\",0]],null,null,null,null)),(l()(),i.Ua(12,0,null,null,6,\"input\",[[\"class\",\"text\"],[\"revInputDecimal\",\"\"],[\"role\",\"10\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null],[4,\"color\",null],[4,\"borderColor\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"],[null,\"keyup\"],[null,\"dragmove\"],[null,\"change\"]],function(l,n,t){var e=!0;return\"input\"===n&&(e=!1!==i.eb(l,13)._handleInput(t.target.value)&&e),\"blur\"===n&&(e=!1!==i.eb(l,13).onTouched()&&e),\"compositionstart\"===n&&(e=!1!==i.eb(l,13)._compositionStart()&&e),\"compositionend\"===n&&(e=!1!==i.eb(l,13)._compositionEnd(t.target.value)&&e),\"keyup\"===n&&(e=!1!==i.eb(l,18).onKeyup()&&e),\"dragmove\"===n&&(e=!1!==i.eb(l,18).onDragMove(t)&&e),\"blur\"===n&&(e=!1!==i.eb(l,18).onBlur(t)&&e),\"change\"===n&&(e=!1!==i.eb(l,18).onChange(t)&&e),\"ngModelChange\"===n&&(e=!1!==(l.context.$implicit.num=t)&&e),e},null,null)),i.Ta(13,16384,null,0,a.d,[i.F,i.k,[2,a.a]],null,null),i.jb(1024,null,a.m,function(l){return[l]},[a.d]),i.Ta(15,671744,null,0,a.r,[[8,null],[8,null],[8,null],[6,a.m]],{isDisabled:[0,\"isDisabled\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),i.jb(2048,null,a.n,null,[a.r]),i.Ta(17,16384,null,0,a.o,[[4,a.n]],null,null),i.Ta(18,16384,null,0,o.a,[i.k,s.a,r.a,c.a,p.a],{role:[0,\"role\"]},null),(l()(),i.Ua(19,16777216,null,null,3,\"span\",[[\"class\",\"w5\"],[\"nz-tooltip\",\"\"],[\"nzPlacement\",\"topCenter\"]],[[2,\"ant-tooltip-open\",null]],null,null,null,null)),i.Ta(20,4407296,null,0,m.jb,[i.k,i.S,i.j,i.F,[2,m.ib]],{nzTitle:[0,\"nzTitle\"],setTitle:[1,\"setTitle\"],nzPlacement:[2,\"nzPlacement\"]},null),(l()(),i.Ua(21,0,null,null,1,\"i\",[[\"nz-icon\",\"\"],[\"title\",\"\\u67e5\\u770b\\u8bf4\\u660e\"],[\"type\",\"exclamation-circle\"]],null,null,null,null,null)),i.Ta(22,2834432,null,0,m.Ca,[m.ac,i.k,i.F],{type:[0,\"type\"]},null),(l()(),i.Ua(23,16777216,null,null,2,\"span\",[[\"class\",\"w5\"],[\"nz-tooltip\",\"\"],[\"nzPlacement\",\"topCenter\"]],[[2,\"ant-tooltip-open\",null]],null,null,null,null)),i.Ta(24,4407296,null,0,m.jb,[i.k,i.S,i.j,i.F,[2,m.ib]],{nzTitle:[0,\"nzTitle\"],setTitle:[1,\"setTitle\"],nzPlacement:[2,\"nzPlacement\"]},null),(l()(),i.mb(25,null,[\"\",\"\"]))],function(l,n){l(n,15,0,!n.component.showBtnByState(),n.context.$implicit.num),l(n,18,0,\"10\"),l(n,20,0,\"\",n.context.$implicit.offerExplain?n.context.$implicit.offerExplain:\"\\u6682\\u65e0\\u8bf4\\u660e\\u4fe1\\u606f\",\"topCenter\"),l(n,22,0,\"exclamation-circle\"),l(n,24,0,\"\",n.context.$implicit.remark?n.context.$implicit.remark:\"\\u6682\\u65e0\\u5907\\u6ce8\\u4fe1\\u606f\",\"topCenter\")},function(l,n){l(n,1,0,n.context.$implicit.projectName?n.context.$implicit.projectName:\"\"),l(n,2,0,n.context.$implicit.projectName?n.context.$implicit.projectName:\"\"),l(n,3,0,n.context.$implicit.brand?n.context.$implicit.brand:\"\"),l(n,4,0,n.context.$implicit.brand?n.context.$implicit.brand:\"--\"),l(n,5,0,n.context.$implicit.specifications?n.context.$implicit.specifications:\"\"),l(n,6,0,n.context.$implicit.specifications?n.context.$implicit.specifications:\"--\"),l(n,7,0,n.context.$implicit.model?n.context.$implicit.model:\"\"),l(n,8,0,n.context.$implicit.modelNum?n.context.$implicit.modelNum:\"--\"),l(n,9,0,n.context.$implicit.unit),l(n,10,0,n.context.$implicit.unit?n.context.$implicit.unit:\"--\"),l(n,11,0,n.context.$implicit.num?n.context.$implicit.num:0),l(n,12,0,i.eb(n,17).ngClassUntouched,i.eb(n,17).ngClassTouched,i.eb(n,17).ngClassPristine,i.eb(n,17).ngClassDirty,i.eb(n,17).ngClassValid,i.eb(n,17).ngClassInvalid,i.eb(n,17).ngClassPending,i.eb(n,18).color,i.eb(n,18).bc),l(n,19,0,i.eb(n,20).isOpen),l(n,23,0,i.eb(n,24).isOpen),l(n,25,0,n.context.$implicit.remark?n.context.$implicit.remark:\"--\")})}function O(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,2,\"ul\",[],null,null,null,null,null)),(l()(),i.La(16777216,null,null,1,null,U)),i.Ta(2,278528,null,0,h.m,[i.S,i.O,i.r],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){l(n,2,0,n.component.materials)},null)}function S(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,22,\"dd\",[],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,21,\"ol\",[],null,null,null,null,null)),(l()(),i.Ua(2,0,null,null,16,\"li\",[[\"class\",\"head\"]],null,null,null,null,null)),(l()(),i.Ua(3,0,null,null,1,\"span\",[[\"class\",\"w20\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u540d\\u79f0\"])),(l()(),i.Ua(5,0,null,null,1,\"span\",[[\"class\",\"w10\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u54c1\\u724c\"])),(l()(),i.Ua(7,0,null,null,1,\"span\",[[\"class\",\"w20\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u89c4\\u683c\"])),(l()(),i.Ua(9,0,null,null,1,\"span\",[[\"class\",\"w15\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u578b\\u53f7\"])),(l()(),i.Ua(11,0,null,null,1,\"span\",[[\"class\",\"w10\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u5355\\u4f4d\"])),(l()(),i.Ua(13,0,null,null,1,\"span\",[[\"class\",\"w5\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u6570\\u91cf\"])),(l()(),i.Ua(15,0,null,null,1,\"span\",[[\"class\",\"w5\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u8bf4\\u660e\"])),(l()(),i.Ua(17,0,null,null,1,\"span\",[[\"class\",\"w5\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u5907\\u6ce8\"])),(l()(),i.La(16777216,null,null,1,null,w)),i.Ta(20,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.La(16777216,null,null,1,null,O)),i.Ta(22,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=n.component;l(n,20,0,t.showBtnByState()),l(n,22,0,!t.showBtnByState())},null)}function M(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,2,\"dd\",[],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"p\",[],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u6682\\u65e0\\u6570\\u636e\\u663e\\u793a\"]))],null,null)}function D(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,4,\"a\",[[\"class\",\"btn\"],[\"target\",\"_blank\"]],[[8,\"title\",0],[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==i.eb(l,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),i.Ta(1,671744,null,0,f.r,[f.o,f.a,h.k],{target:[0,\"target\"],queryParams:[1,\"queryParams\"],routerLink:[2,\"routerLink\"]},null),i.hb(2,{cid:0,type:1}),i.fb(3,1),(l()(),i.mb(-1,null,[\"\\u9884\\u89c8\"]))],function(l,n){l(n,1,0,\"_blank\",l(n,2,0,n.component.cid,5),l(n,3,0,\"./../../../../../view/quote\"))},function(l,n){l(n,0,0,\"\\u53ea\\u80fd\\u9884\\u89c8\\u5df2\\u4fdd\\u5b58\\u7684\\u6570\\u636e\\u4fe1\\u606f\",i.eb(n,1).target,i.eb(n,1).href)})}function $(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,3,\"button\",[[\"class\",\"btn\"],[\"type\",\"button\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.doMaterial(t)&&e),e},null,null)),i.Ta(1,278528,null,0,h.l,[i.r,i.s,i.k,i.F],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i.hb(2,{disabled:0}),(l()(),i.mb(-1,null,[\"\\u4fdd\\u5b58\"]))],function(l,n){l(n,1,0,\"btn\",l(n,2,0,n.component.materialListener()))},function(l,n){l(n,0,0,n.component.materialListener())})}function L(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,3,\"span\",[[\"class\",\"count\"]],null,null,null,null,null)),(l()(),i.Ua(1,0,null,null,1,\"span\",[],null,null,null,null,null)),(l()(),i.mb(2,null,[\"\",\"\"])),(l()(),i.mb(-1,null,[\"/500\"]))],null,function(l,n){l(n,2,0,n.component.markInfo.length)})}function P(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,16,\"div\",[[\"class\",\"detail-price\"]],[[24,\"@bounce\",0]],null,null,null,null)),(l()(),i.Ua(1,0,null,null,9,\"dl\",[],null,null,null,null,null)),(l()(),i.Ua(2,0,null,null,4,\"dt\",[],null,null,null,null,null)),(l()(),i.Ua(3,0,null,null,1,\"span\",[[\"class\",\"title\"]],null,null,null,null,null)),(l()(),i.mb(4,null,[\"\",\"\"])),(l()(),i.La(16777216,null,null,1,null,C)),i.Ta(6,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.La(16777216,null,null,1,null,S)),i.Ta(8,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.La(16777216,null,null,1,null,M)),i.Ta(10,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.Ua(11,0,null,null,5,\"div\",[[\"class\",\"btns txt-right\"]],null,null,null,null,null)),(l()(),i.Ua(12,0,null,null,4,\"div\",[[\"class\",\"btn-line\"]],null,null,null,null,null)),(l()(),i.La(16777216,null,null,1,null,D)),i.Ta(14,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.La(16777216,null,null,1,null,$)),i.Ta(16,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null),(l()(),i.Ua(17,16777216,null,null,22,\"nz-modal\",[[\"nzCancelText\",\"\\u53d6\\u6d88\"],[\"nzOkText\",\"\\u786e\\u5b9a\"],[\"nzTitle\",\"\\u5907\\u6ce8\"]],null,[[null,\"nzVisibleChange\"],[null,\"nzOnCancel\"],[null,\"nzOnOk\"]],function(l,n,t){var e=!0,u=l.component;return\"nzVisibleChange\"===n&&(e=!1!==(u.markVisible=t)&&e),\"nzOnCancel\"===n&&(e=!1!==u.markCancel()&&e),\"nzOnOk\"===n&&(e=!1!==u.markOk()&&e),e},g.O,g.s)),i.Ta(18,4964352,null,0,m.Cd,[b.d,m.Wd,i.F,i.j,i.k,i.S,m.Xb,m.Ed,y.a,m.Dd,h.d],{nzVisible:[0,\"nzVisible\"],nzTitle:[1,\"nzTitle\"],nzOkText:[2,\"nzOkText\"],nzCancelText:[3,\"nzCancelText\"]},{nzVisibleChange:\"nzVisibleChange\",nzOnOk:\"nzOnOk\",nzOnCancel:\"nzOnCancel\"}),(l()(),i.Ua(19,0,null,0,20,\"div\",[[\"class\",\"modify\"]],null,null,null,null,null)),(l()(),i.Ua(20,0,null,null,19,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],function(l,n,t){var e=!0;return\"submit\"===n&&(e=!1!==i.eb(l,22).onSubmit(t)&&e),\"reset\"===n&&(e=!1!==i.eb(l,22).onReset()&&e),e},null,null)),i.Ta(21,16384,null,0,a.z,[],null,null),i.Ta(22,540672,null,0,a.h,[[8,null],[8,null]],{form:[0,\"form\"]},null),i.jb(2048,null,a.c,null,[a.h]),i.Ta(24,16384,null,0,a.p,[[4,a.c]],null,null),(l()(),i.Ua(25,0,null,null,14,\"ul\",[],null,null,null,null,null)),(l()(),i.Ua(26,0,null,null,13,\"li\",[],null,null,null,null,null)),(l()(),i.Ua(27,0,null,null,1,\"label\",[[\"class\",\"label\"]],null,null,null,null,null)),(l()(),i.mb(-1,null,[\"\\u5907\\u6ce8\"])),(l()(),i.Ua(29,0,null,null,10,\"div\",[[\"class\",\"inp\"]],null,null,null,null,null)),(l()(),i.Ua(30,0,null,null,7,\"textarea\",[[\"autocomplete\",\"off\"],[\"class\",\"text textarea\"],[\"formControlName\",\"markInfo\"],[\"maxlength\",\"500\"],[\"name\",\"markInfo\"],[\"placeholder\",\"\\u8bf7\\u8f93\\u5165\\u5907\\u6ce8\\u4fe1\\u606f\"],[\"type\",\"text\"]],[[1,\"maxlength\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(l,n,t){var e=!0,u=l.component;return\"input\"===n&&(e=!1!==i.eb(l,31)._handleInput(t.target.value)&&e),\"blur\"===n&&(e=!1!==i.eb(l,31).onTouched()&&e),\"compositionstart\"===n&&(e=!1!==i.eb(l,31)._compositionStart()&&e),\"compositionend\"===n&&(e=!1!==i.eb(l,31)._compositionEnd(t.target.value)&&e),\"ngModelChange\"===n&&(e=!1!==(u.markInfo=t)&&e),e},null,null)),i.Ta(31,16384,null,0,a.d,[i.F,i.k,[2,a.a]],null,null),i.Ta(32,540672,null,0,a.k,[],{maxlength:[0,\"maxlength\"]},null),i.jb(1024,null,a.l,function(l){return[l]},[a.k]),i.jb(1024,null,a.m,function(l){return[l]},[a.d]),i.Ta(35,671744,null,0,a.g,[[3,a.c],[6,a.l],[8,null],[6,a.m],[2,a.B]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),i.jb(2048,null,a.n,null,[a.g]),i.Ta(37,16384,null,0,a.o,[[4,a.n]],null,null),(l()(),i.La(16777216,null,null,1,null,L)),i.Ta(39,16384,null,0,h.n,[i.S,i.O],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=n.component;l(n,6,0,t.showBtnByState()),l(n,8,0,t.materials&&t.materials.length>0),l(n,10,0,!t.materials||t.materials&&t.materials.length<=0),l(n,14,0,t.materials&&t.materials.length>0),l(n,16,0,t.showBtnByState()),l(n,18,0,t.markVisible,\"\\u5907\\u6ce8\",\"\\u786e\\u5b9a\",\"\\u53d6\\u6d88\"),l(n,22,0,t.markForm),l(n,32,0,\"500\"),l(n,35,0,\"markInfo\",t.markInfo),l(n,39,0,t.markInfo&&t.markInfo.length>0)},function(l,n){var t=n.component;l(n,0,0,t.switch),l(n,4,0,t.materialName),l(n,20,0,i.eb(n,24).ngClassUntouched,i.eb(n,24).ngClassTouched,i.eb(n,24).ngClassPristine,i.eb(n,24).ngClassDirty,i.eb(n,24).ngClassValid,i.eb(n,24).ngClassInvalid,i.eb(n,24).ngClassPending),l(n,30,0,i.eb(n,32).maxlength?i.eb(n,32).maxlength:null,i.eb(n,37).ngClassUntouched,i.eb(n,37).ngClassTouched,i.eb(n,37).ngClassPristine,i.eb(n,37).ngClassDirty,i.eb(n,37).ngClassValid,i.eb(n,37).ngClassInvalid,i.eb(n,37).ngClassPending)})}var q=i.Qa(\"rev-makings\",v.a,function(l){return i.ob(0,[(l()(),i.Ua(0,0,null,null,1,\"rev-makings\",[],null,null,null,P,I)),i.Ta(1,6537216,null,0,v.a,[s.a,c.a,x.u,f.a,r.a,T.a,k.a,a.e,d.c],null,null)],function(l,n){l(n,1,0)},null)},{},{},[])},xBV8:function(l,n,t){\"use strict\";t.d(n,\"a\",function(){return r});var e=t(\"f8yE\"),u=(t(\"OHOg\"),t(\"I3Dz\"),t(\"5aMp\"),t(\"lcOY\")),i=t(\"FoyA\"),a=(t(\"iNCl\"),t(\"rP5G\")),o=(t(\"Ouoq\"),t(\"gIcY\")),s=t(\"c0u4\"),r=function(){function l(l,n,t,e,i,a,o,s,r){this.request=l,this.quote=n,this.modalService=t,this.activatedRoute=e,this.warn=i,this.makes=a,this.user=o,this.fb=s,this.dragulaService=r,this.cid=0,this.materials=[],this.materialName=u.a.NAME.MATERIALS,this.state=u.a.STATE.ITEM_1,this.showBtnTextByState=!1,this.markVisible=!1,this.markIndex=-1,this.dragMaterial=\"materials\",this.drag=!1}return l.prototype.ngOnInit=function(){var l=this;this.switch=\"bottom\",this.state=parseInt(this.activatedRoute.snapshot.paramMap.get(\"state\")),this.activatedRoute.queryParams.subscribe(function(n){n&&n.cid&&(l.cid=n.cid)}),this.cid&&(this.quote.loadSubmitInfo(this.cid),this.loadMaking(this.cid,5)),this.markForm=this.fb.group({markInfo:[this.markInfo,[o.x.maxLength(500)]]}),this.dragulaService.drag(this.dragMaterial).subscribe(function(n){return n.el.className=\"drag\",l.drag=!0,!1}),this.dragulaService.out(this.dragMaterial).subscribe(function(l){l.el.className=\"\"}),this.dragulaService.cancel(this.dragMaterial).subscribe(function(l){l.el.className=\"\"}),this.dragulaService.dropModel(this.dragMaterial).subscribe(function(n){l.drag&&(l.drag=!1)})},l.prototype.ngAfterViewInit=function(){var l=this;setTimeout(function(){l.switch=\"down\"},1e3)},l.prototype.loadMaking=function(l,n){var t=this;l&&this.request.doPost({url:\"bodyQuote\",data:{id:l,type:n},success:function(l){l&&200==l.code?l.data&&l.data.length>0&&(t.materials=t.materials.concat(t.changeMaterialById(l.data[0].infos))):t.warn.onError(l.msg||e.a.FAIL.DATA)}})},l.prototype.ngAfterContentChecked=function(){this.materialName=u.a.NAME.MATERIALS,this.quote.getSubmitInfo()&&(this.showBtnTextByState=this.quote.getSubmitInfo().submitedMaterial,this.showBtnTextByState&&(this.materialName=this.materialName+\"  \"+(this.quote.getSubmitInfo().customConfirmMaterial?\"\\u5ba2\\u6237\\u5df2\\u786e\\u8ba4\":\"\\u5ba2\\u6237\\u5c1a\\u672a\\u786e\\u8ba4\"))),this.quote&&this.quote.getQuoteInfo()&&(this.baseQuote=this.quote.getQuoteInfo().quoteBase,this.designers=this.quote.getQuoteInfo().designers)},l.prototype.addUpItem=function(l){var n=this,t=this.modalService.open(s.a,{centered:!0,keyboard:!0,backdrop:\"static\",size:\"lg\"});t.componentInstance.type=l,t.componentInstance.id=this.quote.getDataId(),t.componentInstance.title=\"\\u6750\\u6599\\u6e05\\u5355\",t.result.then(function(l){l&&(n.materials=n.materials.concat(JSON.parse(l)))},function(l){console.log(l)})},l.prototype.deleteItem=function(l){this.materials.splice(l,1)},l.prototype.converseToDecimal=function(l){return parseInt(100*l+\"\")/100},l.prototype.showDelByState=function(){return(this.state===u.a.STATE.ITEM_1||this.state===u.a.STATE.ITEM_10)&&0===this.baseQuote.retreat},l.prototype.showBtnByState=function(){return Object(i.O)(this.baseQuote)&&Object(i.k)(this.user.getPhone(),this.designers)&&this.state!==u.a.STATE.ITEM_6&&0===this.baseQuote.retreat},l.prototype.doMaterial=function(l){var n=this;l.stopPropagation(),this.cid&&this.request.doPost({url:\"submitMaterial\",data:{id:this.cid,materials:this.unitMaterials(this.materials)},success:function(l){l&&200==l.code?(n.warn.onSuccess(l.msg||e.a.SUCCESS.DATA),n.quote.loadSubmitInfo(n.cid)):n.warn.onError(l.msg||e.a.FAIL.DATA)}})},l.prototype.unitMaterials=function(l){var n=[];if(l&&l.length>0)for(var t=0,e=l;t<e.length;t++){var u=e[t];n.push({id:u.id,num:u.num,remark:u.remark})}return n},l.prototype.changeMaterialById=function(l){if(l&&l.length>0)for(var n=0,t=l;n<t.length;n++){var e=t[n];e.projectName=e.name,e.modelNum=e.model,e.id=e.infoId}return l},l.prototype.materialListener=function(){if(this.materials&&this.materials.length){for(var l=0,n=this.materials;l<n.length;l++)if(!a.a.NUM_INT_AND_DECIMAL.test(n[l].num))return!0;return!1}},l.prototype.markItem=function(l){this.markInfo=l.remark?l.remark:\"\",this.markVisible=!0,this.markObj=l},l.prototype.markOk=function(){this.markObj.remark=this.markInfo,this.markCancel()},l.prototype.markCancel=function(){this.markVisible=!1,this.markIndex=null,this.markInfo=\"\"},l.prototype.afterClose=function(){return console.log(\"after close in h ere\"),!1},l.prototype.ngOnDestroy=function(){this.makes.resetMakingRemark()},l}()}}]);","extractedComments":[]}