(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"1dWq":function(n,t){n.exports=".td-200 {\n  min-width: 120px; }\n"},"3E0z":function(n,t){n.exports=""},"9vDS":function(n,t){n.exports=""},Abyu:function(n,t){n.exports=""},E5GA:function(n,t){n.exports='<div class="temp">\n  <div class="temp-content">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n'},"G+Z0":function(n,t){n.exports='<div class="temp" *ngIf="pkg">\r\n    <div class="temp-head">\r\n        <rev-title [title]="pkg.packageName"></rev-title>\r\n        <a href="javascript:void(0)" (click)="showModal(pkg)" class="head-fix">\u4fee\u6539</a>\r\n    </div>\r\n    <div nz-row nzSpan="24">\r\n        <div nz-col nzSpan="24" class="mt-8" *ngIf="pkg && pkg.remark">\u5907\u6ce8\uff1a{{pkg.remark}}</div>\r\n    </div>\r\n    <div nz-row class="mt-16">\r\n        <nz-tabset [nzSelectedIndex]="0" (nzSelectChange)="selectChange($event)">\r\n            \x3c!---\u9879\u76ee\u660e\u7ec6---\x3e\r\n            <nz-tab nzTitle="\u9879\u76ee\u660e\u7ec6">\r\n                <div nz-row>\r\n                    \x3c!---\u9009\u62e9\u7248\u672c-\u4fe1\u606f--\x3e\r\n                    <div nz-col nzSpan="24" *ngIf="pkg && !pkg.versionId">\r\n                        <a href="javascript:void(0)" (click)="showVersionModal()">\u9009\u62e9\u7248\u672c</a>\r\n                    </div>\r\n                    <div nz-col nzSpan="24" class="temp-branch">\r\n                        <div nz-col nzSpan="22" *ngIf="pkg && pkg.versionId">\r\n                            {{pkg && pkg.versionName?pkg.versionName:\'\'}}\r\n                        </div>\r\n                        <span class="head-fix" style="top:0;">\r\n                            <a href="javascript:void(0)" (click)="showVersionModal()">\u4fee\u6539</a>\r\n                            <a href="javascript:void(0)" (click)="showBranchModal(1)" class="ml-8">\u6dfb\u52a0\u5927\u9879</a>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div nz-row class="temp-warp">\r\n                    <nz-table #pkgTable [nzData]="dataSource" [nzShowPagination]="false">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzShowExpand width="5%"></th>\r\n                                <th width="75%">\u540d\u79f0</th>\r\n                                <th width="20">\u64cd\u4f5c</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-template ngFor let-data [ngForOf]="pkgTable.data">\r\n                                <tr>\r\n                                    <td nzShowExpand [(nzExpand)]="data.expand" width="5%"></td>\r\n                                    <td width="80%">{{data.projectName}}</td>\r\n                                    <td width="15%">\r\n                                        <a href="javascript:void(0)" (click)="showBranchModal(2,data)">\u4fee\u6539</a>\r\n                                        <a href="javascript:void(0)" nz-popconfirm class="ml-8" nzTitle="\u786e\u5b9a\u5220\u9664\u5927\u9879\u53ca\u5176\u5b50\u9879\u5417?"\r\n                                            nzOkText=\'\u5220\u9664\' (nzOnConfirm)="delBranchItem(data.id)">\u5220\u9664</a>\r\n                                        <a href="javascript:void(0)" class="ml-8" [routerLink]="[\'./../add\']"\r\n                                            [queryParams]="{versionName:pkg.versionName,versionId:pkg.versionId,\r\n                                       parentId:data.id,sid:sid}" [skipLocationChange]="true">\u6dfb\u52a0</a>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr [nzExpand]="data.expand">\r\n                                    <td width="5%"></td>\r\n                                    <td colspan="7" width="80%">\r\n                                        <nz-table #innerTable [nzData]="data.pkgInfo" nzSize="middle"\r\n                                            [nzFrontPagination]="false" [nzShowPagination]="false">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th width="20%">\u9879\u76ee\u540d\u79f0</th>\r\n                                                    <th width="20%">\u89c4\u683c</th>\r\n                                                    <th width="10%">\u5355\u4f4d</th>\r\n                                                    <th width="10%">\u62a5\u4ef7</th>\r\n                                                    <th width="20%">\u8bf4\u660e</th>\r\n                                                    <th width="10%">\u6210\u672c</th>\r\n                                                    <th width="10%">\u64cd\u4f5c</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of innerTable.data">\r\n                                <td nz-tooltip [nzTitle]="item.projectName" nzPlacement="topLeft">\r\n                                    {{item.projectName?item.projectName:\'--\'}}\r\n                                </td>\r\n                                <td nz-tooltip [nzTitle]="item.specifications" nzPlacement="topLeft">\r\n                                    {{item.specifications?item.specifications:\'--\'}}\r\n                                </td>\r\n                                <td>{{item.unit?item.unit:\'--\'}}</td>\r\n                                <td>{{(item.univalent?item.univalent:0)|number:\'1.2\'}}</td>\r\n                                <td nz-tooltip [nzTitle]="item.offerExplain" nzPlacement="topLeft">\r\n                                    {{item.offerExplain?item.offerExplain:\'--\'}}\r\n                                </td>\r\n                                <td>{{(item.primeCost?item.primeCost:0)|number:\'1.2\'}}</td>\r\n                                <td>\r\n                                    <a href="javascript:void(0)" nz-popconfirm nzTitle="\u786e\u5b9a\u5220\u9664\u8be5\u9879\u5417?" nzOkText=\'\u5220\u9664\'\r\n                                        (nzOnConfirm)="delBranchItem(item.id)">\u5220\u9664</a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                    </td>\r\n                    <td width="15%"></td>\r\n                    </tr>\r\n                    </ng-template>\r\n                    </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </nz-tab>\r\n            \x3c!---\u4ef7\u683c\u8303\u56f4----\x3e\r\n            <nz-tab nzTitle="\u4ef7\u683c\u8303\u56f4">\r\n                <div nz-row class="text-right">\r\n                    <button nz-button nzType="primary" (click)="showPriceModal()">\u6dfb\u52a0</button>\r\n                </div>\r\n                <div nz-row class="temp-warp">\r\n                    <nz-table #priceTable [nzData]="priceSource" [nzLoading]="loading" [nzFrontPagination]="true"\r\n                        [nzShowPagination]="true" [nzSize]="\'middle\'" [nzTotal]="total" [(nzPageIndex)]="pageNo"\r\n                        [(nzPageSize)]="pageSize">\r\n                        <thead>\r\n                            <tr>\r\n                                <th width="20%">\u4ef7\u683c</th>\r\n                                <th width="30%">\u9762\u79ef\uff08\u6700\u5c0f<\u33a1\u2264\u6700\u5927\uff09</th> <th width="25%">\u6237\u578b</th>\r\n                                <th width="25%">\u64cd\u4f5c</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let data of priceTable.data;let i = index">\r\n                                <td>{{(data.price?data.price:0)|number:\'1.2\'}}</td>\r\n                                <td>{{data.houseArea_start + \'\u33a1-\' + data.houseArea_end + \'\u33a1\'}}</td>\r\n                                <td>{{data.roomType}}</td>\r\n                                <td>\r\n                                    <a href="javascript:void(0)" *ngIf="i+((pageNo-1)*pageSize) !== 0"\r\n                                        (click)="handleOperate(\'stick\',data.id)">\u7f6e\u9876</a>\r\n                                    <a href="javascript:void(0)" class="ml-8" *ngIf="i+((pageNo-1)*pageSize) !== 0"\r\n                                        (click)="handleOperate(\'stick\',data.id,i,true)">\u4e0a\u79fb</a>\r\n                                    <a href="javascript:void(0)" *ngIf="i+((pageNo-1)*pageSize) < total-1"\r\n                                        [ngClass]="{\'ml-8\':i+((pageNo-1)*pageSize) !== 0}"\r\n                                        (click)="handleOperate(\'stick\',data.id,i,false)">\u4e0b\u79fb</a>\r\n                                    <a href="javascript:void(0)" class="ml-8"\r\n                                        (click)="handleOperate(\'delete\',data.id)">\u5220\u9664</a>\r\n                                    <a href="javascript:void(0)" class="ml-8" (click)="showPriceModal(data)">\u7f16\u8f91</a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </nz-tab>\r\n            \x3c!---\u8bf4\u660e---\x3e\r\n            <nz-tab nzTitle="\u8bf4\u660e">\r\n                <div nz-row nzSpan="24">\r\n                    <div class="explain">\r\n                        <textarea rows="10" nz-input [(ngModel)]="info" maxlength="5000"></textarea>\r\n                        <span class="count" *ngIf="info && info.length > 0"><span>{{info.length}}</span>/5000</span>\r\n                    </div>\r\n                    <div nz-row nzSpan="24" class="text-right mt-16">\r\n                        <button nz-button [nzType]="\'primary\'" (click)="handleSaveExplain()">\u4fdd\u5b58</button>\r\n                    </div>\r\n                </div>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n    </div>\r\n</div>\r\n\r\n<nz-modal [(nzVisible)]="isPriceVisible" [nzTitle]="priceTitle" [nzFooter]="null" (nzOnCancel)="handlePriceCancel()">\r\n    <form nz-form [formGroup]="priceForm" class="temp-modal">\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="6">\u4e00\u53e3\u4ef7</nz-form-label>\r\n            <nz-form-control [nzSpan]="16">\r\n                <input nz-input name="price" formControlName="price" [(ngModel)]="price" maxlength="10"\r\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u4ef7\u683c" />\r\n                <nz-form-explain *ngIf="priceForm.get(\'price\').dirty && priceForm.get(\'price\').errors">\r\n                    <ng-container *ngIf="priceForm.get(\'price\').hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="priceForm.get(\'price\').hasError(\'price\')">\r\n                        \u53ea\u80fd\u8f93\u5165\u6570\u5b57\u5e76\u4e14\u5c0f\u6570\u53ea\u80fd\u4fdd\u75592\u4f4d\r\n                    </ng-container>\r\n                </nz-form-explain>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="6">\u9002\u7528\u9762\u79ef\u8303\u56f4</nz-form-label>\r\n            <nz-form-control [nzSpan]="16">\r\n                <div nz-col nzSpan="11">\r\n                    <input nz-input type="text" name="areaStart" formControlName="areaStart" [(ngModel)]="areaStart"\r\n                        maxlength="10" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u8303\u56f4\u5f00\u59cb\u503c" />\r\n                    <nz-form-explain *ngIf="priceForm.get(\'areaStart\').dirty && priceForm.get(\'areaStart\').errors">\r\n                        <ng-container *ngIf="priceForm.get(\'areaStart\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="priceForm.get(\'areaStart\').hasError(\'price\')">\r\n                            \u6700\u5c0f\u9762\u79ef\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u5c0f\u6570\u4fdd\u75592\u4f4d\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </div>\r\n                <div nz-col nzSpan="2" class="text-center">--</div>\r\n                <div nz-col nzSpan="11">\r\n                    <input nz-input type="text" name="areaEnd" formControlName="areaEnd" [(ngModel)]="areaEnd"\r\n                        maxlength="10" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u8303\u56f4\u7ed3\u675f\u503c" />\r\n                    <nz-form-explain *ngIf="priceForm.get(\'areaEnd\').dirty && priceForm.get(\'areaEnd\').errors">\r\n                        <ng-container *ngIf="priceForm.get(\'areaEnd\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="priceForm.get(\'areaEnd\').hasError(\'price\')">\r\n                            \u6700\u5927\u9762\u79ef\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u5c0f\u6570\u4fdd\u75592\u4f4d\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </div>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        \x3c!--\u6237\u578b--\x3e\r\n\r\n        <nz-form-item *ngFor="let control of hxArray">\r\n            <nz-form-label [nzSpan]="6">\u9002\u7528\u6237\u578b</nz-form-label>\r\n            \x3c!--<nz-form-label [nzSpan]="6" *ngIf="i !== 0"></nz-form-label>--\x3e\r\n            <nz-form-control [nzSpan]="16">\r\n                <div nz-col nzSpan="5" class="text-right">\u5367\u5ba4\uff1a</div>\r\n                <div nz-col nzSpan="6">\r\n                    <input nz-input [formControlName]="control.room" maxlength="6"\r\n                        oninput="this.value=this.value.replace(/\\D/g,\'\')" onpaste="return false;"\r\n                        placeholdder="\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf" />\r\n                    <nz-form-explain *ngIf="priceForm.get(control.room)?.dirty && priceForm.get(control.room)?.errors">\r\n                        <ng-container *ngIf="priceForm.get(control.room).hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="priceForm.get(control.room).hasError(\'max\')">\r\n                            \u6700\u591a\u4e3a99\u5ba4\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </div>\r\n                <div nz-col nzSpan="5" class="text-right">\u536b\u751f\u95f4\uff1a</div>\r\n                <div nz-col nzSpan="6">\r\n                    <input nz-input [formControlName]="control.bath" maxlength="6"\r\n                        oninput="this.value=this.value.replace(/\\D/g,\'\')" onpaste="return false;"\r\n                        placeholdder="\u8bf7\u8f93\u5165\u536b\u751f\u95f4\u6570\u91cf" />\r\n                </div>\r\n\r\n                <nz-form-explain *ngIf="priceForm.get(control.bath)?.dirty && priceForm.get(control.bath)?.errors">\r\n                    <ng-container *ngIf="priceForm.get(control.bath).hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="priceForm.get(control.bath).hasError(\'max\')">\r\n                        \u6700\u591a\u4e3a99\u536b\r\n                    </ng-container>\r\n                </nz-form-explain>\r\n                \x3c!--<div nz-col nzSpan="2" class="text-right">--\x3e\r\n                \x3c!--<a href="javascript:void(0)" (click)="addHx()" *ngIf="i === 0">--\x3e\r\n                \x3c!--<i nz-icon type="plus-circle" class="circle"></i></a>--\x3e\r\n                \x3c!--<a href="javascript:void(0)" (click)="delHx(control,i,$event)" *ngIf="i !== 0">--\x3e\r\n                \x3c!--<i nz-icon type="minus-circle" class="circle del"></i>--\x3e\r\n                \x3c!--</a>--\x3e\r\n                \x3c!--</div> --\x3e\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n        <div class="btns">\r\n            <button nz-button nzType="default" (click)="handlePriceCancel()">\u5173\u95ed</button>\r\n            <button nz-button nzType="primary" (click)="handlePriceOk($event)" [disabled]="!priceForm.valid">\u63d0\u4ea4</button>\r\n        </div>\r\n    </form>\r\n</nz-modal>\r\n\r\n\x3c!---\u4fee\u6539\u6574\u88c5\u53c2\u6570---\x3e\r\n<nz-modal [(nzVisible)]="isVisible" nzTitle="\u7f16\u8f91\u6574\u88c5" [nzFooter]="null" (nzOnCancel)="handleCancel()">\r\n    <form nz-form [formGroup]="wholeForm" class="temp-modal">\r\n        <ul>\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]="6">\u6574\u88c5\u540d\u79f0</nz-form-label>\r\n                <nz-form-control [nzSpan]="16">\r\n                    <input nz-input name="packageName" formControlName="packageName" [(ngModel)]="packageName"\r\n                        maxlength="30" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u6574\u88c5\u540d\u79f0" />\r\n                    <nz-form-explain *ngIf="wholeForm.get(\'packageName\').dirty && wholeForm.get(\'packageName\').errors">\r\n                        <ng-container *ngIf="wholeForm.get(\'packageName\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="wholeForm.get(\'packageName\').hasError(\'maxLength\')">\r\n                            \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\r\n                        </ng-container>\r\n\r\n                    </nz-form-explain>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]="6">\u5907\u6ce8</nz-form-label>\r\n                <nz-form-control [nzSpan]="16" class="textarea">\r\n                    <textarea nz-input type="text" name="remark" [(ngModel)]="remark" formControlName="remark"\r\n                        maxlength="300" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f" rows="5"></textarea>\r\n                    <span class="count" *ngIf="remark && remark.length > 0"><span>{{remark.length}}</span>/300</span>\r\n                    <nz-form-explain *ngIf="wholeForm.get(\'remark\').dirty && wholeForm.get(\'remark\').errors">\r\n                        <ng-container *ngIf="wholeForm.get(\'remark\').hasError(\'maxLength\')">\r\n                            \u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n            <div class="btns">\r\n                <button nz-button nzType="default" (click)="handleCancel()">\u5173\u95ed</button>\r\n                <button nz-button nzType="primary" (click)="handleOk($event)" [disabled]="!wholeForm.valid">\u63d0\u4ea4\r\n                </button>\r\n            </div>\r\n\r\n        </ul>\r\n    </form>\r\n</nz-modal>\r\n\r\n\x3c!---\u4fee\u6539\u7248\u672c---\x3e\r\n<nz-modal [(nzVisible)]="isVersionVisible" nzTitle="\u9009\u62e9\u7248\u672c" [nzFooter]="null" (nzOnCancel)="handleVersionCancel()">\r\n    <div nz-row>\r\n        <p nz-col nzSpan="16" nzOffset="5" *ngIf="pkg && pkg.versionId > 0">\r\n            <nz-alert nzType="warning" nzMessage="\u4fee\u6539\u7248\u672c\u5c06\u5220\u9664\u5df2\u5f55\u5165\u7684\u9879\u76ee\u6570\u636e"></nz-alert>\r\n        </p>\r\n    </div>\r\n    <form nz-form [formGroup]="typeForm" class="temp-modal">\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="5">\u9009\u62e9\u7248\u672c</nz-form-label>\r\n            <nz-form-control [nzSpan]="16">\r\n                <nz-select name="selectType" [ngModel]="selectType" formControlName="selectType" placeholder="\u8bf7\u9009\u62e9\u7248\u672c">\r\n                    <nz-option *ngFor="let i of versionList" [nzValue]="i" [nzLabel]="i.versionName"></nz-option>\r\n                </nz-select>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n        <div class="btns">\r\n            <button nz-button nzType="default" (click)="handleVersionCancel()">\u5173\u95ed</button>\r\n            <button nz-button nzType="primary" (click)="handleVersionOk($event)" [disabled]="!typeForm.valid">\r\n                \u63d0\u4ea4\r\n            </button>\r\n        </div>\r\n    </form>\r\n</nz-modal>\r\n\r\n\x3c!---\u5927\u9879\u7684\u6dfb\u52a0\u4e0e\u4fee\u6539---\x3e\r\n<nz-modal [(nzVisible)]="isBranchVisible" [nzTitle]="branchTitle" [nzFooter]="null" (nzOnCancel)="handleBranchCancel()">\r\n    <form nz-form [formGroup]="branchForm" class="temp-modal">\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="5">\u5927\u9879\u540d\u79f0</nz-form-label>\r\n            <nz-form-control [nzSpan]="16">\r\n                <input nz-input name="branchName" formControlName="branchName" [(ngModel)]="branchName" maxlength="30"\r\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5927\u9879\u540d\u79f0" />\r\n                <nz-form-explain *ngIf="branchForm.get(\'branchName\').dirty && branchForm.get(\'branchName\').errors">\r\n                    <ng-container *ngIf="branchForm.get(\'branchName\').hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="branchForm.get(\'branchName\').hasError(\'maxLength\')">\r\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\r\n                    </ng-container>\r\n\r\n                </nz-form-explain>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n            <div class="btns">\r\n                    <button nz-button nzType="default" (click)="handleBranchCancel()">\u5173\u95ed</button>\r\n                    <button nz-button nzType="primary" (click)="handleBranchOk($event)"\r\n                        [disabled]="!branchForm.valid">\u63d0\u4ea4\r\n                    </button>   \r\n            </div>\r\n    </form>\r\n</nz-modal>'},Iov0:function(n,t){n.exports="<router-outlet></router-outlet>"},LkDw:function(n,t){n.exports="<router-outlet></router-outlet>"},OoCP:function(n,t,e){"use strict";e.r(t);var a=e("CcnG"),r=e("Ip0R"),o=e("UFnY"),i=e("ZYCi"),l=e("Fgki"),c=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},s=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},d=function(){function n(){}return n.prototype.ngOnInit=function(){},n=c([Object(a.Component)({selector:"rev-temp-base",template:e("UJje")}),s("design:paramtypes",[])],n)}(),p=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},m=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},h=function(){function n(){}return n.prototype.ngOnInit=function(){},n.prototype.handleName=function(n){this.buttons[0].name},n=p([Object(a.Component)({selector:"rev-temp-meal",template:e("E5GA"),styles:[e("o/eR"),e("Zuhx")]}),m("design:paramtypes",[])],n)}(),f=e("gIcY"),g=e("OHOg"),u=e("5aMp"),z=e("Ouoq"),b=e("f8yE"),v=e("FoyA"),y=e("lcOY"),x=e("EJak"),S=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},I=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},w=function(){function n(n,t,e,a){this.req=n,this.warn=t,this.fb=e,this.user=a,this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.loading=!1,this.hxArray=[],this.isVisible=!1}return n.prototype.ngOnInit=function(){this.title="\u5957\u9910\u7ba1\u7406",this.buttons=[{name:"\u65b0\u5efa",color:"btn-primary"}],this.changeData(),this.mealForm=this.fb.group({mealName:["",[f.i.required,f.i.maxLength(30)]],price:["",[f.i.required,x.q]],areaStart:["",[f.i.required,x.q]],areaEnd:["",[f.i.required,x.q]],remark:["",[f.i.maxLength(300)]]})},n.prototype.changeData=function(){var n=this;n.loading=!0,this.req.doPost({url:"packageList",data:{pageNo:this.pageNo,pageSize:this.pageSize,packageType:3},success:function(t){n.loading=!1,t&&200==t.code?(t.data&&t.data.pageSet&&t.data.pageSet.length>0&&t.data.pageSet.forEach(function(n){n.roomType=JSON.parse(n.roomType)}),n.dataSource=t.data.pageSet,n.total=t.data.total):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.handleOperate=function(n,t){var e,a=this,r={id:t.id};switch(n){case"del":e="packageUpd",r.state=2;break;case"on":e="mealRack",r.state=1;break;case"off":e="mealRack",r.state=0}this.req.doPost({url:e,data:r,success:function(n){200===n.code?(a.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),a.changeData()):a.warn.onMsgError(n.msg||b.a.SUCCESS.DATA)}})},n.prototype.getCompileId=function(n){return Object(v.e)(n)},n.prototype.handleName=function(n){n===this.buttons[0].name&&this.showModal()},n.prototype.showModal=function(){this.mealForm.reset(),this.hxArray=[],this.mealName="",this.price=null,this.areaStart=null,this.areaEnd=null,this.remark="",this.addHx(),this.isVisible=!0},n.prototype.addHx=function(){var n=this.hxArray.length>0?this.hxArray[this.hxArray.length-1].id+1:0,t={id:n,room:"room"+n,bath:"bath"+n},e=this.hxArray.push(t);this.mealForm.addControl(this.hxArray[e-1].room,new f.b(null,[f.i.required,f.i.max(99)])),this.mealForm.addControl(this.hxArray[e-1].bath,new f.b(null,[f.i.required,f.i.max(99)]))},n.prototype.delHx=function(n,t,e){e.stopPropagation(),e.preventDefault(),this.hxArray.length>1&&(this.mealForm.removeControl(n.room),this.mealForm.removeControl(n.bath),this.hxArray.splice(t,1))},n.prototype.handleOk=function(){var n=this;if(n.mealForm.valid)if(Number(n.areaStart)<=Number(n.areaEnd)){var t={companyId:this.user.getCompanyId(),packageType:3,packageName:n.mealName,price:n.price,houseArea:n.areaStart+"\u33a1-"+this.areaEnd+"\u33a1",roomType:n.getHxByParams(this.mealForm.value),remark:n.remark};n.req.doPost({url:"packageUpd",data:t,success:function(t){n.handleCancel(),t&&200==t.code?n.changeData():n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})}else n.warn.onMsgWarn(b.a.AREAS)},n.prototype.handleCancel=function(){this.isVisible=!1},n.prototype.getHxByParams=function(n){var t=[];return n&&this.hxArray.forEach(function(e){t.push(n[e.room]+"\u5ba4"+n[e.bath]+"\u536b")}),t},n.prototype.btoa=function(n){return Object(v.c)(n)},n=S([Object(a.Component)({selector:"rev-temp-meal-list",template:e("uBQ0"),styles:[e("o/eR"),e("y9dv")]}),I("design:paramtypes",[g.a,u.a,f.a,z.a])],n)}(),k=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},E=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},A=function(){function n(n,t,e,a,r){this.req=n,this.warn=t,this.user=e,this.activateRoute=a,this.fb=r,this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.pageType=1,this.tempType=1,this.index=0,this.editVisible=!1,this.editName="",this.editRemark="",this.isVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.activateRoute.queryParams.subscribe(function(t){t&&(n.state=Object(v.b)(t.state),n.versionType=Object(v.b)(t.versionType),n.versionId=Object(v.b)(t.sid),n.pageType=Number(t.pageType),n.tempType=Number(t.tempType),n.loadMouldInfo(n.versionId),n.loadData(),n.getCategory(n.versionId))}),this.title=3===this.tempType?"\u57fa\u88c5\u7248\u672c\u8be6\u60c5":(1===this.tempType?"\u5957\u9910\u57fa\u88c5":"\u6574\u88c5\u57fa\u88c5")+"\u8be6\u60c5",this.buttons=[{name:"\u4e0b\u8f7d\u7248\u672c"}],this.editForm=this.fb.group({editName:["",[f.i.required,f.i.maxLength(30)]],editRemark:["",[f.i.maxLength(300)]]}),this.itemForm=this.fb.group({category:["",[f.i.required]],projectName:["",[f.i.required,f.i.maxLength(30)]],specifications:["",[f.i.required,f.i.maxLength(30)]],unit:["",[f.i.required,f.i.maxLength(30)]],univalent:["",[f.i.required,x.q]],primeCost:["",[f.i.required,x.q]],offerExplain:["",[f.i.maxLength(300)]]})},n.prototype.handleEvent=function(n){n===this.buttons[0].name&&this.loadDownExcel()},n.prototype.loadDownExcel=function(){var n=this;n.versionId&&n.versionType&&n.req.doPostDown({url:"downExl",data:{id:n.versionId,versionType:n.versionType},success:function(t){var e=new Blob([t],{type:"application/vnd.ms-excel"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(e);else{var a=document.createElement("a");a.download=n.versionName.replace(/(^\s*)|(\s*$)/g,"")+".xls",a.href=URL.createObjectURL(e),a.click()}}})},n.prototype.loadMouldInfo=function(n){var t=this;n&&this.req.doPost({url:"offerMouldInfo",data:{id:n},success:function(n){200===n.code?(t.versionName=n.data.versionName,t.remark=n.data.remark,t.info=n.data.offerExplain):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.loadData=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=this;if(n&&n.length>0&&(e.pageNo=y.b.PAGE.PAGE_NO),e.versionId){var a={pageNo:e.pageNo,pageSize:e.pageSize,versionId:e.versionId,findAll:1};e.user.getCompanyId()&&(a.companyId=e.user.getCompanyId()),e.projectName&&(a.projectName=e.projectName),e.category&&(a.category=e.category),e.req.doPost({url:"mouldInfoList",data:a,success:function(n){n&&200===n.code?(e.dataSource=n.data.pageSet,e.total=n.data.total):e.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.getCategory=function(n){var t=this;n&&this.req.doPost({url:"categoryList",data:{versionId:n},success:function(n){n&&200===n.code?t.categoryList=n.data:t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.handleDel=function(n){var t=this;n&&t.req.doPost({url:"mouldInfoUpd",data:{id:n,state:2},success:function(n){n&&200===n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.loadData()):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.showModal=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.editVisible=!0,this.editName=n,t&&t.length>0&&(this.editRemark=t[0])},n.prototype.handleCancel=function(){this.editVisible=!1},n.prototype.handleOk=function(){var n=this;if(n.editForm.value){var t={id:n.versionId};t.versionName=n.editForm.value.editName.trim(),1===n.pageType?t.remark=n.editForm.value.editRemark.trim():t.remark="",n.req.doPost({url:"mouldUpd",data:t,success:function(e){n.handleCancel(),e&&200==e.code?(n.remark=t.editRemark,n.versionName=t.editName,n.warn.onMsgSuccess(e.msg||b.a.SUCCESS.DATA),n.loadMouldInfo(n.versionId)):n.warn.onMsgError(e.msg||b.a.FAIL.DATA)}})}},n.prototype.showEditModal=function(n){this.isVisible=!0,this.item=n},n.prototype.handleItemOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.itemForm.valid){var e=t.itemForm.value;t.item.id&&(e.id=t.item.id,t.req.doPost({url:"mouldInfoUpd",data:e,success:function(n){t.handleItemCancel(),n&&200==n.code?t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}}))}},n.prototype.handleItemCancel=function(){this.isVisible=!1,this.item=null,this.loadData()},n.prototype.tabChange=function(n){this.index=n.index},n.prototype.handleSaveExplain=function(){var n=this;n.info.trim()?this.req.doPost({url:"mouldUpd",data:{id:n.versionId,offerExplain:n.info},success:function(t){t&&200===t.code?(n.loadMouldInfo(n.versionId),n.warn.onMsgSuccess(t.msg||b.a.SUCCESS.DATA)):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}}):n.warn.onMsgWarn(b.a.EMPTY)},n=k([Object(a.Component)({selector:"rev-temp-dtl",template:e("dE6a"),styles:[e("o/eR")]}),E("design:paramtypes",[g.a,u.a,z.a,i.a,f.a])],n)}(),F=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},T=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},C=function(){function n(n,t,e,a,r){this.activatedRoute=n,this.req=t,this.fb=e,this.warn=a,this.user=r,this.isVisible=!1,this.hxArray=[],this.dataSource=[],this.isVersionVisible=!1,this.versionList=[],this.isBranchVisible=!1}return n.prototype.ngOnInit=function(){var n=this;this.activatedRoute.queryParams.subscribe(function(t){t&&t.sid&&(n.sid=Object(v.b)(t.sid),n.loadData(n.sid))}),this.mealForm=this.fb.group({mealName:["",[f.i.required,f.i.maxLength(30)]],price:["",[f.i.required,x.q]],areaStart:["",[f.i.required,x.q]],areaEnd:["",[f.i.required,x.q]],remark:["",[f.i.maxLength(300)]]}),this.typeForm=this.fb.group({selectType:["",[f.i.required]]}),this.branchForm=this.fb.group({branchName:["",[f.i.required,f.i.maxLength(30)]]})},n.prototype.loadData=function(n){var t=this;n&&t.req.doPost({url:"packageInfo",data:{id:n},success:function(n){n&&200===n.code?(n.data.pkg.roomType=JSON.parse(n.data.pkg.roomType),t.pkg=n.data.pkg,n.data&&n.data.pkg&&n.data.pkg.offerExplain&&(t.info=n.data.pkg.offerExplain),n.data&&n.data.pkgInfoVo&&n.data.pkgInfoVo.length>0?(t.dataSource=n.data.pkgInfoVo,t.dataSource.forEach(function(n){n.expand=!0})):t.dataSource=[],t.setTitleParams(n.data.pkg)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.showModal=function(n){this.isVisible=!0,this.setTitleParams(n)},n.prototype.setTitleParams=function(n){this.price=n.price,this.mealName=n.packageName,this.areaStart=n.houseArea.split("-")[0].split("\u33a1")[0],this.areaEnd=n.houseArea.split("-")[1].split("\u33a1")[0],this.remark=n.remark,this.hxArray=[],this.getHxArray(n.roomTypeList)},n.prototype.getHxArray=function(n){if(n&&n.length>0)for(var t=0;t<n.length;t++){var e={i:t,room:"room"+t,bath:"bath"+t},a=this.hxArray.push(e);this.mealForm.addControl(this.hxArray[a-1].room,new f.b(n[t].room,[f.i.required,f.i.max(99)])),this.mealForm.addControl(this.hxArray[a-1].bath,new f.b(n[t].toilet,[f.i.required,f.i.max(99)]))}else this.addHx()},n.prototype.handleCancel=function(){this.isVisible=!1,this.mealForm.reset()},n.prototype.handleOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.mealForm.valid&&t.sid)if(Number(t.areaStart)<Number(t.areaEnd)){var e={companyId:this.user.getCompanyId(),packageType:3,packageName:t.mealName,price:t.price,houseArea:t.areaStart+"\u33a1-"+this.areaEnd+"\u33a1",roomType:t.getHxByParams(this.mealForm.value),remark:t.remark,id:t.sid};t.req.doPost({url:"packageUpd",data:e,success:function(n){t.handleCancel(),n&&200==n.code?t.loadData(t.sid):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}else t.warn.onMsgWarn(b.a.AREAS)},n.prototype.addHx=function(){var n=this.hxArray.length>0?this.hxArray[this.hxArray.length-1].id+1:0,t={id:n,room:"room"+n,bath:"bath"+n},e=this.hxArray.push(t);this.mealForm.addControl(this.hxArray[e-1].room,new f.b(null,[f.i.required,f.i.max(99)])),this.mealForm.addControl(this.hxArray[e-1].bath,new f.b(null,[f.i.required,f.i.max(99)]))},n.prototype.delHx=function(n,t,e){e.stopPropagation(),e.preventDefault(),this.hxArray.length>1&&(this.mealForm.removeControl(n.room),this.mealForm.removeControl(n.bath),this.hxArray.splice(t,1))},n.prototype.getHxByParams=function(n){var t=[];return n&&this.hxArray.forEach(function(e){t.push(n[e.room]+"\u5ba4"+n[e.bath]+"\u536b")}),t},n.prototype.loadVersionData=function(){var n=this;return new Promise(function(t,e){n.req.doPost({url:"mouldNameList",data:{versionType:3},success:function(n){n&&200===n.code?t(n.data):e(n.msg||b.a.FAIL.DATA)}})})},n.prototype.showVersionModal=function(){var n=this;this.isVersionVisible=!0,this.versionList&&0==this.versionList.length?this.loadVersionData().then(function(t){n.versionList=t,n.initSelectType(n.versionList)}).catch(function(t){n.warn.onMsgError(t)}):this.initSelectType(this.versionList)},n.prototype.initSelectType=function(n){var t=this;if(n&&n.length>0&&this.pkg&&this.pkg.id>0){var e=n.filter(function(n){return n.id===t.pkg.versionId});e&&e.length>0&&(this.selectType=e[0])}},n.prototype.handleVersionCancel=function(){this.isVersionVisible=!1,this.typeForm.reset()},n.prototype.handleVersionOk=function(n){console.log(this.typeForm),n.stopPropagation(),n.preventDefault();var t=this;if(t.typeForm.valid){var e={id:t.sid,versionName:t.typeForm.value.selectType.versionName,versionId:t.typeForm.value.selectType.id};t.req.doPost({url:"packageUpd",data:e,success:function(n){n&&200==n.code?(t.handleVersionCancel(),t.loadData(t.sid)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.showBranchModal=function(n){void 0===n&&(n=1);for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.isBranchVisible=!0,this.branchTitle=1===n?"\u6dfb\u52a0\u5927\u9879":"\u4fee\u6539\u5927\u9879",t&&t.length>0?(this.branchItem=t[0],this.branchName=this.branchItem.projectName):this.branchItem=null},n.prototype.handleBranchOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.branchForm.valid){var e={};e=t.branchItem&&t.branchItem.id?{id:t.branchItem.id,projectName:t.branchForm.value.branchName}:{projectName:t.branchForm.value.branchName,versionType:3,companyId:t.user.getCompanyId(),packageId:t.sid},t.req.doPost({url:t.branchItem&&t.branchItem.id>0?"packageInfoItemUpdate":"packageInfoParentAdd",data:e,success:function(n){t.handleBranchCancel(),n&&200==n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.loadData(t.sid)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.handleBranchCancel=function(){this.isBranchVisible=!1,this.branchForm.reset()},n.prototype.delBranchItem=function(n){var t=this;n&&this.req.doPost({url:"packageInfoRemove",data:{id:n},success:function(n){n&&200==n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.loadData(t.sid)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.handleSaveExplain=function(){var n=this;n.sid&&n.req.doPost({url:"offerExplainUpd",data:{mouldPkgId:n.sid,offerExplain:n.info.trim()},success:function(t){t&&200==t.code?n.warn.onMsgSuccess(t.msg||b.a.SUCCESS.DATA):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n=F([Object(a.Component)({selector:"rev-temp-meal-edit",template:e("yPJz"),styles:[e("o/eR"),e("9vDS")]}),T("design:paramtypes",[i.a,g.a,f.a,u.a,z.a])],n)}(),N=e("t/Na"),P=e("PLN7"),O=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},j=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},D=function(){function n(n,t,e,a){this.httpClient=n,this.apiService=t,this.req=e,this.warn=a,this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.httpOptions={withCredentials:!0}}return n.prototype.ngOnInit=function(){this.title="\u57fa\u88c5\u7ba1\u7406",this.loadData(),this.buttons=[{name:"\u4e0b\u8f7d\u6a21\u677f",link:y.b.TEMP_URL.BASE},{name:"\u6279\u91cf\u63d0\u4ea4"}]},n.prototype.loadData=function(){var n=this;this.req.doPost({url:"mouldList",data:{pageNo:this.pageNo,pageSize:this.pageSize,versionType:2},success:function(t){200===t.code?(n.dataSet=t.data.pageSet,n.total=t.data.total):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.handleEvent=function(n){if(n===this.buttons[0].name){var t=document.createElement("a");t.href=this.buttons[0].link,t.click()}else document.getElementById("import").click()},n.prototype.handleFileChange=function(n){var t=this,e=n.target.files[0],a=new FormData;a.append("file",e),a.append("versionType","2"),t.httpClient.post(this.apiService.getUrl("upExl"),a,t.httpOptions).subscribe(function(n){200===n.code?t.loadData():t.warn.onMsgError(n.msg||b.a.FAIL.DATA)},function(n){t.warn.onMsgError(b.a.FAIL.DATA)}),t.uploadFile.nativeElement.value=""},n.prototype.handleOperate=function(n,t){var e=this,a={id:t.id},r="mouldUpd";switch(n){case"del":r="mouldUpd",e.pageNo=y.b.PAGE.PAGE_NO,a.state=2;break;case"def":r="mouldUpd",a.defaultVsersion=1;break;case"on":r="baseRack",a.state=1;break;case"off":r="baseRack",a.state=0}e.req.doPost({url:r,data:a,success:function(n){200===n.code?(e.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),e.loadData()):e.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.getCompileId=function(n){return Object(v.e)(n)},n.prototype.btoa=function(n){return Object(v.c)(n)},O([Object(a.ViewChild)("uploadFile"),j("design:type",Object)],n.prototype,"uploadFile",void 0),n=O([Object(a.Component)({selector:"rev-temp-base-list",template:e("cttJ"),styles:[e("o/eR"),e("YN7F")]}),j("design:paramtypes",[N.c,P.a,g.a,u.a])],n)}(),M=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},L=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},R=function(){function n(){}return n.prototype.ngOnInit=function(){},n=M([Object(a.Component)({selector:"rev-temp-meal-base",template:e("Iov0"),styles:[e("b0xJ")]}),L("design:paramtypes",[])],n)}(),q=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},V=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},G=function(){function n(n,t,e,a){this.httpClient=n,this.apiService=t,this.req=e,this.warn=a,this.buttons=[],this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.dataSource=[],this.httpOptions={withCredentials:!0}}return n.prototype.ngOnInit=function(){this.title="\u5957\u88c5\u57fa\u88c5\u7ba1\u7406",this.buttons=[{name:"\u4e0b\u8f7d\u6a21\u677f",link:y.b.TEMP_URL.BASE},{name:"\u6279\u91cf\u5bfc\u5165"}],this.changeData()},n.prototype.changeData=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t&&t.length>0&&(this.pageNo=y.b.PAGE.PAGE_NO),this.req.doPost({url:"mouldList",data:{pageNo:this.pageNo,pageSize:this.pageSize,versionType:3},success:function(t){t&&200===t.code?(n.dataSource=t.data.pageSet,n.total=t.data.total):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.handleEvent=function(n){if(n===this.buttons[0].name){var t=document.createElement("a");t.href=this.buttons[0].link,t.click()}else document.getElementById("import").click()},n.prototype.handleFileChange=function(n){var t=this,e=n.target.files[0],a=new FormData;a.append("file",e),a.append("versionType","3"),t.httpClient.post(t.apiService.getUrl("upExl"),a,this.httpOptions).subscribe(function(n){n&&200===n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.changeData(!0)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)},function(n){t.warn.onMsgWarn(n||b.a.ERROR_TEXT)}),t.uploadFile.nativeElement.value=""},n.prototype.handleOperate=function(n,t){var e=this,a={id:t.id},r="mouldUpd";switch(n){case"del":r="mouldUpd",e.pageNo=y.b.PAGE.PAGE_NO,a.state=2;break;case"def":r="mouldUpd",a.defaultVsersion=1;break;case"on":r="mealBaseRack",a.state=1;break;case"off":r="mealBaseRack",a.state=0}this.req.doPost({url:r,data:a,success:function(n){n&&200===n.code?(e.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),e.changeData()):e.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.getCompileId=function(n){return Object(v.e)(n)},n.prototype.btoa=function(n){return Object(v.c)(n)},q([Object(a.ViewChild)("uploadFile"),V("design:type",Object)],n.prototype,"uploadFile",void 0),n=q([Object(a.Component)({selector:"rev-temp-meal-base-list",template:e("wqfD"),styles:[e("bMZ7")]}),V("design:paramtypes",[N.c,P.a,g.a,u.a])],n)}(),B=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},U=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},_=function(){function n(){}return n.prototype.ngOnInit=function(){},n=B([Object(a.Component)({selector:"rev-temp-whole",template:e("Rd2J"),styles:[e("S1U0")]}),U("design:paramtypes",[])],n)}(),H=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},$=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},J=function(){function n(n,t,e,a){this.req=n,this.warn=t,this.fb=e,this.user=a,this.dataSource=[],this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.loading=!1,this.isVisible=!1}return n.prototype.ngOnInit=function(){this.title="\u6574\u88c5\u7ba1\u7406",this.buttons=[{name:"\u65b0\u5efa",color:"btn-primary"}],this.wholeForm=this.fb.group({packageName:["",[f.i.required,f.i.maxLength(30)]],remark:["",[f.i.maxLength(300)]]}),this.changeData()},n.prototype.handleName=function(n){n===this.buttons[0].name&&this.showModal()},n.prototype.changeData=function(){var n=this;n.loading=!0,this.req.doPost({url:"packageList",data:{pageNo:this.pageNo,pageSize:this.pageSize,packageType:4},success:function(t){n.loading=!1,t&&200==t.code?(n.dataSource=t.data.pageSet,n.total=t.data.total):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.handleOperate=function(n,t){var e,a={id:t.id},r=this;switch(n){case"del":e="packageUpd",a.state=2,r.pageNo=y.b.PAGE.PAGE_NO;break;case"on":e="wholeRack",a.state=1;break;case"off":e="wholeRack",a.state=0}r.req.doPost({url:e,data:a,success:function(n){n&&200===n.code?(r.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),r.changeData()):r.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.showModal=function(){this.wholeForm.reset(),this.isVisible=!0},n.prototype.handleCancel=function(){this.isVisible=!1},n.prototype.handleOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.wholeForm.valid){var e=t.wholeForm.value;e.companyId=t.user.getCompanyId(),e.packageType=4,t.req.doPost({url:"packageUpd",data:e,success:function(n){t.handleCancel(),n&&200==n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.changeData()):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.getCompileId=function(n){return Object(v.e)(n)},n.prototype.btoa=function(n){return Object(v.c)(n)},n.prototype.copy=function(n){var t=this;this.req.doPost({url:"wholeBaseCopy",data:{id:n},success:function(n){n&&200==n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.changeData()):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n=H([Object(a.Component)({selector:"rev-temp-whole-list",template:e("lRI+"),styles:[e("o/eR"),e("r/I2")]}),$("design:paramtypes",[g.a,u.a,f.a,z.a])],n)}(),Z=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},W=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},Y=function(){function n(n,t,e,a,r){this.activatedRoute=n,this.req=t,this.fb=e,this.warn=a,this.user=r,this.isVisible=!1,this.dataSource=[],this.priceSource=[],this.total=0,this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.loading=!1,this.isVersionVisible=!1,this.versionList=[],this.isBranchVisible=!1,this.isPriceVisible=!1,this.priceTitle="\u65b0\u5efa\u6574\u88c5\u4ef7\u683c\u8303\u56f4",this.hxArray=[]}return n.prototype.ngOnInit=function(){var n=this;this.activatedRoute.queryParams.subscribe(function(t){t&&t.sid&&(n.sid=Object(v.b)(t.sid),n.loadData(n.sid))}),this.wholeForm=this.fb.group({packageName:["",[f.i.required,f.i.maxLength(30)]],remark:["",[f.i.maxLength(300)]]}),this.typeForm=this.fb.group({selectType:["",[f.i.required]]}),this.branchForm=this.fb.group({branchName:["",[f.i.required,f.i.maxLength(30)]]}),this.priceForm=this.fb.group({price:["",[f.i.required,x.q]],areaStart:["",[f.i.required,x.q]],areaEnd:["",[f.i.required,x.q]]})},n.prototype.loadData=function(n){var t=this;n&&t.req.doPost({url:"packageInfo",data:{id:n},success:function(n){n&&200===n.code?(t.pkg=n.data.pkg,n.data&&n.data.pkg&&n.data.pkg.offerExplain&&(t.info=n.data.pkg.offerExplain),n.data&&n.data.pkgInfoVo&&n.data.pkgInfoVo.length>0?(t.dataSource=n.data.pkgInfoVo,t.dataSource.forEach(function(n){n.expand=!0})):t.dataSource=[],t.setTitleParams(n.data.pkg)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.loadPriceData=function(n){var t=this;n&&(this.loading=!0,this.req.doPost({url:"priceList",data:{mouldPkgId:this.sid},success:function(n){t.loading=!1,n&&200===n.code?(t.priceSource=n.data,t.total=n.data.length):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}}))},n.prototype.showModal=function(n){this.isVisible=!0,this.setTitleParams(n)},n.prototype.setTitleParams=function(n){this.packageName=n.packageName,this.remark=n.remark},n.prototype.handleCancel=function(){this.isVisible=!1,this.wholeForm.reset()},n.prototype.handleOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.wholeForm.valid&&t.sid){var e=t.wholeForm.value;e.companyId=t.user.getCompanyId(),e.id=t.sid,e.packageType=4,t.req.doPost({url:"packageUpd",data:e,success:function(n){t.handleCancel(),n&&200==n.code?t.loadData(t.sid):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.addHx=function(){var n=this.hxArray.length>0?this.hxArray[this.hxArray.length-1].id+1:0,t={id:n,room:"room"+n,bath:"bath"+n},e=this.hxArray.push(t);this.priceForm.addControl(this.hxArray[e-1].room,new f.b(null,[f.i.required,f.i.max(99)])),this.priceForm.addControl(this.hxArray[e-1].bath,new f.b(null,[f.i.required,f.i.max(99)]))},n.prototype.delHx=function(n,t){this.hxArray.length>0&&(this.priceForm.removeControl(n.room),this.priceForm.removeControl(n.bath),this.hxArray.splice(t,1))},n.prototype.getHxByParams=function(n){var t=[];return n&&this.hxArray.forEach(function(e){t.push(n[e.room]+"\u5ba4"+n[e.bath]+"\u536b")}),t},n.prototype.loadVersionData=function(){var n=this;return new Promise(function(t,e){n.req.doPost({url:"mouldNameList",data:{versionType:4},success:function(n){n&&200===n.code?t(n.data):e(n.msg||b.a.FAIL.DATA)}})})},n.prototype.showVersionModal=function(){var n=this;this.isVersionVisible=!0,this.versionList&&0==this.versionList.length?this.loadVersionData().then(function(t){n.versionList=t,n.initSelectType(n.versionList)}).catch(function(t){n.warn.onMsgError(t)}):this.initSelectType(this.versionList)},n.prototype.initSelectType=function(n){var t=this;if(n&&n.length>0&&this.pkg&&this.pkg.id>0){var e=n.filter(function(n){return n.id===t.pkg.versionId});e&&e.length>0&&(this.selectType=e[0])}},n.prototype.handleVersionCancel=function(){this.isVersionVisible=!1,this.typeForm.reset()},n.prototype.handleVersionOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.typeForm.valid){var e={id:t.sid,versionName:t.typeForm.value.selectType.versionName,versionId:t.typeForm.value.selectType.id};t.req.doPost({url:"packageUpd",data:e,success:function(n){n&&200==n.code?(t.handleVersionCancel(),t.loadData(t.sid)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.showBranchModal=function(n){void 0===n&&(n=1);for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.isBranchVisible=!0,this.branchTitle=1===n?"\u6dfb\u52a0\u5927\u9879":"\u4fee\u6539\u5927\u9879",t&&t.length>0?(this.branchItem=t[0],this.branchName=this.branchItem.projectName):this.branchItem=null},n.prototype.handleBranchOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.branchForm.valid){var e={};e=t.branchItem&&t.branchItem.id?{id:t.branchItem.id,projectName:t.branchForm.value.branchName}:{projectName:t.branchForm.value.branchName,versionType:4,companyId:t.user.getCompanyId(),packageId:t.sid},t.req.doPost({url:t.branchItem&&t.branchItem.id>0?"packageInfoItemUpdate":"packageInfoParentAdd",data:e,success:function(n){t.handleBranchCancel(),n&&200==n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.loadData(t.sid)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}},n.prototype.handleBranchCancel=function(){this.isBranchVisible=!1,this.branchForm.reset()},n.prototype.delBranchItem=function(n){var t=this;n&&this.req.doPost({url:"packageInfoRemove",data:{id:n},success:function(n){n&&200==n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.loadData(t.sid)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.handleSaveExplain=function(){var n=this;this.sid&&this.req.doPost({url:"offerExplainUpd",data:{mouldPkgId:this.sid,offerExplain:this.info.trim()},success:function(t){t&&200==t.code?n.warn.onMsgSuccess(t.msg||b.a.SUCCESS.DATA):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.selectChange=function(n){1===n.index&&this.priceSource&&0==this.priceSource.length&&this.loadPriceData(this.sid)},n.prototype.handleOperate=function(n,t){for(var e=this,a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r];var o={id:t};a&&a.length>0&&(a[1]?o.toId=this.priceSource[(this.pageNo-1)*this.pageSize+a[0]-1].id:o.toId=this.priceSource[(this.pageNo-1)*this.pageSize+a[0]+1].id),t&&(this.loading=!0,this.req.doPost({url:this.getUrlByType(n),data:o,success:function(n){e.loading=!1,n&&200==n.code?e.loadPriceData(e.sid):e.warn.onMsgError(n.msg||b.a.FAIL.DATA)}}))},n.prototype.getUrlByType=function(n){switch(n){case"stick":return"priceSortUdp";case"delete":return"priceDelete";case"sort":return"priceSortUdp"}},n.prototype.showPriceModal=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this.isPriceVisible=!0,this.priceForm.reset(),n&&n.length>0?(this.priceItem=n[0],this.priceTitle="\u7f16\u8f91\u6574\u88c5\u4ef7\u683c\u8303\u56f4",this.price=this.priceItem.price,this.areaStart=this.priceItem.houseArea_start,this.areaEnd=this.priceItem.houseArea_end,this.getHxArray(this.priceItem.roomTypeList)):(this.addHx(),this.priceTitle="\u65b0\u5efa\u6574\u88c5\u4ef7\u683c\u8303\u56f4")},n.prototype.getHxArray=function(n){if(n&&n.length>0)for(var t=0;t<n.length;t++){var e={i:t,room:"room"+t,bath:"bath"+t},a=this.hxArray.push(e);this.priceForm.addControl(this.hxArray[a-1].room,new f.b(n[t].room,[f.i.required,f.i.max(99)])),this.priceForm.addControl(this.hxArray[a-1].bath,new f.b(n[t].toilet,[f.i.required,f.i.max(99)]))}else this.addHx()},n.prototype.handlePriceCancel=function(){this.isPriceVisible=!1,this.delHx(this.hxArray[0],0),this.hxArray=[],this.price=null,this.areaStart=null,this.areaEnd=null,this.priceItem=null},n.prototype.handlePriceOk=function(n){n.stopPropagation(),n.preventDefault();var t=this;if(t.priceForm.valid&&t.sid)if(Number(t.areaStart)<Number(t.areaEnd)){var e={price:t.price,houseArea_start:t.areaStart,houseArea_end:t.areaEnd,roomType:t.getHxByParams(t.priceForm.value),mouldPkgId:t.sid};this.priceItem&&this.priceItem.id&&(e.id=this.priceItem.id),t.req.doPost({url:"packagePriceUpd",data:e,success:function(n){t.handlePriceCancel(),n&&200==n.code?t.loadPriceData(t.sid):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})}else t.warn.onMsgWarn(b.a.AREAS)},n=Z([Object(a.Component)({selector:"rev-temp-whole-edit",template:e("G+Z0"),styles:[e("o/eR"),e("l/WR")]}),W("design:paramtypes",[i.a,g.a,f.a,u.a,z.a])],n)}(),Q=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},X=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},K=function(){function n(){}return n.prototype.ngOnInit=function(){},n=Q([Object(a.Component)({selector:"rev-temp-whole-base",template:e("LkDw"),styles:[e("Abyu")]}),X("design:paramtypes",[])],n)}(),nn=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},tn=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},en=function(){function n(n,t,e,a){this.httpClient=n,this.apiService=t,this.req=e,this.warn=a,this.buttons=[],this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.dataSource=[],this.httpOptions={withCredentials:!0}}return n.prototype.ngOnInit=function(){this.title="\u6574\u88c5\u57fa\u88c5\u7ba1\u7406",this.buttons=[{name:"\u4e0b\u8f7d\u6a21\u677f",link:y.b.TEMP_URL.BASE},{name:"\u6279\u91cf\u5bfc\u5165"}],this.changeData()},n.prototype.changeData=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t&&t.length>0&&(this.pageNo=y.b.PAGE.PAGE_NO),this.req.doPost({url:"mouldList",data:{pageNo:this.pageNo,pageSize:this.pageSize,versionType:4},success:function(t){t&&200===t.code?(n.dataSource=t.data.pageSet,n.total=t.data.total):n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.handleEvent=function(n){if(n===this.buttons[0].name){var t=document.createElement("a");t.href=this.buttons[0].link,t.click()}else document.getElementById("import").click()},n.prototype.handleFileChange=function(n){var t=this,e=n.target.files[0],a=new FormData;a.append("file",e),a.append("versionType","4"),t.httpClient.post(t.apiService.getUrl("upExl"),a,this.httpOptions).subscribe(function(n){n&&200===n.code?(t.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),t.changeData(!0)):t.warn.onMsgError(n.msg||b.a.FAIL.DATA)},function(n){t.warn.onMsgWarn(n||b.a.ERROR_TEXT)}),t.uploadFile.nativeElement.value=""},n.prototype.handleOperate=function(n,t){var e=this,a={id:t.id},r="mouldUpd";switch(n){case"del":r="mouldUpd",e.pageNo=y.b.PAGE.PAGE_NO,a.state=2;break;case"def":r="mouldUpd",a.defaultVsersion=1;break;case"on":r="mealBaseRack",a.state=1;break;case"off":r="mealBaseRack",a.state=0}this.req.doPost({url:r,data:a,success:function(n){n&&200===n.code?(e.warn.onMsgSuccess(n.msg||b.a.SUCCESS.DATA),e.changeData()):e.warn.onMsgError(n.msg||b.a.FAIL.DATA)}})},n.prototype.getCompileId=function(n){return Object(v.e)(n)},n.prototype.btoa=function(n){return Object(v.c)(n)},nn([Object(a.ViewChild)("uploadFile"),tn("design:type",Object)],n.prototype,"uploadFile",void 0),n=nn([Object(a.Component)({selector:"rev-temp-whole-base-list",template:e("rmtB"),styles:[e("3E0z")]}),tn("design:paramtypes",[N.c,P.a,g.a,u.a])],n)}(),an=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},rn=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},on=function(){function n(n,t,e,a,r){this.req=n,this.warn=t,this.activatedRoute=e,this.router=a,this.user=r,this.pageNo=y.b.PAGE.PAGE_NO,this.pageSize=y.b.PAGE.PAGE_SIZE,this.total=y.b.PAGE.PAGE_TOTAL,this.dataSource=[],this.categoryList=[],this.indeterminate=!1,this.allChecked=!1,this.dataSet=[],this.ids=[]}return n.prototype.ngOnInit=function(){var n=this;this.activatedRoute.queryParams.subscribe(function(t){t&&(t.versionName&&(n.versionName=t.versionName),t.versionId&&(n.versionId=t.versionId,n.changeData(),n.getCategoryList()),t.parentId&&(n.pid=t.parentId),t.sid&&(n.sid=t.sid))})},n.prototype.changeData=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var a=this;if(t&&t.length>0&&(a.pageNo=y.b.PAGE.PAGE_NO),a.versionId){var r={pageNo:a.pageNo,pageSize:a.pageSize,versionId:a.versionId,companyId:a.user.getCompanyId()};a.projectName&&(r.projectName=a.projectName),a.category&&(r.category=a.category),a.req.doPost({url:"mouldInfoList",data:r,success:function(t){t&&200==t.code?(a.dataSource=t.data.pageSet,a.dataSource.forEach(function(t,e){n.dataSet.find(function(n){return n.id==t.id})&&(t.checked=!0,n.dataSet.push(t))}),a.total=t.data.total):a.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})}},n.prototype.getCategoryList=function(){var n=this;this.req.doPost({url:"categoryList",data:{versionId:this.versionId},success:function(t){t&&200==t.code?n.categoryList=t.data:n.warn.onMsgError(t.msg||b.a.FAIL.DATA)}})},n.prototype.refreshStatus=function(){var n=this.dataSource.filter(function(n){return!n.disabled}).every(function(n){return!0===n.checked}),t=this.dataSource.filter(function(n){return!n.disabled}).every(function(n){return!n.checked});this.allChecked=n,this.indeterminate=!n&&!t,this.dataSet=this.dataSource.filter(function(n){return!0===n.checked})},n.prototype.checkAll=function(n){this.dataSource.forEach(function(t){t.disabled||(t.checked=n)}),this.refreshStatus()},n.prototype.getCompileId=function(n){return Object(v.e)(n)},n.prototype.back=function(n){n.stopPropagation(),n.preventDefault(),this.router.navigate(["./../edit"],{queryParams:{sid:Object(v.c)(this.sid)},relativeTo:this.activatedRoute})},n.prototype.submit=function(n){n.stopPropagation(),n.preventDefault();var t=this;t.dataSet.length>0&&t.req.doPost({url:"packageInfoItemAdd",data:{praentId:t.pid,infoIds:t.getParamIds(t.dataSet)},success:function(e){t.back(n),e&&200===e.code?t.warn.onMsgSuccess(e.msg||b.a.SUCCESS.DATA):t.warn.onMsgError(e.msg||b.a.FAIL.DATA)}})},n.prototype.getParamIds=function(n){var t=[];return n&&n.length>0&&n.forEach(function(n){t.push(n.id)}),t},n=an([Object(a.Component)({selector:"rev-temp-source-add",template:e("UvnU"),styles:[e("1dWq")]}),rn("design:paramtypes",[g.a,u.a,i.a,i.g,z.a])],n)}(),ln=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},cn=[{path:"",redirectTo:"base",pathMatch:"full"},{path:"base",component:d,data:{breadcrumb:"\u57fa\u88c5\u7ba1\u7406"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:D,canActivate:[l.b],data:{breadcrumb:"\u57fa\u88c5\u5217\u8868"}},{path:"detail",component:A,canActivate:[l.b],data:{breadcrumb:"\u57fa\u88c5\u8be6\u60c5"}}]},{path:"meal",component:h,data:{breadcrumb:"\u5957\u88c5\u7ba1\u7406"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:w,canActivate:[l.b],data:{breadcrumb:"\u5957\u88c5\u5217\u8868"}},{path:"edit",component:C,canActivate:[l.b],data:{breadcrumb:"\u5957\u88c5\u8be6\u60c5"}},{path:"add",component:on,canActivate:[l.b],data:{breadcrumb:"\u5957\u88c5\u6570\u636e\u9009\u62e9"}}]},{path:"mBase",component:R,data:{breadcrumb:"\u5957\u88c5\u57fa\u88c5\u7ba1\u7406"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:G,canActivate:[l.b],data:{breadcrumb:"\u5957\u88c5\u57fa\u88c5\u5217\u8868"}},{path:"detail",component:A,canActivate:[l.b],data:{breadcrumb:"\u5957\u88c5\u57fa\u88c5\u8be6\u60c5"}}]},{path:"whole",component:_,data:{breadcrumb:"\u6574\u88c5\u7ba1\u7406"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:J,canActivate:[l.b],data:{breadcrumb:"\u6574\u88c5\u5217\u8868"}},{path:"edit",component:Y,canActivate:[l.b],data:{breadcrumb:"\u6574\u88c5\u7f16\u8f91"}},{path:"add",component:on,canActivate:[l.b],data:{breadcrumb:"\u6574\u88c5\u6570\u636e\u9009\u62e9"}}]},{path:"wBase",component:K,data:{breadcrumb:"\u6574\u88c5\u57fa\u88c5\u7ba1\u7406"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:en,canActivate:[l.b],data:{breadcrumb:"\u6574\u88c5\u57fa\u88c5\u5217\u8868"}},{path:"detail",component:A,canActivate:[l.b],data:{breadcrumb:"\u6574\u88c5\u57fa\u88c5\u8be6\u60c5"}}]}],sn=function(){function n(){}return n=ln([Object(a.NgModule)({imports:[r.b,i.h.forChild(cn)],exports:[i.h]})],n)}();e.d(t,"TemplateModule",function(){return pn});var dn=function(n,t,e,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var l=n.length-1;l>=0;l--)(r=n[l])&&(i=(o<3?r(i):o>3?r(t,e,i):r(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},pn=function(){function n(){}return n=dn([Object(a.NgModule)({imports:[r.b,o.a,sn],declarations:[d,h,w,C,A,D,on,R,G,_,J,Y,K,en]})],n)}()},Rd2J:function(n,t){n.exports="<router-outlet></router-outlet>"},S1U0:function(n,t){n.exports=""},UJje:function(n,t){n.exports="<router-outlet></router-outlet>"},UvnU:function(n,t){n.exports='<div class="temp-head">\n    <rev-title [title]="versionName"></rev-title>\n</div>\n<div class="temp-warp mt-16">\n    <div nz-row nzSpan="24">\n        <div nz-col nzSpan="10" nzOffset="14">\n            <div nz-col nzSpan="10">\n                <nz-select style="width:100%" nzPlaceHolder="\u8bf7\u9009\u62e9\u7c7b\u522b" nzAllowClear [(ngModel)]="category"\n                           (ngModelChange)="changeData(true)">\n                    <nz-option *ngFor="let cate of categoryList" [nzValue]="cate" [nzLabel]="cate"></nz-option>\n                </nz-select>\n            </div>\n            <div nz-col nzSpan="11" class="ml-8">\n                <input type="text" nz-input placeholder="\u8bf7\u8f93\u5165\u67e5\u8be2\u5185\u5bb9" [(ngModel)]="projectName"/>\n            </div>\n            <div nz-col nzSpan="2" class="ml-8">\n                <button nz-button nzType="primary" (click)="changeData(true)">\u67e5\u8be2</button>\n            </div>\n        </div>\n    </div>\n    <div nz-row nzSpan="24" class="mt-8">\n        <nz-table #nzTable [nzData]="dataSource" [nzBordered]="true" [nzFrontPagination]="false"\n                  [nzShowPagination]="true" [(nzPageIndex)]=\'pageNo\' [(nzPageSize)]="pageSize" [nzTotal]="total"\n                  nzSize="middle" (nzPageIndexChange)=\'changeData()\'>\n            <thead>\n            <tr>\n                <th nzShowCheckbox [(nzChecked)]="allChecked" [nzIndeterminate]="indeterminate"\n                    (nzCheckedChange)="checkAll($event)" class="td-200"></th>\n                <th class="td-200">\u7c7b\u522b</th>\n                <th class="td-200">\u540d\u79f0</th>\n                <th class="td-200">\u54c1\u724c/\u89c4\u683c/\u578b\u53f7</th>\n                <th class="td-200">\u5355\u4f4d</th>\n                <th class="td-200">\u62a5\u4ef7</th>\n                <th class="td-200">\u8bf4\u660e</th>\n                <th class="td-200">\u6210\u672c</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor="let data of nzTable.data;let i = index">\n                <td nzShowCheckbox [(nzChecked)]="data.checked"\n                    [nzDisabled]="data.disabled" (nzCheckedChange)="refreshStatus(data)"></td>\n                <td [title]="data.category">{{data.category?data.category:\'--\'}}</td>\n                <td [title]="data.projectName">{{data.projectName?data.projectName:\'--\'}}</td>\n                <td>{{data.specifications}}{{data.brand}}{{data.modelNum}}</td>\n                <td>{{data.unit}}</td>\n                <td>{{(data.univalent?data.univalent:0)|number:\'1.2\'}}</td>\n                <td nz-tooltip [nzTitle]="data.offerExplain" nzPlacement="topLeft">{{data.offerExplain}}</td>\n                <td>{{(data.primeCost?data.primeCost:0)|number:\'1.2\'}}</td>\n            </tr>\n            </tbody>\n        </nz-table>\n    </div>\n    <div nz-row nzSpan>\n        <div nz-col nzSpan="8" nzOffset="16" class="text-right">\n            <button nz-button nzType="default" (click)="back($event)">\u8fd4\u56de</button>\n        \x3c!--</div>--\x3e\n        \x3c!--<div nz-col nzSpan="8">--\x3e\n            <button nz-button nzType="primary" class="ml-16" (click)="submit($event)">\u63d0\u4ea4</button>\n        </div>\n    </div>\n</div>'},YN7F:function(n,t){n.exports=""},Zuhx:function(n,t){n.exports=""},b0xJ:function(n,t){n.exports=""},bMZ7:function(n,t){n.exports=""},cttJ:function(n,t){n.exports='<div class="temp">\n  <div class="temp-head">\n    <rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleEvent($event)"></rev-title>\n    <input type=\'file\' #uploadFile accept=".xlsx, .xls" id="import" style="visibility: hidden;height:0;" ngModel\n           (change)="handleFileChange($event)">\n  </div>\n  <div class="temp-warp">\n    <nz-table #nzTable [nzData]="dataSet" [nzFrontPagination]="false" [nzBordered]="true"\n              [nzShowPagination]="true" [(nzPageIndex)]=\'pageNo\' [(nzPageSize)]="pageSize"\n              [nzTotal]="total" (nzPageIndexChange)=\'loadData()\' nzSize="middle">\n      <thead>\n      <tr>\n        <th width="5%">\u7f16\u53f7</th>\n        <th>\u62a5\u4ef7\u8868\u540d</th>\n        <th>\u5bfc\u5165\u65f6\u95f4</th>\n        <th>\u662f\u5426\u9ed8\u8ba4</th>\n        <th>\u662f\u5426\u4e0a\u67b6</th>\n        <th width="15%">\u64cd\u4f5c</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr *ngFor="let data of nzTable.data">\n        <td>{{getCompileId(data.id)}}</td>\n        <td nz-tooltip [nzTitle]="data.versionName" nzPlacement="topLeft">\n          {{data.versionName?data.versionName:\'--\'}}\n        </td>\n        <td>{{data.createTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\n        <td [ngSwitch]="data.defaultVsersion">\n          <span *ngSwitchCase="0">--</span>\n          <span *ngSwitchCase="1">\u9ed8\u8ba4\u62a5\u4ef7\u8868</span>\n          <span *ngSwitchDefault>--</span>\n        </td>\n        <td class="col_w_10" [ngSwitch]="data.state">\n          <span *ngSwitchCase="0">\u672a\u4e0a\u67b6</span>\n          <span *ngSwitchCase="1">\u5df2\u4e0a\u67b6</span>\n          <span *ngSwitchDefault>--</span>\n        </td>\n        <td>\n          <a href="javascript:void(0)" [routerLink]="[\'./../detail\']"\n             [queryParams]="{state:btoa(data.state),versionType:btoa(data.versionType),sid:btoa(data.id),pageType:1,tempType:3}">\u8be6\u60c5</a>\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'del\',data)"\n             *ngIf="data.state === 0">\u5220\u9664</a>\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'def\',data)"\n             *ngIf="data.state === 1 && data.defaultVsersion === 0">\u8bbe\u4e3a\u9ed8\u8ba4</a>\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'on\',data)"\n             *ngIf="data.state === 0">\u4e0a\u67b6</a>\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'off\',data)"\n             *ngIf="data.state === 1 && data.defaultVsersion === 0">\u4e0b\u67b6</a>\n        </td>\n      </tr>\n      </tbody>\n    </nz-table>\n  </div>\n</div>\n'},dE6a:function(n,t){n.exports='<div class="temp">\n    \x3c!--<div class="temp-head" *ngIf="pageType && pageType == 1">--\x3e\n        \x3c!--<rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleEvent($event)"></rev-title>--\x3e\n\n    \x3c!--</div>--\x3e\n    <div class="temp-head" *ngIf="pageType && pageType <= 2">\n        <rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleEvent($event)"></rev-title>\n        <div nz-row class="temp-dtl mt-8" *ngIf="pageType === 1">\n            <div nz-col nzSpan="22" class="mt-8">\u7248\u672c\u540d\u79f0\uff1a{{versionName?versionName:\'\u6682\u65e0\u540d\u79f0\'}}</div>\n            <div nz-col nzSpan="22" class="mt-8">\u5907\u6ce8\uff1a{{remark?remark:\'\u6682\u65e0\u5907\u6ce8\'}}</div>\n            <a class="dtl-fix" href="javascript:void(0)" (click)="showModal(versionName,remark)">\u4fee\u6539</a>\n        </div>\n        <div nz-row class="temp-dtl mt-8" *ngIf="pageType === 2">\n            <div nz-col nzSpan="22" class="mt-8">\u7248\u672c\u540d\u79f0\uff1a{{versionName?versionName:\'\u6682\u65e0\u540d\u79f0\'}}</div>\n            <a class="dtl-fix" href="javascript:void(0)" (click)="showModal(versionName)">\u4fee\u6539</a>\n        </div>\n    </div>\n\n    <div nz-row class="mt-16" *ngIf="pageType && pageType === 1">\n        <nz-tabset [nzSelectedIndex]="0" (nzSelectChange)=\'tabChange($event)\' [nzTabBarExtraContent]="extraTemplate">\n            <nz-tab nzTitle="\u9879\u76ee\u660e\u7ec6">\n                <div class="temp-warp">\n                    <nz-table #nzTable [nzData]="dataSource" [nzBordered]="true" [nzFrontPagination]="false"\n                        [(nzPageIndex)]=\'pageNo\' [(nzPageSize)]="pageSize" [nzTotal]="total"\n                        (nzPageIndexChange)=\'loadData()\' [nzShowPagination]="true" nzSize="middle">\n                        <thead>\n                            <tr>\n                                <th width="15%">\u7c7b\u522b</th>\n                                <th width="10%">\u540d\u79f0</th>\n                                <th width="20%">\u54c1\u724c\u89c4\u683c/\u578b\u53f7</th>\n                                <th width="5%">\u5355\u4f4d</th>\n                                <th width="10%">\u5355\u4ef7</th>\n                                <th>\u8bf4\u660e</th>\n                                <th>\u6210\u672c</th>\n                                <th *ngIf="state == \'0\'">\u64cd\u4f5c</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor="let data of nzTable.data;let i = index">\n                                <td nz-tooltip [nzTitle]="data.category" nzPlacement="topLeft">\n                                    {{data.category?data.category:\'--\'}}\n                                </td>\n                                <td nz-tooltip [nzTitle]="data.projectName" nzPlacement="topLeft">\n                                    {{data.projectName?data.projectName:\'--\'}}\n                                </td>\n                                <td nz-tooltip [nzTitle]="data.specifications" nzPlacement="topLeft">\n                                    {{data.specifications?data.specifications:\'--\'}}\n                                </td>\n                                <td [title]="data.unit">{{data.unit}}</td>\n                                <td [title]="data.univalent">{{(data.univalent?data.univalent:0)|number:\'1.2\'}}</td>\n                                <td nz-tooltip [nzTitle]="data.offerExplain" nzPlacement="topLeft">\n                                    {{data.offerExplain?data.offerExplain:\'--\'}}\n                                </td>\n                                <td [title]="data.primeCost">{{(data.primeCost?data.primeCost:0)|number:\'1.2\'}}</td>\n                                <td nz-td *ngIf="state == \'0\'">\n                                    <a href="javascript:void(0)" nz-popconfirm nzTitle="\u5220\u9664\u540e\u6570\u636e\u65e0\u6cd5\u6062\u590d" nzOkText="\u5220\u9664"\n                                        (nzOnConfirm)="handleDel(data.id)">\u5220\u9664</a>\n                                    <a href="javascript:void(0)" class="ml-8" (click)="showEditModal(data)">\u7f16\u8f91</a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </nz-table>\n                </div>\n            </nz-tab>\n            <nz-tab nzTitle="\u8bf4\u660e">\n                <div class="explain">\n                    <textarea rows="10" nz-input [(ngModel)]="info" maxlength="5000"></textarea>\n                    <span class="count" *ngIf="info && info.length > 0"><span>{{info.length}}</span>/5000</span>\n                </div>\n                <div nz-row nzSpan="24" class="text-right mt-16">\n                    <button nz-button [nzType]="\'primary\'" (click)="handleSaveExplain()">\u4fdd\u5b58</button>\n                </div>\n            </nz-tab>\n        </nz-tabset>\n        <ng-template #extraTemplate>\n            <div nz-row *ngIf="index === 0" style="width:500px;">\n                <div nz-col nzSpan="10">\n                    <nz-select style="width: 100%;" nzPlaceHolder="\u8bf7\u9009\u62e9\u7c7b\u522b" nzAllowClear [(ngModel)]="category"\n                        (ngModelChange)="loadData(true)">\n                        <nz-option *ngFor="let cate of categoryList" [nzValue]="cate" [nzLabel]="cate"></nz-option>\n                    </nz-select>\n                </div>\n                <div nz-col nzSpan="10" class="ml-8">\n                    <input nz-input type="text" placeholder="\u67e5\u8be2\u5185\u5bb9" [(ngModel)]="projectName">\n                </div>\n                <div nz-col nzSpan="2" class="ml-8">\n                    <button nz-button [nzType]="\'primary\'" (click)="loadData(true)">\u67e5\u8be2</button>\n                </div>\n            </div>\n        </ng-template>\n    </div>\n\n    <div nz-row class="mt-16" *ngIf="pageType && pageType === 2">\n        <nz-tabset [nzSelectedIndex]="0" (nzSelectChange)=\'tabChange($event)\' [nzTabBarExtraContent]="extraTemplate">\n            <nz-tab nzTitle="\u9879\u76ee\u660e\u7ec6">\n                <div class="temp-warp">\n                    <nz-table #nzTable [nzData]="dataSource" [nzBordered]="true" [nzFrontPagination]="false"\n                        [(nzPageIndex)]=\'pageNo\' [(nzPageSize)]="pageSize" [nzTotal]="total"\n                        (nzPageIndexChange)=\'loadData()\' [nzShowPagination]="true" nzSize="middle">\n                        <thead>\n                            <tr>\n                                <th width="15%">\u7c7b\u522b</th>\n                                <th width="10%">\u540d\u79f0</th>\n                                <th width="20%">\u54c1\u724c\u89c4\u683c/\u578b\u53f7</th>\n                                <th width="5%">\u5355\u4f4d</th>\n                                <th width="10%">\u5355\u4ef7</th>\n                                <th>\u8bf4\u660e</th>\n                                <th>\u6210\u672c</th>\n                                <th *ngIf="state == \'0\'">\u64cd\u4f5c</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor="let data of nzTable.data;let i = index">\n                                <td nz-tooltip [nzTitle]="data.category" nzPlacement="topLeft">\n                                    {{data.category?data.category:\'--\'}}\n                                </td>\n                                <td nz-tooltip [nzTitle]="data.projectName" nzPlacement="topLeft">\n                                    {{data.projectName?data.projectName:\'--\'}}\n                                </td>\n                                <td nz-tooltip [nzTitle]="data.specifications" nzPlacement="topLeft">\n                                    {{data.specifications?data.specifications:\'--\'}}\n                                </td>\n                                <td [title]="data.unit">{{data.unit}}</td>\n                                <td [title]="data.univalent">{{(data.univalent?data.univalent:0)|number:\'1.2\'}}</td>\n                                <td nz-tooltip [nzTitle]="data.offerExplain" nzPlacement="topLeft">\n                                    {{data.offerExplain?data.offerExplain:\'--\'}}\n                                </td>\n                                <td [title]="data.primeCost">{{(data.primeCost?data.primeCost:0)|number:\'1.2\'}}</td>\n                                <td nz-td *ngIf="state == \'0\'">\n                                    <a href="javascript:void(0)" nz-popconfirm nzTitle="\u5220\u9664\u540e\u6570\u636e\u65e0\u6cd5\u6062\u590d" nzOkText="\u5220\u9664"\n                                        (nzOnConfirm)="handleDel(data.id)">\u5220\u9664</a>\n                                    <a href="javascript:void(0)" class="ml-8" (click)="showEditModal(data)">\u7f16\u8f91</a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </nz-table>\n                </div>\n            </nz-tab>\n        </nz-tabset>\n        <ng-template #extraTemplate>\n            <div nz-row *ngIf="index === 0" style="width:500px;">\n                <div nz-col nzSpan="10">\n                    <nz-select style="width: 100%;" nzPlaceHolder="\u8bf7\u9009\u62e9\u7c7b\u522b" nzAllowClear [(ngModel)]="category"\n                        (ngModelChange)="loadData(true)">\n                        <nz-option *ngFor="let cate of categoryList" [nzValue]="cate" [nzLabel]="cate"></nz-option>\n                    </nz-select>\n                </div>\n                <div nz-col nzSpan="10" class="ml-8">\n                    <input nz-input type="text" placeholder="\u67e5\u8be2\u5185\u5bb9" [(ngModel)]="projectName">\n                </div>\n                <div nz-col nzSpan="2" class="ml-8">\n                    <button nz-button [nzType]="\'primary\'" (click)="loadData(true)">\u67e5\u8be2</button>\n                </div>\n            </div>\n        </ng-template>\n    </div>\n\n\n</div>\n\n\x3c!---\u4fee\u6539title---\x3e\n<nz-modal [(nzVisible)]="editVisible" nzTitle="\u7f16\u8f91\u5934\u90e8\u4fe1\u606f" [nzFooter]="null" (nzOnCancel)="handleCancel()">\n    <form nz-form [formGroup]="editForm" class="temp-modal">\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u7248\u672c\u540d\u79f0</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <input nz-input name="editName" formControlName="editName" [(ngModel)]="editName" maxlength="30"\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u540d\u79f0" />\n                <nz-form-explain *ngIf="editForm.get(\'editName\').dirty && editForm.get(\'editName\').errors">\n                    <ng-container *ngIf="editForm.get(\'editName\').hasError(\'required\')">\n                        \u81f3\u5c11\u8f93\u51651\u4f4d\u5b57\u7b26\n                    </ng-container>\n                    <ng-container *ngIf="editForm.get(\'editName\').hasError(\'maxLength\')">\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\n                    </ng-container>\n\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n        <nz-form-item *ngIf="pageType && pageType === 1">\n            <nz-form-label [nzSpan]="6">\u5907\u6ce8</nz-form-label>\n            <nz-form-control [nzSpan]="16" class="textarea">\n                <textarea nz-input type="text" name="editRemark" [(ngModel)]="editRemark" formControlName="editRemark"\n                    maxlength="300" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f" rows="5"></textarea>\n                <span class="count"\n                    *ngIf="editRemark && editRemark.length > 0"><span>{{editRemark.length}}</span>/300</span>\n                <nz-form-explain *ngIf="editForm.get(\'editRemark\').dirty && editForm.get(\'editRemark\').errors">\n                    <ng-container *ngIf="editForm.get(\'editRemark\').hasError(\'maxLength\')">\n                        \u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n        <div class="btns">\n            <button nz-button nzType="default" (click)="handleCancel()">\u5173\u95ed</button>\n            <button nz-button nzType="primary" (click)="handleOk()" [disabled]="!editForm.valid">\u63d0\u4ea4</button>\n        </div>\n    </form>\n</nz-modal>\n\n\x3c!---\u4fee\u6539\u8be6\u60c5----\x3e\n<nz-modal [(nzVisible)]="isVisible" nzTitle="\u7f16\u8f91\u4fe1\u606f" [nzFooter]="null" (nzOnCancel)="handleItemCancel()">\n    <form nz-form [formGroup]="itemForm" class="temp-modal" *ngIf="item">\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u7c7b\u522b</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <nz-select name="category" formControlName="category" [(ngModel)]="item.category">\n                    <nz-option *ngFor="let cate of categoryList" [nzValue]="cate" [nzLabel]="cate"></nz-option>\n                </nz-select>\n                <nz-form-explain *ngIf="itemForm.get(\'category\').dirty && itemForm.get(\'category\').errors">\n                    <ng-container *ngIf="itemForm.get(\'category\').hasError(\'required\')">\n                        \u5fc5\u9009\u9009\u9879\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u540d\u79f0</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <input nz-input name="projectName" formControlName="projectName" [(ngModel)]="item.projectName"\n                    maxlength="30" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u540d\u79f0" />\n                <nz-form-explain *ngIf="itemForm.get(\'projectName\').dirty && itemForm.get(\'projectName\').errors">\n                    <ng-container *ngIf="itemForm.get(\'projectName\').hasError(\'required\')">\n                        \u81f3\u5c11\u8f93\u51651\u4f4d\u5b57\u7b26\n                    </ng-container>\n                    <ng-container *ngIf="itemForm.get(\'projectName\').hasError(\'maxLength\')">\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\n                    </ng-container>\n\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u89c4\u683c</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <input nz-input name="specifications" formControlName="specifications" [(ngModel)]="item.specifications"\n                    maxlength="30" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u89c4\u683c" />\n                <nz-form-explain *ngIf="itemForm.get(\'specifications\').dirty && itemForm.get(\'specifications\').errors">\n                    <ng-container *ngIf="itemForm.get(\'specifications\').hasError(\'required\')">\n                        \u81f3\u5c11\u8f93\u51651\u4f4d\u5b57\u7b26\n                    </ng-container>\n                    <ng-container *ngIf="itemForm.get(\'specifications\').hasError(\'maxLength\')">\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\n                    </ng-container>\n\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u5355\u4f4d</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <input nz-input name="unit" formControlName="unit" [(ngModel)]="item.unit" maxlength="30"\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5355\u4f4d" />\n                <nz-form-explain *ngIf="itemForm.get(\'unit\').dirty && itemForm.get(\'unit\').errors">\n                    <ng-container *ngIf="itemForm.get(\'unit\').hasError(\'required\')">\n                        \u5fc5\u586b\u9009\u9879\n                    </ng-container>\n                    <ng-container *ngIf="itemForm.get(\'unit\').hasError(\'maxLength\')">\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u62a5\u4ef7</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <input nz-input name="univalent" formControlName="univalent" [(ngModel)]="item.univalent" maxlength="10"\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u62a5\u4ef7" />\n                <nz-form-explain *ngIf="itemForm.get(\'univalent\').dirty && itemForm.get(\'univalent\').errors">\n                    <ng-container *ngIf="itemForm.get(\'univalent\').hasError(\'required\')">\n                        \u5fc5\u586b\u9009\u9879\n                    </ng-container>\n                    <ng-container *ngIf="itemForm.get(\'univalent\').hasError(\'price\')">\n                        \u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u4fdd\u7559\u5c0f\u6570\u540e2\u4f4d\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u6210\u672c</nz-form-label>\n            <nz-form-control [nzSpan]="16">\n                <input nz-input name="primeCost" formControlName="primeCost" [(ngModel)]="item.primeCost" maxlength="10"\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u6210\u672c" />\n                <nz-form-explain *ngIf="itemForm.get(\'primeCost\').dirty && itemForm.get(\'primeCost\').errors">\n                    <ng-container *ngIf="itemForm.get(\'primeCost\').hasError(\'required\')">\n                        \u5fc5\u586b\u9009\u9879\n                    </ng-container>\n                    <ng-container *ngIf="itemForm.get(\'primeCost\').hasError(\'price\')">\n                        \u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u4fdd\u7559\u5c0f\u6570\u540e2\u4f4d\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n\n\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u8bf4\u660e</nz-form-label>\n            <nz-form-control [nzSpan]="16" class="textarea">\n                <textarea nz-input type="text" name="offerExplain" [(ngModel)]="item.offerExplain"\n                    formControlName="offerExplain" maxlength="300" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f"\n                    rows="5"></textarea>\n                <span class="count"\n                    *ngIf="item && item.offerExplain && item.offerExplain.length > 0"><span>{{item.offerExplain.length}}</span>/300</span>\n                <nz-form-explain *ngIf="itemForm.get(\'offerExplain\').dirty && itemForm.get(\'offerExplain\').errors">\n                    <ng-container *ngIf="itemForm.get(\'offerExplain\').hasError(\'maxLength\')">\n                        \u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n        <div class="btns">\n            <button nz-button nzType="default" (click)="handleItemCancel()">\u5173\u95ed</button>\n            <button nz-button nzType="primary" (click)="handleItemOk($event)" [disabled]="!itemForm.valid">\u63d0\u4ea4</button>>\n        </div>\n    </form>\n</nz-modal>'},"l/WR":function(n,t){n.exports=""},"lRI+":function(n,t){n.exports='<div class="temp-head">\n    <rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleName($event)"></rev-title>\n</div>\n<div class="temp-warp mt-16">\n    <nz-table #nzTable [nzData]="dataSource" [nzBordered]="true" [nzFrontPagination]="false"\n              [(nzPageIndex)]="pageNo" [(nzPageSize)]="pageSize" [nzTotal]="total" nzSize="middle"\n              [nzLoading]="loading" (nzPageIndexChange)="changeData()" [nzShowPagination]="true">\n        <thead>\n        <tr>\n            <th width="5%">\u7f16\u53f7</th>\n            <th width="35%">\u540d\u79f0</th>\n            <th width="30%">\u5907\u6ce8</th>\n            <th width="10%">\u662f\u5426\u4e0a\u67b6</th>\n            <th width="20%">\u64cd\u4f5c</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let data of nzTable.data">\n            <td>{{getCompileId(data.id)}}</td>\n            <td [nzTitle]="data.packageName" nz-tooltip nzPlacement="topLeft">\n                {{data.packageName?data.packageName:\'--\'}}\n            </td>\n            <td nz-tooltip [nzTitle]="data.remark" nzPlacement="topLeft">{{data.remark?data.remark:\'--\'}}</td>\n            <td [ngSwitch]="data.state">\n                <span *ngSwitchCase="0">\u672a\u4e0a\u67b6</span>\n                <span *ngSwitchCase="1">\u5df2\u4e0a\u67b6</span>\n                <span *ngSwitchDefault>--</span>\n            </td>\n            <td>\n                <a href="javascript:void(0)" [routerLink]="[\'./../edit\']"\n                   [queryParams]="{sid:btoa(data.id)}">\u8be6\u60c5</a>\n                <a href="javascript:void(0)" nz-popconfirm nzTitle="\u5220\u9664\u540e\u6570\u636e\u4e0d\u53ef\u6062\u590d" nzOkText=\'\u5220\u9664\'\n                   *ngIf="data.state === 0" (nzOnConfirm)="handleOperate(\'del\',data)" class="ml-8">\u5220\u9664</a>\n                   <a href="javascript:void(0)" (click)="copy(data.id)" class="ml-8">\u590d\u5236</a>\n                <a href="javascript:void(0)" (click)="handleOperate(\'on\',data)" *ngIf="data.state === 0"\n                   class="ml-8">\u4e0a\u67b6</a>\n                <a href="javascript:void(0)" (click)="handleOperate(\'off\',data)" *ngIf="data.state === 1" class="ml-8">\u4e0b\u67b6</a>\n            </td>\n        </tr>\n        </tbody>\n    </nz-table>\n</div>\n\n\n<nz-modal nzWidth="600px" [(nzVisible)]="isVisible" nzTitle="\u65b0\u5efa\u6574\u88c5" [nzFooter]="null"\n          (nzOnCancel)="handleCancel()">\n    <form nz-form [formGroup]="wholeForm" class="temp-modal">\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u6574\u88c5\u540d\u79f0</nz-form-label>\n            <nz-form-control [nzSpan]="18">\n                <input nz-input name="packageName" formControlName="packageName"\n                       [(ngModel)]="packageName" maxlength="30"\n                       autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u6574\u88c5\u540d\u79f0"/>\n                <nz-form-explain *ngIf="wholeForm.get(\'packageName\').dirty && wholeForm.get(\'packageName\').errors">\n                    <ng-container *ngIf="wholeForm.get(\'packageName\').hasError(\'required\')">\n                        \u5fc5\u586b\u9009\u9879\n                    </ng-container>\n                    <ng-container *ngIf="wholeForm.get(\'packageName\').hasError(\'maxLength\')">\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\n                    </ng-container>\n\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n        <nz-form-item>\n            <nz-form-label [nzSpan]="6">\u5907\u6ce8</nz-form-label>\n            <nz-form-control [nzSpan]="18" class="textarea">\n                   <textarea nz-input type="text" name="remark" [(ngModel)]="remark" formControlName="remark"\n                             maxlength="300" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f" rows="5"></textarea>\n                <span class="count" *ngIf="remark && remark.length > 0"><span>{{remark.length}}</span>/300</span>\n                <nz-form-explain *ngIf="wholeForm.get(\'remark\').dirty && wholeForm.get(\'remark\').errors">\n                    <ng-container *ngIf="wholeForm.get(\'remark\').hasError(\'maxLength\')">\n                        \u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\n                    </ng-container>\n                </nz-form-explain>\n            </nz-form-control>\n        </nz-form-item>\n        <div class=\'btns\'>\n            <button nz-button nzType="default" (click)="handleCancel()">\u5173\u95ed</button>\n            <button nz-button nzType="primary" (click)="handleOk($event)" [disabled]="!wholeForm.valid">\u63d0\u4ea4</button>\n        </div>\n\n          \n    </form>\n</nz-modal>'},"o/eR":function(n,t){n.exports='@charset "UTF-8";\n/***\u517c\u5bb9\u6d4f\u89c8\u5668***/\n.temp-warp tr th, .temp-warp tr td {\n  max-width: 6vw;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n.temp-dtl {\n  position: relative; }\n.temp-dtl > .dtl-fix {\n    position: absolute;\n    right: 0;\n    top: 10px;\n    font-size: 14px; }\n.explain {\n  position: relative;\n  word-break: break-all; }\n.explain > textarea {\n    padding: 5px 0 14px 0; }\n.explain .count {\n    position: absolute;\n    right: 10px;\n    bottom: 0;\n    font-size: 14px; }\n.explain .count > span {\n      color: #F92650; }\n.temp-modal .textarea {\n  position: relative; }\n.temp-modal .textarea .count {\n    position: absolute;\n    right: 5px;\n    bottom: -20px;\n    font-size: 12px; }\n.temp-modal .textarea .count > span {\n      color: #F92650; }\n.temp-modal .circle {\n  font-size: 20px;\n  color: #0A8DDF; }\n.temp-modal .circle.del {\n    color: #F92650; }\n.temp .temp-head, .temp .temp-branch {\n  position: relative; }\n.temp .temp-head .head-fix, .temp .temp-branch .head-fix {\n    position: absolute;\n    right: 0;\n    top: 20px;\n    font-size: 14px; }\n.btns {\n  margin: 24px -24px -11px -24px;\n  text-align: right;\n  border-top: 1px solid #dedede;\n  padding-top: 10px; }\n.btns button {\n    margin-right: 24px; }\n.btns button:first-child {\n    margin-right: 8px; }\n'},"r/I2":function(n,t){n.exports=""},rmtB:function(n,t){n.exports='<div class="temp">\r\n  <div class="temp-head">\r\n    <rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleEvent($event)"></rev-title>\r\n    <input type=\'file\' #uploadFile accept=".xlsx, .xls" id="import" style="visibility: hidden;height:0;" ngModel\r\n           (change)="handleFileChange($event)">\r\n  </div>\r\n\r\n  <div class="temp-warp">\r\n    <nz-table #nzTable [nzData]="dataSource" [nzFrontPagination]="false" [nzBordered]="true"\r\n              [nzShowPagination]="true" [(nzPageIndex)]=\'pageNo\' [(nzPageSize)]="pageSize"\r\n              [nzTotal]="total" (nzPageIndexChange)=\'changeData()\' nzSize="middle">\r\n      <thead>\r\n      <tr>\r\n        <th width="5%">\u7f16\u53f7</th>\r\n        <th width="25%">\u62a5\u4ef7\u8868\u540d</th>\r\n        <th>\u5bfc\u5165\u65f6\u95f4</th>\r\n        <th>\u662f\u5426\u9ed8\u8ba4</th>\r\n        <th>\u662f\u5426\u4e0a\u67b6</th>\r\n        <th width="15%">\u64cd\u4f5c</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr *ngFor="let data of nzTable.data">\r\n        <td>{{getCompileId(data.id)}}</td>\r\n        <td nz-tooltip [nzTitle]="data.versionName" nzPlacement="topLeft">\r\n          {{data.versionName?data.versionName:\'--\'}}\r\n        </td>\r\n        <td>{{data.createTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\r\n        <td [ngSwitch]="data.defaultVsersion">\r\n          <span *ngSwitchCase="0">--</span>\r\n          <span *ngSwitchCase="1">\u9ed8\u8ba4\u62a5\u4ef7\u8868</span>\r\n          <span *ngSwitchDefault>--</span>\r\n        </td>\r\n        <td class="col_w_10" [ngSwitch]="data.state">\r\n          <span *ngSwitchCase="0">\u672a\u4e0a\u67b6</span>\r\n          <span *ngSwitchCase="1">\u5df2\u4e0a\u67b6</span>\r\n          <span *ngSwitchDefault>--</span>\r\n        </td>\r\n        <td>\r\n          <a href="javascript:void(0)" [routerLink]="[\'./../detail\']"\r\n             [queryParams]="{state:btoa(data.state),versionType:btoa(data.versionType),sid:btoa(data.id),pageType:2,tempType:2}">\u8be6\u60c5</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'del\',data)"\r\n             *ngIf="data.state === 0">\u5220\u9664</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'def\',data)"\r\n             *ngIf="data.state === 1 && data.defaultVsersion === 0">\u8bbe\u4e3a\u9ed8\u8ba4</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'on\',data)"\r\n             *ngIf="data.state === 0">\u4e0a\u67b6</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'off\',data)"\r\n             *ngIf="data.state === 1 && data.defaultVsersion === 0">\u4e0b\u67b6</a>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n\r\n</div>'},uBQ0:function(n,t){n.exports='<div class="temp-head">\r\n    <rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleName($event)"></rev-title>\r\n</div>\r\n<div class="temp-warp mt-16">\r\n    <nz-table #nzTable [nzData]="dataSource" [nzBordered]="true" [nzFrontPagination]="false" [(nzPageIndex)]="pageNo"\r\n        [(nzPageSize)]="pageSize" [nzTotal]="total" nzSize="middle" [nzLoading]="loading"\r\n        (nzPageIndexChange)="changeData()" [nzShowPagination]="true">\r\n        <thead>\r\n            <tr>\r\n                <th width="5%">\u7f16\u53f7</th>\r\n                <th width="10%">\u540d\u79f0</th>\r\n                <th width="5%">\u5355\u4ef7</th>\r\n                <th width="10%">\u9002\u7528\u9762\u79ef</th>\r\n                <th width="20%">\u9002\u7528\u6237\u578b</th>\r\n                <th width="20%">\u5907\u6ce8</th>\r\n                <th width="10%">\u662f\u5426\u4e0a\u67b6</th>\r\n                <th width="10%">\u521b\u5efa\u65f6\u95f4</th>\r\n                <th width="10%">\u64cd\u4f5c</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor="let data of nzTable.data">\r\n                <td>{{getCompileId(data.id)}}</td>\r\n                <td [nzTitle]="data.packageName" nz-tooltip nzPlacement="topLeft">\r\n                    {{data.packageName?data.packageName:\'--\'}}\r\n                </td>\r\n                <td>{{(data.price?data.price:0)|number:\'1.2\'}}</td>\r\n                <td>{{data.houseArea}}</td>\r\n                <td nz-tooltip [nzTitle]="data.roomType.join(\',\')" nzPlacement="topLeft">{{data.roomType.join(",")}}\r\n                </td>\r\n                <td nz-tooltip [nzTitle]="data.remark" nzPlacement="topLeft">{{data.remark?data.remark:\'--\'}}</td>\r\n                <td [ngSwitch]="data.state">\r\n                    <span *ngSwitchCase="0">\u672a\u4e0a\u67b6</span>\r\n                    <span *ngSwitchCase="1">\u5df2\u4e0a\u67b6</span>\r\n                    <span *ngSwitchDefault>--</span>\r\n                </td>\r\n                <td>{{data.createTime | date:\'yy-MM-dd\'}}</td>\r\n                <td>\r\n                    <a href="javascript:void(0)" [routerLink]="[\'./../edit\']" [queryParams]="{sid:btoa(data.id)}">\u8be6\u60c5</a>\r\n                    <a href="javascript:void(0)" nz-popconfirm nzTitle="\u5220\u9664\u540e\u6570\u636e\u4e0d\u53ef\u6062\u590d" nzOkText=\'\u5220\u9664\'\r\n                        *ngIf="data.state === 0" (nzOnConfirm)="handleOperate(\'del\',data)" class="ml-8">\u5220\u9664</a>\r\n                    <a href="javascript:void(0)" (click)="handleOperate(\'on\',data)" *ngIf="data.state === 0"\r\n                        class="ml-8">\u4e0a\u67b6</a>\r\n                    <a href="javascript:void(0)" (click)="handleOperate(\'off\',data)" *ngIf="data.state === 1"\r\n                        class="ml-8">\u4e0b\u67b6</a>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </nz-table>\r\n</div>\r\n\r\n\r\n<nz-modal nzWidth="600px" [(nzVisible)]="isVisible" nzTitle="\u65b0\u5efa\u5957\u9910" [nzFooter]="null" (nzOnCancel)="handleCancel()">\r\n    <form nz-form [formGroup]="mealForm" class="temp-modal">\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="6">\u5957\u9910\u540d\u79f0</nz-form-label>\r\n            <nz-form-control [nzSpan]="18">\r\n                <input nz-input name="mealName" formControlName="mealName" [(ngModel)]="mealName" maxlength="30"\r\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5957\u9910\u540d\u79f0" />\r\n                <nz-form-explain *ngIf="mealForm.get(\'mealName\').dirty && mealForm.get(\'mealName\').errors">\r\n                    <ng-container *ngIf="mealForm.get(\'mealName\').hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="mealForm.get(\'mealName\').hasError(\'maxLength\')">\r\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\r\n                    </ng-container>\r\n\r\n                </nz-form-explain>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="6">\u5355\u4ef7/\u6bcf\u5e73\u7c73</nz-form-label>\r\n            <nz-form-control [nzSpan]="18">\r\n                <input nz-input name="price" formControlName="price" [(ngModel)]="price" maxlength="10"\r\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5355\u4ef7" />\r\n                <nz-form-explain *ngIf="mealForm.get(\'price\').dirty && mealForm.get(\'price\').errors">\r\n                    <ng-container *ngIf="mealForm.get(\'price\').hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="mealForm.get(\'price\').hasError(\'price\')">\r\n                        \u53ea\u80fd\u8f93\u5165\u6570\u5b57\u5e76\u4e14\u5c0f\u6570\u53ea\u80fd\u4fdd\u75592\u4f4d\r\n                    </ng-container>\r\n                </nz-form-explain>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="6">\u9002\u7528\u9762\u79ef\u8303\u56f4</nz-form-label>\r\n            <nz-form-control [nzSpan]="18">\r\n                <div nz-col nzSpan="11">\r\n                    <input nz-input type="text" name="areaStart" formControlName="areaStart" [(ngModel)]="areaStart"\r\n                        maxlength="10" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u8303\u56f4\u5f00\u59cb\u503c" />\r\n                    <nz-form-explain *ngIf="mealForm.get(\'areaStart\').dirty && mealForm.get(\'areaStart\').errors">\r\n                        <ng-container *ngIf="mealForm.get(\'areaStart\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="mealForm.get(\'areaStart\').hasError(\'price\')">\r\n                            \u6700\u5c0f\u9762\u79ef\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u5c0f\u6570\u4fdd\u75592\u4f4d\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </div>\r\n                <div nz-col nzSpan="2" class="text-center">--</div>\r\n                <div nz-col nzSpan="11">\r\n                    <input nz-input type="text" name="areaEnd" formControlName="areaEnd" [(ngModel)]="areaEnd"\r\n                        maxlength="10" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u8303\u56f4\u7ed3\u675f\u503c" />\r\n                    <nz-form-explain *ngIf="mealForm.get(\'areaEnd\').dirty && mealForm.get(\'areaEnd\').errors">\r\n                        <ng-container *ngIf="mealForm.get(\'areaEnd\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="mealForm.get(\'areaEnd\').hasError(\'price\')">\r\n                            \u6700\u5927\u9762\u79ef\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u5c0f\u6570\u4fdd\u75592\u4f4d\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </div>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        \x3c!--\u6237\u578b--\x3e\r\n\r\n        <nz-form-item *ngFor="let control of hxArray;let i = index">\r\n            <nz-form-label [nzSpan]="6" *ngIf="i === 0">\u9002\u7528\u6237\u578b</nz-form-label>\r\n            <nz-form-label [nzSpan]="6" *ngIf="i !== 0"></nz-form-label>\r\n            <nz-form-control [nzSpan]="18">\r\n                <div nz-col nzSpan="4" class="text-right">\u5367\u5ba4\uff1a</div>\r\n                <div nz-col nzSpan="6">\r\n                    <input nz-input [formControlName]="control.room" maxlength="6"\r\n                        oninput="this.value=this.value.replace(/\\D/g,\'\')" onpaste="return false;"\r\n                        placeholdder="\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf" />\r\n                    <nz-form-explain *ngIf="mealForm.get(control.room)?.dirty && mealForm.get(control.room)?.errors">\r\n                        <ng-container *ngIf="mealForm.get(control.room).hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="mealForm.get(control.room).hasError(\'max\')">\r\n                            \u6700\u591a\u4e3a99\u5ba4\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </div>\r\n                <div nz-col nzSpan="4" class="text-right">\u536b\u751f\u95f4\uff1a</div>\r\n                <div nz-col nzSpan="6">\r\n                    <input nz-input [formControlName]="control.bath" maxlength="6"\r\n                        oninput="this.value=this.value.replace(/\\D/g,\'\')" onpaste="return false;"\r\n                        placeholdder="\u8bf7\u8f93\u5165\u536b\u751f\u95f4\u6570\u91cf" />\r\n                </div>\r\n\r\n                <nz-form-explain *ngIf="mealForm.get(control.bath)?.dirty && mealForm.get(control.bath)?.errors">\r\n                    <ng-container *ngIf="mealForm.get(control.bath).hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="mealForm.get(control.bath).hasError(\'max\')">\r\n                        \u6700\u591a\u4e3a99\u536b\r\n                    </ng-container>\r\n                </nz-form-explain>\r\n                <div nz-col nzSpan="2" class="text-right">\r\n                    <a href="javascript:void(0)" (click)="addHx()" *ngIf="i === 0">\r\n                        <i nz-icon type="plus-circle" class="circle"></i></a>\r\n                    <a href="javascript:void(0)" (click)="delHx(control,i,$event)" *ngIf="i !== 0">\r\n                        <i nz-icon type="minus-circle" class="circle del"></i>\r\n                    </a>\r\n                </div>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="6">\u5907\u6ce8</nz-form-label>\r\n            <nz-form-control [nzSpan]="18" class="textarea">\r\n                <textarea nz-input type="text" name="remark" [(ngModel)]="remark" formControlName="remark"\r\n                    maxlength="300" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f" rows="5"></textarea>\r\n                <span class="count" *ngIf="remark && remark.length > 0"><span>{{remark.length}}</span>/300</span>\r\n                <nz-form-explain *ngIf="mealForm.get(\'remark\').dirty && mealForm.get(\'remark\').errors">\r\n                    <ng-container *ngIf="mealForm.get(\'remark\').hasError(\'maxLength\')">\r\n                        \u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\r\n                    </ng-container>\r\n                </nz-form-explain>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n        <div class=\'btns\'>\r\n            <button nz-button nzType="default" (click)="handleCancel()">\u5173\u95ed</button>\r\n            <button nz-button nzType="primary" (click)="handleOk()" [disabled]="!mealForm.valid">\u63d0\u4ea4</button>\r\n        </div>\r\n    </form>\r\n</nz-modal>'},wqfD:function(n,t){n.exports='<div class="temp">\r\n  <div class="temp-head">\r\n    <rev-title [title]="title" [buttons]="buttons" [show]="true" (handleName)="handleEvent($event)"></rev-title>\r\n    <input type=\'file\' #uploadFile accept=".xlsx, .xls" id="import" style="visibility: hidden;height:0;" ngModel\r\n           (change)="handleFileChange($event)">\r\n  </div>\r\n\r\n  <div class="temp-warp">\r\n    <nz-table #nzTable [nzData]="dataSource" [nzFrontPagination]="false" [nzBordered]="true"\r\n              [nzShowPagination]="true" [(nzPageIndex)]=\'pageNo\' [(nzPageSize)]="pageSize"\r\n              [nzTotal]="total" (nzPageIndexChange)=\'changeData()\' nzSize="middle">\r\n      <thead>\r\n      <tr>\r\n        <th width="5%">\u7f16\u53f7</th>\r\n        <th width="25%">\u62a5\u4ef7\u8868\u540d</th>\r\n        <th>\u5bfc\u5165\u65f6\u95f4</th>\r\n        <th>\u662f\u5426\u9ed8\u8ba4</th>\r\n        <th>\u662f\u5426\u4e0a\u67b6</th>\r\n        <th width="15%">\u64cd\u4f5c</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr *ngFor="let data of nzTable.data">\r\n        <td>{{getCompileId(data.id)}}</td>\r\n        <td nz-tooltip [nzTitle]="data.versionName" nzPlacement="topLeft">\r\n          {{data.versionName?data.versionName:\'--\'}}\r\n        </td>\r\n        <td>{{data.createTime | date:\'yyyy-MM-dd HH:mm\'}}</td>\r\n        <td [ngSwitch]="data.defaultVsersion">\r\n          <span *ngSwitchCase="0">--</span>\r\n          <span *ngSwitchCase="1">\u9ed8\u8ba4\u62a5\u4ef7\u8868</span>\r\n          <span *ngSwitchDefault>--</span>\r\n        </td>\r\n        <td class="col_w_10" [ngSwitch]="data.state">\r\n          <span *ngSwitchCase="0">\u672a\u4e0a\u67b6</span>\r\n          <span *ngSwitchCase="1">\u5df2\u4e0a\u67b6</span>\r\n          <span *ngSwitchDefault>--</span>\r\n        </td>\r\n        <td>\r\n          <a href="javascript:void(0)" [routerLink]="[\'./../detail\']"\r\n             [queryParams]="{state:btoa(data.state),versionType:btoa(data.versionType),sid:btoa(data.id),pageType:2,tempType:1}">\u8be6\u60c5</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'del\',data)"\r\n             *ngIf="data.state === 0">\u5220\u9664</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'def\',data)"\r\n             *ngIf="data.state === 1 && data.defaultVsersion === 0">\u8bbe\u4e3a\u9ed8\u8ba4</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'on\',data)"\r\n             *ngIf="data.state === 0">\u4e0a\u67b6</a>\r\n          <a href="javascript:void(0)" class="ml-8" (click)="handleOperate(\'off\',data)"\r\n             *ngIf="data.state === 1 && data.defaultVsersion === 0">\u4e0b\u67b6</a>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n\r\n</div>'},y9dv:function(n,t){n.exports=""},yPJz:function(n,t){n.exports='<div class="temp" *ngIf="pkg">\r\n    <div class="temp-head">\r\n        <rev-title [title]="pkg.packageName"></rev-title>\r\n        <a href="javascript:void(0)" (click)="showModal(pkg)" class="head-fix">\u4fee\u6539</a>\r\n    </div>\r\n    <div nz-row nzSpan="24">\r\n        <div nz-col nzSpan="4" class="mt-8">\u5355\u4ef7\uff1a{{pkg.price}}/\u6bcf\u5e73\u7c73</div>\r\n        <div nz-col nzSpan="6" class="mt-8">\u9002\u7528\u9762\u79ef\u8303\u56f4\uff1a{{pkg.houseArea}}</div>\r\n        <div nz-col nzSpan="14" class="mt-8">\u9002\u7528\u6237\u578b\uff1a<span *ngIf="pkg.roomType">{{pkg.roomType.join(",")}}</span></div>\r\n        <div nz-col nzSpan="24" class="mt-8" *ngIf="pkg && pkg.remark">\u5907\u6ce8\uff1a{{pkg.remark}}</div>\r\n    </div>\r\n    <div nz-row class="mt-16">\r\n        <nz-tabset [nzSelectedIndex]="0">\r\n            \x3c!---\u9879\u76ee\u660e\u7ec6---\x3e\r\n            <nz-tab nzTitle="\u9879\u76ee\u660e\u7ec6">\r\n                <div nz-row>\r\n                    \x3c!---\u9009\u62e9\u7248\u672c-\u4fe1\u606f--\x3e\r\n                    <div nz-col nzSpan="24" *ngIf="pkg && !pkg.versionId">\r\n                        <a href="javascript:void(0)" (click)="showVersionModal()">\u9009\u62e9\u7248\u672c</a>\r\n                    </div>\r\n                    <div nz-col nzSpan="24" class="temp-branch">\r\n                        <div nz-col nzSpan="22" *ngIf="pkg && pkg.versionId">{{pkg &&\r\n                            pkg.versionName?pkg.versionName:\'\'}}\r\n                        </div>\r\n                        <span class="head-fix" style="top:0;">\r\n                            <a href="javascript:void(0)" (click)="showVersionModal()">\u4fee\u6539</a>\r\n                            <a href="javascript:void(0)" (click)="showBranchModal(1)" class="ml-8">\u6dfb\u52a0\u5927\u9879</a>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div nz-row class="temp-warp">\r\n                    <nz-table #pkgTable [nzData]="dataSource" [nzShowPagination]="false">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzShowExpand width="5%"></th>\r\n                                <th width="75%">\u540d\u79f0</th>\r\n                                <th width="20">\u64cd\u4f5c</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-template ngFor let-data [ngForOf]="pkgTable.data">\r\n                                <tr>\r\n                                    <td nzShowExpand [(nzExpand)]="data.expand" width="5%"></td>\r\n                                    <td width="80%">{{data.projectName}}</td>\r\n                                    <td width="15%">\r\n                                        <a href="javascript:void(0)" (click)="showBranchModal(2,data)">\u4fee\u6539</a>\r\n                                        <a href="javascript:void(0)" nz-popconfirm class="ml-8" nzTitle="\u786e\u5b9a\u5220\u9664\u5927\u9879\u53ca\u5176\u5b50\u9879\u5417?"\r\n                                            nzOkText=\'\u5220\u9664\' (nzOnConfirm)="delBranchItem(data.id)">\u5220\u9664</a>\r\n                                        <a href="javascript:void(0)" class="ml-8" [routerLink]="[\'./../add\']"\r\n                                            [queryParams]="{versionName:pkg.versionName,versionId:pkg.versionId,\r\n                                       parentId:data.id,sid:sid}" [skipLocationChange]="true">\u6dfb\u52a0</a>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr [nzExpand]="data.expand">\r\n                                    <td width="5%"></td>\r\n                                    <td colspan="7" width="80%">\r\n                                        <nz-table #innerTable [nzData]="data.pkgInfo" nzSize="middle"\r\n                                            [nzFrontPagination]="false" [nzShowPagination]="false">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th width="20%">\u9879\u76ee\u540d\u79f0</th>\r\n                                                    <th width="20%">\u89c4\u683c</th>\r\n                                                    <th width="10%">\u5355\u4f4d</th>\r\n                                                    <th width="10%">\u62a5\u4ef7</th>\r\n                                                    <th width="20%">\u8bf4\u660e</th>\r\n                                                    <th width="10%">\u6210\u672c</th>\r\n                                                    <th width="10%">\u64cd\u4f5c</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of innerTable.data">\r\n                                <td nz-tooltip [nzTitle]="item.projectName" nzPlacement="topLeft">\r\n                                    {{item.projectName?item.projectName:\'--\'}}</td>\r\n                                <td nz-tooltip [nzTitle]="item.specifications" nzPlacement="topLeft">\r\n                                    {{item.specifications?item.specifications:\'--\'}}</td>\r\n                                <td>{{item.unit?item.unit:\'--\'}}</td>\r\n                                <td>{{(item.univalent?item.univalent:0)|number:\'1.2\'}}</td>\r\n                                <td nz-tooltip [nzTitle]="item.offerExplain" nzPlacement="topLeft">\r\n                                    {{item.offerExplain?item.offerExplain:\'--\'}}</td>\r\n                                <td>{{(item.primeCost?item.primeCost:0)|number:\'1.2\'}}</td>\r\n                                <td>\r\n                                    <a href="javascript:void(0)" nz-popconfirm nzTitle="\u786e\u5b9a\u5220\u9664\u8be5\u9879\u5417?" nzOkText=\'\u5220\u9664\'\r\n                                        (nzOnConfirm)="delBranchItem(item.id)">\u5220\u9664</a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                    </td>\r\n                    <td width="15%"></td>\r\n                    </tr>\r\n                    </ng-template>\r\n                    </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </nz-tab>\r\n            \x3c!---\u8bf4\u660e---\x3e\r\n            <nz-tab nzTitle="\u8bf4\u660e">\r\n                <div nz-row nzSpan="24">\r\n                    <div class="explain">\r\n                        <textarea rows="10" nz-input [(ngModel)]="info" maxlength="5000"></textarea>\r\n                        <span class="count" *ngIf="info && info.length > 0"><span>{{info.length}}</span>/5000</span>\r\n                    </div>\r\n                    <div nz-row nzSpan="24" class="text-right mt-16">\r\n                        <button nz-button [nzType]="\'primary\'" (click)="handleSaveExplain()">\u4fdd\u5b58</button>\r\n                    </div>\r\n                </div>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n    </div>\r\n</div>\r\n\r\n\x3c!---\u4fee\u6539\u5957\u9910\u53c2\u6570---\x3e\r\n<nz-modal nzWidth="600px" [(nzVisible)]="isVisible" nzTitle="\u7f16\u8f91\u5957\u9910" [nzFooter]="null" (nzOnCancel)="handleCancel()">\r\n    <form nz-form [formGroup]="mealForm" class="temp-modal">\r\n        <ul>\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]="6">\u5957\u9910\u540d\u79f0</nz-form-label>\r\n                <nz-form-control [nzSpan]="16">\r\n                    <input nz-input name="mealName" formControlName="mealName" [(ngModel)]="mealName" maxlength="30"\r\n                        autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5957\u9910\u540d\u79f0" />\r\n                    <nz-form-explain *ngIf="mealForm.get(\'mealName\').dirty && mealForm.get(\'mealName\').errors">\r\n                        <ng-container *ngIf="mealForm.get(\'mealName\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="mealForm.get(\'mealName\').hasError(\'maxLength\')">\r\n                            \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\r\n                        </ng-container>\r\n\r\n                    </nz-form-explain>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]="6">\u5355\u4ef7/\u6bcf\u5e73\u7c73</nz-form-label>\r\n                <nz-form-control [nzSpan]="16">\r\n                    <input nz-input name="price" formControlName="price" [(ngModel)]="price" maxlength="10"\r\n                        autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5355\u4ef7" />\r\n                    <nz-form-explain *ngIf="mealForm.get(\'price\').dirty && mealForm.get(\'price\').errors">\r\n                        <ng-container *ngIf="mealForm.get(\'price\').hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="mealForm.get(\'price\').hasError(\'price\')">\r\n                            \u53ea\u80fd\u8f93\u5165\u6570\u5b57\u5e76\u4e14\u5c0f\u6570\u53ea\u80fd\u4fdd\u75592\u4f4d\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]="6">\u9002\u7528\u9762\u79ef\u8303\u56f4</nz-form-label>\r\n                <nz-form-control [nzSpan]="16">\r\n                    <div nz-col nzSpan="11">\r\n                        <input nz-input type="text" name="areaStart" formControlName="areaStart" [(ngModel)]="areaStart"\r\n                            maxlength="10" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u8303\u56f4\u5f00\u59cb\u503c" />\r\n                        <nz-form-explain *ngIf="mealForm.get(\'areaStart\').dirty && mealForm.get(\'areaStart\').errors">\r\n                            <ng-container *ngIf="mealForm.get(\'areaStart\').hasError(\'required\')">\r\n                                \u5fc5\u586b\u9009\u9879\r\n                            </ng-container>\r\n                            <ng-container *ngIf="mealForm.get(\'areaStart\').hasError(\'price\')">\r\n                                \u6700\u5c0f\u9762\u79ef\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u5c0f\u6570\u4fdd\u75592\u4f4d\r\n                            </ng-container>\r\n                        </nz-form-explain>\r\n                    </div>\r\n                    <div nz-col nzSpan="2" class="text-center">--</div>\r\n                    <div nz-col nzSpan="11">\r\n                        <input nz-input type="text" name="areaEnd" formControlName="areaEnd" [(ngModel)]="areaEnd"\r\n                            maxlength="10" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u8303\u56f4\u7ed3\u675f\u503c" />\r\n                        <nz-form-explain *ngIf="mealForm.get(\'areaEnd\').dirty && mealForm.get(\'areaEnd\').errors">\r\n                            <ng-container *ngIf="mealForm.get(\'areaEnd\').hasError(\'required\')">\r\n                                \u5fc5\u586b\u9009\u9879\r\n                            </ng-container>\r\n                            <ng-container *ngIf="mealForm.get(\'areaEnd\').hasError(\'price\')">\r\n                                \u6700\u5927\u9762\u79ef\u53ea\u80fd\u8f93\u5165\u6570\u5b57\u4e14\u5c0f\u6570\u4fdd\u75592\u4f4d\r\n                            </ng-container>\r\n                        </nz-form-explain>\r\n                    </div>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            \x3c!--\u6237\u578b--\x3e\r\n\r\n            <nz-form-item *ngFor="let control of hxArray;let i = index">\r\n                <nz-form-label [nzSpan]="6" *ngIf="i === 0">\u9002\u7528\u6237\u578b</nz-form-label>\r\n                <nz-form-label [nzSpan]="6" *ngIf="i !== 0"></nz-form-label>\r\n                <nz-form-control [nzSpan]="16">\r\n                    <div nz-col nzSpan="4" class="text-right">\u5367\u5ba4\uff1a</div>\r\n                    <div nz-col nzSpan="6">\r\n                        <input nz-input [formControlName]="control.room" maxlength="6"\r\n                            oninput="this.value=this.value.replace(/\\D/g,\'\')" onpaste="return false;"\r\n                            placeholdder="\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf" />\r\n                        <nz-form-explain\r\n                            *ngIf="mealForm.get(control.room)?.dirty && mealForm.get(control.room)?.errors">\r\n                            <ng-container *ngIf="mealForm.get(control.room).hasError(\'required\')">\r\n                                \u5fc5\u586b\u9009\u9879\r\n                            </ng-container>\r\n                            <ng-container *ngIf="mealForm.get(control.room).hasError(\'max\')">\r\n                                \u6700\u591a\u4e3a99\u5ba4\r\n                            </ng-container>\r\n                        </nz-form-explain>\r\n                    </div>\r\n                    <div nz-col nzSpan="4" class="text-right">\u536b\u751f\u95f4\uff1a</div>\r\n                    <div nz-col nzSpan="6">\r\n                        <input nz-input [formControlName]="control.bath" maxlength="6"\r\n                            oninput="this.value=this.value.replace(/\\D/g,\'\')" onpaste="return false;"\r\n                            placeholdder="\u8bf7\u8f93\u5165\u536b\u751f\u95f4\u6570\u91cf" />\r\n                    </div>\r\n\r\n                    <nz-form-explain *ngIf="mealForm.get(control.bath)?.dirty && mealForm.get(control.bath)?.errors">\r\n                        <ng-container *ngIf="mealForm.get(control.bath).hasError(\'required\')">\r\n                            \u5fc5\u586b\u9009\u9879\r\n                        </ng-container>\r\n                        <ng-container *ngIf="mealForm.get(control.bath).hasError(\'max\')">\r\n                            \u6700\u591a\u4e3a99\u536b\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                    <div nz-col nzSpan="2" class="text-right">\r\n                        <a href="javascript:void(0)" (click)="addHx()" *ngIf="i === 0">\r\n                            <i nz-icon type="plus-circle" class="circle"></i></a>\r\n                        <a href="javascript:void(0)" (click)="delHx(control,i,$event)" *ngIf="i !== 0">\r\n                            <i nz-icon type="minus-circle" class="circle del"></i>\r\n                        </a>\r\n                    </div>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]="6">\u5907\u6ce8</nz-form-label>\r\n                <nz-form-control [nzSpan]="16" class="textarea">\r\n                    <textarea nz-input type="text" name="remark" [(ngModel)]="remark" formControlName="remark"\r\n                        maxlength="300" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f" rows="5"></textarea>\r\n                    <span class="count" *ngIf="remark && remark.length > 0"><span>{{remark.length}}</span>/300</span>\r\n                    <nz-form-explain *ngIf="mealForm.get(\'remark\').dirty && mealForm.get(\'remark\').errors">\r\n                        <ng-container *ngIf="mealForm.get(\'remark\').hasError(\'maxLength\')">\r\n                            \u6700\u591a\u8f93\u5165300\u4e2a\u5b57\u7b26\r\n                        </ng-container>\r\n                    </nz-form-explain>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n            <div class="btns">\r\n                <button nz-button nzType="default" (click)="handleCancel()">\u5173\u95ed</button>\r\n                <button nz-button nzType="primary" (click)="handleOk($event)" [disabled]="!mealForm.valid">\u63d0\u4ea4\r\n                </button>\r\n            </div>\r\n        </ul>\r\n    </form>\r\n</nz-modal>\r\n\r\n\x3c!---\u4fee\u6539\u7248\u672c---\x3e\r\n<nz-modal [(nzVisible)]="isVersionVisible" nzTitle="\u9009\u62e9\u7248\u672c" [nzFooter]="null" (nzOnCancel)="handleVersionCancel()">\r\n    <div nz-row>\r\n        <p nz-col nzSpan="16" nzOffset="5" *ngIf="pkg && pkg.versionId > 0">\r\n            <nz-alert nzType="warning" nzMessage="\u4fee\u6539\u7248\u672c\u5c06\u5220\u9664\u5df2\u5f55\u5165\u7684\u9879\u76ee\u6570\u636e"></nz-alert>\r\n        </p>\r\n    </div>\r\n    <form nz-form [formGroup]="typeForm" class="temp-modal">\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="5">\u9009\u62e9\u7248\u672c</nz-form-label>\r\n            <nz-form-control [nzSpan]="16">\r\n                <nz-select name="selectType" [ngModel]="selectType" formControlName="selectType" placeholder="\u8bf7\u9009\u62e9\u7248\u672c">\r\n                    <nz-option *ngFor="let i of versionList" [nzValue]="i" [nzLabel]="i.versionName"></nz-option>\r\n                </nz-select>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n        <div class="btns">\r\n            <button nz-button nzType="default" (click)="handleVersionCancel()">\u5173\u95ed</button>\r\n            <button nz-button nzType="primary" (click)="handleVersionOk($event)" [disabled]="!typeForm.valid">\r\n                \u63d0\u4ea4\r\n            </button>\r\n        </div>\r\n    </form>\r\n</nz-modal>\r\n\r\n\x3c!---\u5927\u9879\u7684\u6dfb\u52a0\u4e0e\u4fee\u6539---\x3e\r\n<nz-modal [(nzVisible)]="isBranchVisible" [nzTitle]="branchTitle" [nzFooter]="null" (nzOnCancel)="handleBranchCancel()">\r\n    <form nz-form [formGroup]="branchForm" class="temp-modal">\r\n        <nz-form-item>\r\n            <nz-form-label [nzSpan]="5">\u5927\u9879\u540d\u79f0</nz-form-label>\r\n            <nz-form-control [nzSpan]="16">\r\n                <input nz-input name="branchName" formControlName="branchName" [(ngModel)]="branchName" maxlength="30"\r\n                    autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u5927\u9879\u540d\u79f0" />\r\n                <nz-form-explain *ngIf="branchForm.get(\'branchName\').dirty && branchForm.get(\'branchName\').errors">\r\n                    <ng-container *ngIf="branchForm.get(\'branchName\').hasError(\'required\')">\r\n                        \u5fc5\u586b\u9009\u9879\r\n                    </ng-container>\r\n                    <ng-container *ngIf="branchForm.get(\'branchName\').hasError(\'maxLength\')">\r\n                        \u81f3\u591a\u8f93\u516530\u4f4d\u5b57\u7b26\r\n                    </ng-container>\r\n\r\n                </nz-form-explain>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n        <div class="btns">\r\n            <button nz-button nzType="default" (click)="handleBranchCancel()">\u5173\u95ed</button>\r\n            <button nz-button nzType="primary" (click)="handleBranchOk($event)" [disabled]="!branchForm.valid">\u63d0\u4ea4\r\n            </button>\r\n        </div>\r\n    </form>\r\n</nz-modal>'}}]);