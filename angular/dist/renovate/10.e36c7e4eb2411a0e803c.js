(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"3wo/":function(n,t,e){"use strict";e.r(t);var a=e("CcnG"),s=e("Ip0R"),o=e("UFnY"),i=e("ZYCi"),c=e("Fgki"),r=e("OHOg"),l=e("Ouoq"),d=e("6Cds"),p=e("FoyA"),u=function(n,t,e,a){var s,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var c=n.length-1;c>=0;c--)(s=n[c])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},f=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},h=function(){function n(n,t,e,a,s){this.request=n,this.userInfo=t,this.router=e,this.activatedRoute=a,this._notification=s,this.isVisibleCustom=!1,this.title="\u5728\u7ebf\u5ba2\u670d",this.salecsList=[]}return n.prototype.ngOnInit=function(){this.loadCustomList()},n.prototype.loadCustomList=function(){var n=this;this.request.doPost({url:"customList",data:{companyId:this.userInfo.getCompanyId()},success:function(t){t&&200==t.code?n.salecsList=t.data:n._notification.create("error","\u6e29\u99a8\u63d0\u793a",t.msg,{nzDuration:2e3})}})},n.prototype.createCustom=function(){this.salecsPhone="",this.isVisibleCustom=!0},n.prototype.handleCancel=function(){this.isVisibleCustom=!1},n.prototype.delCustom=function(n){var t=this;this.request.doPost({url:"delCustom",data:{id:n},success:function(n){n&&200==n.code?(t.loadCustomList(),t._notification.create("success","\u6e29\u99a8\u63d0\u793a",n.msg,{nzDuration:2e3})):t._notification.create("error","\u6e29\u99a8\u63d0\u793a",n.msg,{nzDuration:2e3})}})},n.prototype.addCustom=function(){this.router.navigate(["../add"],{queryParams:{isAdd:1,phone:Object(p.c)(this.salecsList.phone)},relativeTo:this.activatedRoute})},n.prototype.topCustom=function(n){var t=this;this.request.doPost({url:"udpOrderCustom",data:{id:n},success:function(n){n&&200==n.code?t.loadCustomList():t._notification.create("error","\u6e29\u99a8\u63d0\u793a",n.msg,{nzDuration:2e3})}})},n.prototype.udpOrderCustom=function(n,t){var e=this;this.request.doPost({url:"udpOrderCustom",data:{id:n,toId:t},success:function(n){n&&200==n.code?e.loadCustomList():e._notification.create("error","\u6e29\u99a8\u63d0\u793a",n.msg,{nzDuration:2e3})}})},n.prototype.btoa=function(n){return Object(p.c)(n)},n=u([Object(a.Component)({selector:"app-sale-list",template:e("8/cm"),styles:[e("XWIi")]}),f("design:paramtypes",[r.a,l.a,i.g,i.a,d.g])],n)}(),m=e("gIcY"),b=e("5aMp"),g=e("f8yE"),v=e("EJak"),y=function(n,t,e,a){var s,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var c=n.length-1;c>=0;c--)(s=n[c])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},z=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},x=function(){function n(n,t,e,a,s){this.fb=n,this.request=t,this.route=e,this.warn=a,this.userInfo=s}return n.prototype.ngOnInit=function(){var n=this;this.SaleForm=this.fb.group({salecsPhone:[this.salecsPhone,[m.i.required,v.p]]}),this.route.queryParams.subscribe(function(t){t&&t.customId&&(n.id=Object(p.b)(t.customId),n.salecsPhone=Object(p.b)(t.phone)),n.isAdd=t.isAdd}),0!=this.isAdd?this.title="\u65b0\u5efa\u5ba2\u670d":this.title="\u7f16\u8f91\u5ba2\u670d"},n.prototype.back=function(){history.go(-1)},n.prototype.submit=function(){var n,t=this,e={};e.phone=this.salecsPhone,e.companyId=this.userInfo.getCompanyId(),console.log(this.isAdd),0!=this.isAdd?n="createCustom":(n="editCustom",e.id=this.id),this.salecsPhone?this.request.doPost({url:n,data:e,success:function(n){n&&200==n.code?t.warn.onSuccess(n.msg||g.a.SUCCESS.DATA):t.warn.onError(n.msg||g.a.FAIL.DATA)}}):this.warn.onError("\u6e29\u99a8\u63d0\u793a,\u8bf7\u586b\u5199\u5ba2\u670d\u624b\u673a\u53f7")},n=y([Object(a.Component)({selector:"rev-sale-add",template:e("R4dI"),styles:[e("pa+0")]}),z("design:paramtypes",[m.a,r.a,i.a,b.a,l.a])],n)}(),_=function(n,t,e,a){var s,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var c=n.length-1;c>=0;c--)(s=n[c])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},w=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:h,canActivate:[c.b],data:{breadcrumb:"\u5ba2\u670d\u5217\u8868"}},{path:"add",component:x,canActivate:[c.b],data:{breadcrumb:"\u6dfb\u52a0\u5ba2\u670d"}}],C=function(){function n(){}return n=_([Object(a.NgModule)({imports:[s.b,i.h.forChild(w)],exports:[i.h]})],n)}();e.d(t,"SalecsModule",function(){return P});var O=function(n,t,e,a){var s,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,a);else for(var c=n.length-1;c>=0;c--)(s=n[c])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},P=function(){function n(){}return n=O([Object(a.NgModule)({imports:[s.b,o.a,C],declarations:[h,x]})],n)}()},"8/cm":function(n,t){n.exports='<div class="salecs">\n    <div class="salecs_head">\n        \x3c!--<h2 class="salecs_title">\u5728\u7ebf\u5ba2\u670d</h2>--\x3e\n      <rev-title [title]="title"></rev-title>\n        <div class="salecs_btn">\n            <button nz-button [nzType]="\'primary\'" (click)="addCustom()">\u6dfb\u52a0\u5ba2\u670d</button>\n        </div>\n    </div>\n    <div class="salecs_wrap">\n        <nz-table #nzTable [nzFrontPagination] = "false" [nzData]="salecsList" [nzBordered]="true" [nzShowPagination]="false" nzSize="middle"\n        >\n            <thead nz-thead>\n                <tr>\n                    <th>\u9a6c\u514b\u5df4\u8d26\u53f7</th>\n                    <th>\u5173\u6ce8\u516c\u4f17\u53f7</th>\n                    <th>\u7ed1\u5b9a\u5c0f\u7a0b\u5e8f</th>\n                    <th>\u8bbe\u7f6e\u65f6\u95f4</th>\n                    <th>\u79fb\u52a8</th>\n                    <th>\u64cd\u4f5c</th>\n                </tr>\n            </thead>\n            <tbody nz-tbody >\n                <tr nz-tbody-tr *ngFor="let data of nzTable.data;let i = index">\n                    <td title="{{data.phone}}">{{data.phone}}</td>\n                    <td>{{data.miniBind?"\u662f":"\u5426"}}</td>\n                    <td >{{data.wxBind?"\u662f":"\u5426"}}</td>\n                    <td title="{{data.modifyTime | date:\'y-MM-dd\'}}">{{data.modifyTime | date:\'y-MM-dd\'}}</td>\n                    <td class="salecs_move">\n                        <div class="salecs_wrap_ctr">\n                            <span title="\u7f6e\u9876" *ngIf=\'i !== 0\' (click)="topCustom(data.id)"><i class="anticon anticon-to-top"></i></span>\n                            <span title="\u4e0a\u79fb" *ngIf=\'i !== 0\' (click)="udpOrderCustom(data.id,nzTable.data[i-1].id)"><i class="anticon anticon-up-circle-o"></i></span>\n                            <span title="\u4e0b\u79fb" *ngIf=\'i !== nzTable.data.length-1\' (click)="udpOrderCustom(data.id,nzTable.data[i+1].id)"><i class="anticon anticon-down-circle-o"></i></span>\n                        </div>\n                    </td>\n                    <td >\n                            <a href="javascript:void(0)" class="salecs_a"\n                               nz-popconfirm nzTitle="\u786e\u5b9a\u5220\u9664\u8be5\u5ba2\u670d\u5417\uff1f" nzOkText="\u5220\u9664" nzCancelText="\u53d6\u6d88"\n                               (nzOnConfirm)="delCustom(data.id)">\u5220\u9664\n                            </a>\n                            <a href="javascript:void(0)" [routerLink]="[\'../add\']" [queryParams]="{isAdd:0,customId:btoa(data.id),phone:btoa(data.phone)}"\n                           >\u7f16\u8f91</a></td>\n\n                </tr>\n            </tbody>\n        </nz-table>\n    </div>\n</div>\n\n\n    \x3c!-- <nz-modal [(nzVisible)]="isVisibleCustom" nzTitle="\u65b0\u5efa\u5ba2\u670d" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()" nzCancelText="\u5173\u95ed" nzOkText="\u63d0\u4ea4">\n        <div class="salecs_modal">\n            <input type="text" class="com_input" placeholder="\u9a6c\u514b\u5df4\u8d26\u53f7" [(ngModel)]="salecsPhone" maxlength="32"/>\n            <p>\u8bf7\u6dfb\u52a0\u5df2\u7ecf\u5b8c\u6210\u6ce8\u518c\u9a6c\u514b\u5df4APP\u7684\u8d26\u53f7</p>\n        </div>\n    </nz-modal> --\x3e\n\n'},R4dI:function(n,t){n.exports='<rev-title [title]="title"></rev-title>\n<div class="salecs-add">\n  <form nz-form [formGroup]="SaleForm">\n    <nz-form-item>\n      <nz-form-label [nzSpan]="4"><span style="padding-left: 10px;">\u624b\u673a\u53f7\uff1a</span></nz-form-label>\n      <nz-form-control [nzSpan]="7" class="reuse_chk">\n        <input type="text" nz-input class="com_input" formControlName="salecsPhone" placeholder="\u7528\u4e8e\u63a5\u6536APP\u7aef\u4ea7\u54c1\u54a8\u8be2\u6d88\u606f"\n          [(ngModel)]="salecsPhone" maxlength="32" />\n          <nz-form-explain *ngIf="SaleForm.get(\'salecsPhone\').dirty && SaleForm.get(\'salecsPhone\').errors">\n            <ng-container *ngIf="SaleForm.get(\'salecsPhone\').hasError(\'required\')">\n                \u5fc5\u586b\u9009\u9879\n            </ng-container>\n            <ng-container *ngIf="SaleForm.get(\'salecsPhone\').hasError(\'phone\')">\n                \u8f93\u5165\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\n            </ng-container>\n        </nz-form-explain>\n      </nz-form-control>\n    </nz-form-item>\n\n    <div nz-col [nzSpan]="4" class="salecs-add-label"><span>\u5173\u6ce8\u9a6c\u514b\u5df4\u5fae\u4fe1\u516c\u4f17\u53f7\uff1a</span> </div>\n    <div nz-col [nzSpan]="18" class="salecs-add-info" style="margin-bottom: 52px;">\n      <div>\n        <img src="https://qiniu.madrock.com.cn/qr/gzh.jpg" alt="">\n        <span>\n          \u8bf7\u786e\u4fdd\u7528\u4ee5\u4e0a\u624b\u673a\u53f7\u6ce8\u518c\u7684\u5fae\u4fe1\u8d26\u53f7\uff0c\u626b\u7801\u5173\u6ce8\u9a6c\u514b\u5df4\u516c\u4f17\u53f7\uff0c\u5173\u6ce8\u540e\u53ef\u63a5\u6536\u5728\u7ebf\u88c5\u4fee\u5ba2\u6237\u54a8\u8be2\u6d88\u606f\n        </span>\n      </div>\n    </div>\n\n    <div nz-col [nzSpan]="4" class="salecs-add-label"><span>\u7ed1\u5b9a\u5728\u7ebf\u88c5\u4fee\u5c0f\u7a0b\u5e8f\uff1a</span></div>\n    <div nz-col [nzSpan]="18" class="salecs-add-info">\n      <div>\n      <img src="https://qiniu.madrock.com.cn/qr/xcx.jpg" alt="">\n      <span>\n        \u8bf7\u786e\u4fdd\u7528\u4ee5\u4e0a\u624b\u673a\u53f7\u6ce8\u518c\u7684\u5fae\u4fe1\u8d26\u53f7\uff0c\u626b\u7801\u7ed1\u5b9a\u5728\u7ebf\u88c5\u4fee\u5c0f\u7a0b\u5e8f\uff0c\u7ed1\u5b9a\u540e\u624d\u80fd\u63a5\u6536\u5230\u9a6c\u514b\u5df4\u516c\u4f17\u53f7\u7684\u6d88\u606f\u63a8\u9001\n      </span>\n    </div>\n    </div>\n\n  </form>\n</div>\n<div class="about">\n  \u63d0\u4ea4\u524d\u8bf7\u786e\u4fdd\u5df2\u7ecf\u7528\u4ee5\u4e0a\u624b\u673a\u53f7 \u5173\u6ce8\u4e86\u9a6c\u514b\u5df4\u516c\u4f17\u53f7 \u548c \u7ed1\u5b9a\u4e86\u5728\u7ebf\u88c5\u4fee\u5c0f\u7a0b\u5e8f\n</div>\n\n<div class="btn">\n  <button nz-button nzType="default" (click)="back()">\u8fd4\u56de</button>\n  <button nz-button nzType="primary" (click)="submit()">\u63d0\u4ea4</button>\n</div>'},XWIi:function(n,t){n.exports=".salecs {\n  font-size: 16px; }\n  .salecs_head {\n    position: relative; }\n  .salecs_head .salecs_title {\n      font-size: 18px;\n      white-space: nowrap;\n      width: 100%;\n      line-height: 64px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: #666; }\n  .salecs_head .salecs_title a {\n        font-size: 14px; }\n  .salecs_head .salecs_btn {\n      position: absolute;\n      top: 4.5px;\n      right: 0px; }\n  .salecs_head .salecs_btn a {\n        color: white; }\n  .salecs_head .salecs_btn input {\n        display: none;\n        z-index: -999; }\n  .salecs_head .salecs_wrap_ctr {\n      text-align: center; }\n  .salecs_wrap {\n    margin-top: 10px; }\n  .salecs_wrap tr th,\n    .salecs_wrap tr td {\n      font-size: 14px;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden; }\n  .salecs_wrap tr th a,\n      .salecs_wrap tr td a {\n        padding-right: 4px;\n        color: #007bff; }\n  .salecs_wrap tr th,\n    .salecs_wrap tr td:not(.w10) {\n      max-width: 60px; }\n  .salecs_wrap td.salecs_move div {\n      margin: 0 auto; }\n  .salecs_wrap td.salecs_move div span {\n        display: inline-block;\n        width: 25px;\n        height: 25px;\n        line-height: 25px;\n        cursor: pointer;\n        margin: 0 12px; }\n  .salecs_wrap td.salecs_move div span i {\n          font-size: 20px; }\n  .salecs_wrap td.salecs_move div span:hover {\n          color: #0a8ddf; }\n  .salecs_a {\n  color: #0099ff;\n  display: inline-block;\n  margin: 2.5px; }\n  .salecs_modal input {\n  width: 100%;\n  margin: 12px 0; }\n  .salecs_modal p {\n  color: red; }\n"},"pa+0":function(n,t){n.exports=".salecs-add {\n  margin-top: 50px; }\n  .salecs-add-info > div {\n    display: inline-block;\n    background: whitesmoke; }\n  .salecs-add-info > div img {\n      width: 132px; }\n  .salecs-add-info > div > span {\n      display: inline-block;\n      width: 257px;\n      vertical-align: middle;\n      color: rgba(0, 0, 0, 0.45);\n      margin-left: 16px; }\n  .salecs-add-label {\n    text-align: right;\n    padding-right: 11px; }\n  .btn {\n  margin: 16px 0 0 224px;\n  display: block;\n  text-align: left; }\n  .btn button:first-child {\n    margin-right: 24px; }\n  .about {\n  margin: 32px 0 0 238px;\n  color: rgba(0, 0, 0, 0.45);\n  display: inline-block;\n  font-size: 14px; }\n"}}]);