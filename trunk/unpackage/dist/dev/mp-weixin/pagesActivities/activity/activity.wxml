<view class="mkb-activity"><block wx:if="{{coloration}}"><view class="activity-home" style="{{'background:'+(homeStyle)+';'}}"><block wx:if="{{activityHomeImgs&&activityCntImgs.length>0}}"><view class="home-img"><block wx:for="{{activityHomeImgs}}" wx:for-item="ahImg" wx:for-index="index" wx:key="index"><view><image class="image" src="{{ahImg.image+'?imageslim'}}" mode="widthFix" lazy-load="true"></image></view></block></view></block><view class="home-cnt"><view class="home-cnt-side1"><view class="side-activity"><view class="side-activity-title" style="{{'border-color:'+(themeColor)+';'+('box-shadow:'+(titleBoxShadowStyle)+';')+('background-color:'+(themeColor)+';')}}"><block wx:if="{{nickname}}"><text class="title-text" style="{{'color:'+(themeColor)+';'}}">{{"发起人:"+nickname}}</text></block><block wx:else><text class="title-text" style="{{'color:'+(themeColor)+';'}}">好友助力抢福利</text></block><view class="title-mask"></view></view><block wx:if="{{isOnline===1}}"><view class="side-activity-interval"><text class="interval-text" style="{{'color:'+(themeColor)+';'}}">还剩</text><text class="interval-time" style="{{'background-color:'+(themeColor)+';'}}">{{hour>=10?hour:'0'+hour}}</text><text class="interval-mark" style="{{'color:'+(themeColor)+';'}}">:</text><text class="interval-time" style="{{'background-color:'+(themeColor)+';'}}">{{minute>=10?minute:'0'+minute}}</text><text class="interval-mark" style="{{'color:'+(themeColor)+';'}}">:</text><text class="interval-time" style="{{'background-color:'+(themeColor)+';'}}">{{seconds>=10?seconds:'0'+seconds}}</text><text class="interval-text" style="{{'color:'+(themeColor)+';'}}">结束</text></view></block><block wx:if="{{isOline===0||rawTime}}"><view class="side-activity-interval"><block wx:if="{{activityST}}"><text class="interval-text" style="{{'color:'+(themeColor)+';'}}">{{"活动将于"+$root.f0+"开始,敬请期待！"}}</text></block><block wx:else><text class="interval-text" style="{{'color:'+(themeColor)+';'}}">活动尚未开始，敬请期待！</text></block></view></block><block wx:if="{{isOnline===2||activityDown}}"><view class="side-activity-interval"><block wx:if="{{activityET}}"><text class="interval-text" style="{{'color:'+(themeColor)+';'}}">{{"活动已于"+$root.f1+"结束！"}}</text></block><block wx:else><text class="interval-text" style="{{'color:'+(themeColor)+';'}}">活动已结束！</text></block></view></block><block wx:if="{{!$root.m0&&!activitySpill}}"><view class="side-activity-text"><view class="side-activity-text-block icon-left"><view class="icon-line" style="{{'background-color:'+(themeColor)+';'}}"></view><view class="icon-circle" style="{{'background-color:'+(themeColor)+';'}}"></view></view><view class="side-activity-text-block">还差<text style="{{'color:'+(themeColor)+';'}}">{{total-$root.m1}}</text>人助力</view><view class="side-activity-text-block icon-right"><view class="icon-line" style="{{'background-color:'+(themeColor)+';'}}"></view><view class="icon-circle" style="{{'background-color:'+(themeColor)+';'}}"></view></view></view></block><block wx:if="{{$root.m2||activitySpill}}"><view class="side-activity-text"><view class="side-activity-text-block icon-left"><view class="icon-line" style="{{'background-color:'+(themeColor)+';'}}"></view><view class="icon-circle" style="{{'background-color:'+(themeColor)+';'}}"></view></view><block wx:if="{{role===1&&code}}"><view class="side-activity-text-block">恭喜您完成全部<text style="{{'color:'+(themeColor)+';'}}">{{total}}</text>人助力</view></block><block wx:else><block wx:if="{{!$root.m3}}"><view class="side-activity-text-block">还差<text style="{{'color:'+(themeColor)+';'}}">{{total-$root.m4}}</text>人助力</view></block><block wx:else><view class="side-activity-text-block">TA已完成全部<text style="{{'color:'+(themeColor)+';'}}">{{total}}</text>人助力</view></block></block><view class="side-activity-text-block icon-right"><view class="icon-line" style="{{'background-color:'+(themeColor)+';'}}"></view><view class="icon-circle" style="{{'background-color:'+(themeColor)+';'}}"></view></view></view></block><block wx:if="{{($root.m5||activitySpill)&&role===1&&code}}"><view class="side-activity-code"><text class="code-title" style="{{'color:'+(themeColor)+';'}}">以下是您获得的验证码</text><view class="code-rand"><text class="code-rand-text" style="{{'color:'+(themeColor)+';'}}">{{code}}</text><view class="code-rand-mask" style="{{'background-color:'+(themeColor)+';'}}"></view></view></view></block><block wx:if="{{loginStatus===1&&role!==1}}"><view class="side-activity-progress"><progress percent="{{$root.m6}}" activeColor="{{themeColor}}" active="{{true}}" stroke-width="8" border-radius="16" duration="{{10}}"></progress><view class="progress-text"><view class="progress-text-start"><view class="triggle" style="{{'border-color:'+($root.m7)+';'}}"></view><text class="text" style="{{'color:'+($root.m8)+';'}}">开始</text><view class="mask" style="{{'background-color:'+($root.m9)+';'}}"></view></view><view class="progress-text-middle"><view class="triggle" style="{{'border-color:'+($root.m10)+';'}}"></view><text class="text" style="{{'color:'+($root.m11)+';'}}">只剩一半啦</text><view class="mask" style="{{'background-color:'+($root.m12)+';'}}"></view></view><view class="progress-text-end"><view class="triggle" style="{{'border-color:'+($root.m13)+';'}}"></view><text class="text" style="{{'color:'+($root.m14)+';'}}">完成</text><view class="mask" style="{{'background-color:'+($root.m15)+';'}}"></view></view></view></view></block><block wx:if="{{loginStatus===1&&role===1&&!$root.m16}}"><view class="side-activity-progress"><progress percent="{{$root.m17}}" activeColor="{{themeColor}}" active="{{true}}" stroke-width="8" border-radius="16"></progress><view class="progress-text"><view class="progress-text-start"><view class="triggle" style="{{'border-color:'+($root.m18)+';'}}"></view><text class="text" style="{{'color:'+($root.m19)+';'}}">开始</text><view class="mask" style="{{'background-color:'+($root.m20)+';'}}"></view></view><view class="progress-text-middle"><view class="triggle" style="{{'border-color:'+($root.m21)+';'}}"></view><text class="text" style="{{'color:'+($root.m22)+';'}}">只剩一半啦</text><view class="mask" style="{{'background-color:'+($root.m23)+';'}}"></view></view><view class="progress-text-end"><view class="triggle" style="{{'border-color:'+($root.m24)+';'}}"></view><text class="text" style="{{'color:'+($root.m25)+';'}}">完成</text><view class="mask" style="{{'background-color:'+($root.m26)+';'}}"></view></view></view></view></block><block wx:if="{{loginStatus===0}}"><view class="side-activity-progress"><progress percent="{{$root.m27}}" activeColor="{{themeColor}}" active="{{true}}" stroke-width="8" border-radius="16"></progress><view class="progress-text"><view class="progress-text-start"><view class="triggle" style="{{'border-color:'+($root.m28)+';'}}"></view><text class="text" style="{{'color:'+($root.m29)+';'}}">开始</text><view class="mask" style="{{'background-color:'+($root.m30)+';'}}"></view></view><view class="progress-text-middle"><view class="triggle" style="{{'border-color:'+($root.m31)+';'}}"></view><text class="text" style="{{'color:'+($root.m32)+';'}}">只剩一半啦</text><view class="mask" style="{{'background-color:'+($root.m33)+';'}}"></view></view><view class="progress-text-end"><view class="triggle" style="{{'border-color:'+($root.m34)+';'}}"></view><text class="text" style="{{'color:'+($root.m35)+';'}}">完成</text><view class="mask" style="{{'background-color:'+($root.m36)+';'}}"></view></view></view></view></block><block wx:if="{{$root.m37&&!activitySpill}}"><view class="side-activity-btns"><block wx:if="{{loginStatus===0}}"><button class="btn-fight" style="{{'background-color:'+(themeColor)+';'+('box-shadow:'+(fightStyle)+';')}}" open-type="getUserInfo" data-event-opts="{{[['getuserinfo',[['getUserInfo',['$event','fight']]]]]}}" bindgetuserinfo="__e">一键帮TA助力</button></block><block wx:if="{{loginStatus===1&&!$root.m38}}"><button data-event-opts="{{[['tap',[['fightActivity',['$event']]]]]}}" class="btn-fight" style="{{'background-color:'+(themeColor)+';'+('box-shadow:'+(fightStyle)+';')}}" catchtap="__e">一键帮TA助力</button></block><block wx:if="{{loginStatus===1&&$root.m39}}"><button class="btn-fight disabled" style="{{'background-color:'+(themeColor)+';'+('box-shadow:'+(fightStyle)+';')}}">已为TA助力</button></block><block wx:if="{{loginStatus===0}}"><button class="btn-share" style="{{'border-color:'+(themeColor)+';'+('color:'+(themeColor)+';')}}" open-type="getUserInfo" data-state="2" data-event-opts="{{[['getuserinfo',[['getUserInfo',['$event','share',2]]]]]}}" bindgetuserinfo="__e">邀请好友为TA助力</button></block><block wx:if="{{loginStatus===1}}"><button class="btn-share" style="{{'border-color:'+(themeColor)+';'+('color:'+(themeColor)+';')}}" open-type="share" data-state="2">邀请好友为TA助力</button></block></view></block><block wx:if="{{!$root.m40&&!activitySpill&&role===1}}"><view class="side-activity-btns"><block wx:if="{{loginStatus===0}}"><button class="btn-fight" style="{{'background-color:'+(themeColor)+';'+('box-shadow:'+(fightStyle)+';')}}" open-type="getUserInfo" data-state="1" data-event-opts="{{[['getuserinfo',[['getUserInfo',['$event','share',1]]]]]}}" bindgetuserinfo="__e">邀请好友为我助力</button></block><block wx:if="{{loginStatus===1}}"><button class="btn-fight" style="{{'background-color:'+(themeColor)+';'+('box-shadow:'+(fightStyle)+';')}}" open-type="share" data-state="1">邀请好友为我助力</button></block><block wx:if="{{loginStatus===0}}"><button class="btn-share" style="{{'border-color:'+(themeColor)+';'+('color:'+(themeColor)+';')}}" open-type="getUserInfo" data-event-opts="{{[['getuserinfo',[['getUserInfo',['$event','poster',1]]]]]}}" bindgetuserinfo="__e">生成海报</button></block><block wx:if="{{loginStatus===1}}"><button data-event-opts="{{[['tap',[['getQrcodeImg',['$0'],['hostId']]]]]}}" class="btn-share" style="{{'border-color:'+(themeColor)+';'+('color:'+(themeColor)+';')}}" bindtap="__e">生成海报</button></block></view></block><block wx:if="{{$root.m41&&!activitySpill}}"><view class="side-activity-fb"><block wx:if="{{loginStatus===0&&$root.m42}}"><button class="fb-flex" open-type="getUserInfo" data-event-opts="{{[['getuserinfo',[['getUserInfo',['$event','share',1]]]]]}}" bindgetuserinfo="__e"><view class="fb-flex-icon"><uni-icons vue-id="15540d9a-1" type="zhuli" color="{{themeColor}}" size="60" bind:__l="__l"></uni-icons></view><text class="fb-flex-text" style="{{'color:'+(themeColor)+';'}}">邀请好友为我助力</text></button></block><block wx:if="{{loginStatus===1&&$root.m43}}"><button class="fb-flex" open-type="share" data-state="1"><view class="fb-flex-icon"><uni-icons vue-id="15540d9a-2" type="zhuli" color="{{themeColor}}" size="60" bind:__l="__l"></uni-icons></view><text class="fb-flex-text" style="{{'color:'+(themeColor)+';'}}">邀请好友为我助力</text></button></block><block wx:if="{{loginStatus===0}}"><button class="fb-flex" open-type="getUserInfo" data-event-opts="{{[['getuserinfo',[['getUserInfo',['$event','poster',1]]]]]}}" bindgetuserinfo="__e"><view class="fb-flex-icon"><uni-icons vue-id="15540d9a-3" type="haibao" color="{{themeColor}}" size="60" bind:__l="__l"></uni-icons></view><text class="fb-flex-text" style="{{'color:'+(themeColor)+';'}}">生成我的助力海报</text></button></block><block wx:if="{{loginStatus===1&&$root.m44}}"><button data-event-opts="{{[['tap',[['getQrcodeImg',['$0'],['guestId']]]]]}}" class="fb-flex" bindtap="__e"><view class="fb-flex-icon"><uni-icons vue-id="15540d9a-4" type="haibao" color="{{themeColor}}" size="60" bind:__l="__l"></uni-icons></view><text class="fb-flex-text" style="{{'color:'+(themeColor)+';'}}">生成我的助力海报</text></button></block></view></block><block wx:if="{{activitySpill&&(!code&&role===1||role!==1)}}"><view class="side-activity-state"><view class="state-circle"><uni-icons vue-id="15540d9a-5" type="tishi" color="{{themeColor}}" size="80" bind:__l="__l"></uni-icons><view class="state-circle-mask" style="{{'background-color:'+(themeColor)+';'}}"></view></view><text class="state-text" style="{{'color:'+(themeColor)+';'}}">{{"很遗憾，活动奖励"+limit+"人已全部产生， 下次再来吧！"}}</text></view></block></view><block wx:if="{{$root.m45}}"><view class="side-activity-text side-info-text"><view class="side-activity-text-block icon-left"><view class="icon-line" style="{{'background-color:'+(themeColor)+';'}}"></view><view class="icon-circle" style="{{'background-color:'+(themeColor)+';'}}"></view></view><view class="side-activity-text-block">已有<text style="{{'color:'+(themeColor)+';'}}">{{$root.m46}}</text>人助力</view><view class="side-activity-text-block icon-right"><view class="icon-line" style="{{'background-color:'+(themeColor)+';'}}"></view><view class="icon-circle" style="{{'background-color:'+(themeColor)+';'}}"></view></view></view></block><view class="side-imgs"><block wx:if="{{headImgs&&headImgs.length>0}}"><scroll-view scroll-x="true"><block wx:for="{{headImgs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="side-imgs-item"><image src="{{item.headImg}}" lazy-load="true"></image></view></block></scroll-view></block></view><view class="side-mask"></view></view><block wx:if="{{activityCntImgs&&activityCntImgs.length>0}}"><view class="home-cnt-side2"><block wx:for="{{activityCntImgs}}" wx:for-item="actImg" wx:for-index="index" wx:key="index"><block wx:if="{{index>0}}"><view><image src="{{actImg.image+'?imageslim'}}" mode="widthFix" lazy-load="true"></image></view></block></block></view></block></view></view></block><canvas class="poster-canvas" style="width:4px;height:2px;" canvas-id="img"></canvas><canvas class="poster-canvas" style="width:1242px;height:2200px;" canvas-id="poster"></canvas><block wx:if="{{posterBool}}"><view data-event-opts="{{[['tap',[['closePoster',['$event']]]]]}}" class="poster" catchtap="__e"><view class="poster-close"><uni-icons vue-id="15540d9a-6" color="rgba(255,255,255,1)" size="40" type="guanbi" bind:__l="__l"></uni-icons></view><view class="poster-img"><cover-image class="image" src="{{posterImg}}"></cover-image></view><view class="poster-btns"><button data-event-opts="{{[['tap',[['savePhoto',['$event']]]]]}}" class="poster-btns-item" catchtap="__e">保存到手机</button></view></view></block></view>