{"version":3,"sources":["webpack:///E:/app/main.js","webpack:///E:/app/pages/user/info.vue?2a70","webpack:///E:/app/pages/user/info.vue?c14a","webpack:///E:/app/pages/user/info.vue?1073","webpack:///E:/app/pages/user/info.vue?caea","webpack:///E:/app/pages/user/info.vue","webpack:///E:/app/pages/user/info.vue?a324","webpack:///E:/app/pages/user/info.vue?abaf"],"names":["createPage","Page","data","upTokens","uptoken","url","avatarUrl","nickName","phone","computed","onShow","onLoad","loadUserInfo","methods","loadUpToken","Promise","resolve","reject","$http","getUpToken","then","res","catch","err","uni","showLoading","getUserInfo","hideLoading","code","userInfo","headImg","nickname","$store","dispatch","showToast","icon","title","msg","Messages","FAIL_INFO","changeUserInfo","type","params","that","setUserInfo","SUCCESS_INFO","openCimera","wx","chooseImage","count","sizeType","sourceType","success","console","log","tempFilePaths","length","uploadQiniu","UPLOAD_IMG_LOADING","JSON","parse","e","stringify","getPhoneNumber","login","provider","loginRes","detail","iv","commit","encryptedData","bindUserPhone","FAIL_AUTH","error","tokens","filePath","key","Math","round","random","Date","getTime","uploadFile","qiniuUpload","name","header","formData","token","statusCode","fail","none"],"mappings":"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","file":"pages/user/info.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/user/info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./info.vue?vue&type=template&id=b2cdc9e6&\"\nvar renderjs\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b2cdc9e6')) {\n      api.createRecord('b2cdc9e6', component.options)\n    } else {\n      api.reload('b2cdc9e6', component.options)\n    }\n    module.hot.accept(\"./info.vue?vue&type=template&id=b2cdc9e6&\", function () {\n      api.rerender('b2cdc9e6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/app/pages/user/info.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=template&id=b2cdc9e6&\"","var components = {\n  \"uni-icons\": () =>\n    import(/* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Messages from \"../../util/messages.js\"\nimport {\n\tqiniuUpload\n} from \"../../util/config.js\"\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tupTokens: {\n\t\t\t\tuptoken: null,\n\t\t\t\turl: null\n\t\t\t},\n\t\t\tavatarUrl: null,\n\t\t\tnickName: null,\n\t\t\tphone: null\n\t\t}\n\t},\n\tcomputed:{\n\t\t// userInfo(){\n\t\t// \treturn this.$store.state.userInfo;\n\t\t// }\n\t},\n\tonShow(){\n\t\t\n\t},\n\tonLoad() {\n\t\tthis.loadUserInfo();\n\t},\n\tmethods: {\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * 拉取上传token\n\t\t */\n\t\tloadUpToken() {\n\t\t\treturn new Promise((resolve,reject) =>{\n\t\t\t\tthis.$http.getUpToken().then(res => {\n\t\t\t\t\tresolve(res);\n\t\t\t\t}).catch(err => {\n\t\t\t\t\treject(err);\n\t\t\t\t})\n\t\t\t})\n\t\t\t\n\t\t},\n\n\n\t\t/**\n\t\t * 拉取当前客户信息\n\t\t */\n\t\tloadUserInfo() {\n\t\t\tuni.showLoading();\n\t\t\tthis.$http.getUserInfo().then(res => {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tif (res && res.code == 200) {\n\t\t\t\t\tlet userInfo = {\n\t\t\t\t\t\tavatarUrl: res.data.headImg,\n\t\t\t\t\t\tnickName: res.data.nickname,\n\t\t\t\t\t\tphone: res.data.phone ? res.data.phone : null\n\t\t\t\t\t};\n\t\t\t\t\tthis.nickName = userInfo.nickName;\n\t\t\t\t\tthis.avatarUrl = userInfo.avatarUrl;\n\t\t\t\t\tthis.phone = userInfo.phone;\n\t\t\t\t\t\n\t\t\t\t\tthis.$store.dispatch(\"setUserInfo\", userInfo);\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: res.msg || Messages.FAIL_INFO\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: err.msg || Messages.FAIL_INFO\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * 提交修改用户信息\n\t\t */\n\t\tchangeUserInfo(type,data) {\n\t\t\tlet params = {},that = this;\n\t\t\tif(type === \"headImg\"){\n\t\t\t\tparams[\"headImg\"] = data;\n\t\t\t}else if(type === \"nick\"){\n\t\t\t\tparams[\"nickname\"] = data;\n\t\t\t} \n\t\t\tif(data){\n\t\t\t\tuni.showLoading();\n\t\t\t\tthis.$http.setUserInfo(params).then(res => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tif (res && res.code == 200) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.msg || Messages.SUCCESS_INFO\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet userInfo = {};\n\t\t\t\t\t\tif(type === \"headImg\"){\n\t\t\t\t\t\t\tuserInfo[\"avatarUrl\"] = params[\"headImg\"];\n\t\t\t\t\t\t\tthat.avatarUrl = params[\"headImg\"];\n\t\t\t\t\t\t}else if(type === \"nick\"){\n\t\t\t\t\t\t\tuserInfo[\"nickName\"] = params[\"nickname\"];\n\t\t\t\t\t\t\tthat.nickName = params[\"nickname\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.$store.dispatch('setUserInfo', userInfo);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.msg || Messages.FAIL_INFO\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: err.msg || Messages.FAIL_INFO\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * 打开图片库\n\t\t */\n\t\topenCimera() {\n\t\t\tlet that = this;\n\t\t\twx.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['original', 'compressed'],// 可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif(res && res.tempFilePaths.length > 0){\n\t\t\t\t\t\tif(that.upTokens.uptoken){\n\t\t\t\t\t\t\tthat.uploadQiniu(that.upTokens,res.tempFilePaths[0]);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\ttitle: Messages.UPLOAD_IMG_LOADING\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.loadUpToken().then(data =>{\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tif(data && data.code == 200){\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tthat.upTokens = JSON.parse(data.data);\n\t\t\t\t\t\t\t\t\t\tthat.uploadQiniu(that.upTokens,res.tempFilePaths[0]);\n\t\t\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\t\t\t\ttitle:JSON.stringify(e)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\t\t\ttitle: data.msg || Messages.FAIL_INFO\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).catch(err =>{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\t\ttitle: JSON.stringify(err)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * 电话号码授权处理\n\t\t * @param {Object} e\n\t\t */\n\t\tgetPhoneNumber(e) {\n\t\t\tlet that = this;\n\t\t\t// wx.checkSession({\n\t\t\t// \tsuccess:(res) => {\n\t\t\t// \t\tconsole.log(res);\n\t\t\t// \t\tif(res.errMsg === \"checkSession:ok\"){\n\t\t\t// \t\t\tlet code = uni.getStorageSync(\"randCode\");\n\t\t\t// \t\t\tif (e.detail && e.detail.iv && code) {\n\t\t\t// \t\t\t\tlet params = {\n\t\t\t// \t\t\t\t\tcode: code,\n\t\t\t// \t\t\t\t\tencryptedData: e.detail.encryptedData,\n\t\t\t// \t\t\t\t\tiv: e.detail.iv\n\t\t\t// \t\t\t\t};\n\t\t\t// \t\t\t\tconsole.log(params);\n\t\t\t// \t\t\t\tthat.bindUserPhone(params);\n\t\t\t// \t\t\t}else{\n\t\t\t// \t\t\t\tuni.showToast({\n\t\t\t// \t\t\t\t\ticon:\"none\",\n\t\t\t// \t\t\t\t\ttitle: Messages.FAIL_AUTH\n\t\t\t// \t\t\t\t})\n\t\t\t// \t\t\t}\n\t\t\t// \t\t}\n\t\t\t// \t},\n\t\t\t// \tfail:(res) => {\n\t\t\t\t\tuni.login({\n\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\t\t\tif (e.detail.iv && loginRes && loginRes.code) {\n\t\t\t\t\t\t\t\tthat.$store.commit(\"setRandCode\",loginRes.code);\n\t\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\t\tcode: loginRes.code,\n\t\t\t\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\n\t\t\t\t\t\t\t\t\tiv: e.detail.iv\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthat.bindUserPhone(params);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\t\ttitle: Messages.FAIL_AUTH\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t// }\n\t\t\t// })\n\t\t},\n\t\t\n\t\t/**\n\t\t * 绑定用户手机号码\n\t\t * @param {Object} params\n\t\t */\n\t\tbindUserPhone(params){\n\t\t\tlet that = this;\n\t\t\tthat.$http.bindUserPhone(params).then(res => {\n\t\t\t\tif (res && res.code == 200) {\n\t\t\t\t\tlet userInfo = {\n\t\t\t\t\t\tphone: res.data.phone\n\t\t\t\t\t};\n\t\t\t\t\tthat.phone = userInfo.phone;\n\t\t\t\t\tthat.$store.dispatch(\"setUserInfo\", userInfo);\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: res.msg || Messages.FAIL_AUTH\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: err.msg || Messages.FAIL_AUTH\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\t//上传图片到七牛\n\t\tuploadQiniu(tokens, filePath) {\n\t\t\tlet that = this;\n\t\t\tif (tokens.uptoken) {\n\t\t\t\tlet key = `mini/user-info/head/img-${Math.round(Math.random()*new Date().getTime()+1)}`;\n\t\t\t\twx.uploadFile({\n\t\t\t\t\turl: qiniuUpload.url,\n\t\t\t\t\tname: \"file\",\n\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\"\n\t\t\t\t\t},\n\t\t\t\t\tformData: {\n\t\t\t\t\t\ttoken: tokens.uptoken,\n\t\t\t\t\t\tkey: key\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif(res && res.statusCode == 200){\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tlet data = JSON.parse(res.data);\n\t\t\t\t\t\t\t\tlet headImg = `${tokens.url}/${data.key}`;\n\t\t\t\t\t\t\t    that.changeUserInfo('headImg',headImg);\t\t\t\t\n\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\t\ttitle:JSON.stringify(e)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail:(err) =>{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: none,\n\t\t\t\t\t\t\ttitle: JSON.stringify(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}