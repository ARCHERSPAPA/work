{"version":3,"sources":["webpack:///E:/xiaochengxu/v2.2.3/components/gaoyia-parse/parse.vue?4913","webpack:///E:/xiaochengxu/v2.2.3/components/gaoyia-parse/parse.vue?2ee9","webpack:///E:/xiaochengxu/v2.2.3/components/gaoyia-parse/parse.vue?0e9a","webpack:///E:/xiaochengxu/v2.2.3/components/gaoyia-parse/parse.vue?3cb9","webpack:///E:/xiaochengxu/v2.2.3/components/gaoyia-parse/parse.vue"],"names":["name","components","wxParseTemplate","props","userSelect","type","String","default","imgOptions","Object","Boolean","loop","indicator","longPressActions","loading","className","content","noData","startHandler","Function","node","attr","class","style","endHandler","charsHandler","imageProp","mode","padding","lazyLoad","domain","data","nodes","imageUrls","wxParseWidth","value","computed","watch","setHtml","mounted","methods","getWidth","then","parseData","customHandler","start","end","chars","results","forEach","item","setTimeout","push","Promise","res","rej","uni","createSelectorQuery","in","select","fields","size","scrollOffset","width","exec","navigate","href","$event","console","log","$emit","preview","src","length","previewImage","current","urls","removeImageUrl","splice","indexOf","provide","parseWidth","parseSelect"],"mappings":"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","file":"components/gaoyia-parse/parse.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./parse.vue?vue&type=template&id=7f20aec9&\"\nvar renderjs\nimport script from \"./parse.vue?vue&type=script&lang=js&\"\nexport * from \"./parse.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7f20aec9')) {\n      api.createRecord('7f20aec9', component.options)\n    } else {\n      api.reload('7f20aec9', component.options)\n    }\n    module.hot.accept(\"./parse.vue?vue&type=template&id=7f20aec9&\", function () {\n      api.rerender('7f20aec9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/xiaochengxu/v2.2.3/components/gaoyia-parse/parse.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./parse.vue?vue&type=template&id=7f20aec9&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./parse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./parse.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport HtmlToJson from './libs/html2json'\nimport wxParseTemplate from './components/wxParseTemplate0'\n\nexport default {\n  name: 'WxParse',\n  components: {\n    wxParseTemplate\n  },\n  props: {\n    // user-select:none;\n    userSelect: {\n      type: String,\n      default: 'text' // none |text| all | element\n    },\n    imgOptions: {\n      type: [Object, Boolean],\n      default: function() {\n        return {\n          loop: false,\n          indicator: 'number',\n          longPressActions: false\n          // longPressActions: {\n          // \t itemList: ['发送给朋友', '保存图片', '收藏'],\n          // \t\tsuccess: function (res) {\n          // \t\t\tconsole.log('选中了第' + (res.tapIndex + 1) + '个按钮');\n          // \t\t},\n          // \t\tfail: function (res) {\n          // \t\t\tconsole.log(res.errMsg);\n          // \t\t}\n          // \t}\n          // }\n        }\n      }\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    className: {\n      type: String,\n      default: ''\n    },\n    content: {\n      type: String,\n      default: ''\n    },\n    noData: {\n      type: String,\n      default: ''\n    },\n    startHandler: {\n      type: Function,\n      default() {\n        return node => {\n          node.attr.class = null\n          node.attr.style = null\n        }\n      }\n    },\n    endHandler: {\n      type: Function,\n      default: null\n    },\n    charsHandler: {\n      type: Function,\n      default: null\n    },\n    imageProp: {\n      type: Object,\n      default() {\n        return {\n          mode: 'aspectFit',\n          padding: 0,\n          lazyLoad: false,\n          domain: ''\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      nodes: {},\n      imageUrls: [],\n      wxParseWidth: {\n        value: 0\n      }\n    }\n  },\n  computed: {},\n  watch: {\n    content() {\n      this.setHtml()\n    }\n  },\n  mounted() {\n    this.setHtml()\n  },\n  methods: {\n    setHtml() {\n      this.getWidth().then((data) => {\n        this.wxParseWidth.value = data\n      })\n      const {\n        noData,\n        imageProp,\n        startHandler,\n        endHandler,\n        charsHandler\n      } = this\n      const parseData = this.content\n      const customHandler = {\n        start: startHandler,\n        end: endHandler,\n        chars: charsHandler\n      }\n      const results = HtmlToJson(parseData, customHandler, imageProp, this)\n      this.imageUrls = results.imageUrls\n\n      this.nodes = []\n      results.nodes.forEach((item) => {\n        setTimeout(() => {\n          this.nodes.push(item)\n        }, 0)\n      })\n    },\n    getWidth() {\n      return new Promise((res, rej) => {\n\n        uni.createSelectorQuery()\n          .in(this)\n          .select('.wxParse')\n          .fields({\n            size: true,\n            scrollOffset: true\n          },\n          data => {\n            res(data.width)\n          }\n          ).exec()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n      })\n    },\n    navigate(href, $event, attr) {\n      console.log(href, attr)\n      this.$emit('navigate', href, $event)\n    },\n    preview(src, $event) {\n      if (!this.imageUrls.length || typeof this.imgOptions === 'boolean') {\n\n      } else {\n        uni.previewImage({\n          current: src,\n          urls: this.imageUrls,\n          loop: this.imgOptions.loop,\n          indicator: this.imgOptions.indicator,\n          longPressActions: this.imgOptions.longPressActions\n        })\n      }\n      this.$emit('preview', src, $event)\n    },\n    removeImageUrl(src) {\n      const {\n        imageUrls\n      } = this\n      imageUrls.splice(imageUrls.indexOf(src), 1)\n    }\n  },\n  // 父组件中提供\n  provide() {\n    return {\n      parseWidth: this.wxParseWidth,\n      parseSelect: this.userSelect\n      // 提示：provide 和 inject 绑定并不是可响应的。这是刻意为之的。然而，如果你传入了一个可监听的对象，那么其对象的属性还是可响应的。\n    }\n  }\n}\n"],"sourceRoot":""}