{"version":3,"sources":["webpack:///E:/xiaochengxu/v2.2.3/main.js","webpack:///E:/xiaochengxu/v2.2.3/App.vue?74fb","webpack:///E:/xiaochengxu/v2.2.3/App.vue?87c8","webpack:///E:/xiaochengxu/v2.2.3/App.vue","webpack:///E:/xiaochengxu/v2.2.3/App.vue?6976","webpack:///E:/xiaochengxu/v2.2.3/App.vue?f8f8"],"names":["Vue","use","Http","MinRouter","config","productionTip","Object","keys","filters","forEach","key","filter","component","uniIcons","mkbEmpty","prototype","$store","store","App","mpType","app","http","minRouter","$mount","Services","require","RongIMLib","globalData","data","appKey","token","wx","getStorageSync","computed","userInfo","state","loginStatus","onLaunch","that","uni","dispatch","console","log","canIUse","updateManager","getUpdateManager","onCheckForUpdate","res","hasUpdate","onUpdateReady","showModal","title","content","success","confirm","applyUpdate","onUpdateFailed","checkLogin","onShow","methods","login","provider","loginRes","code","$http","getSessionToken","then","avatarUrl","isSubscribe","nickName","userId","commit","initSDK","context","self","imUserRegister","id","name","portraitUri","modules","protobuf","params","connectToken","callbacks","receiveNewMessage","message","$emit","getCurrentUser","onTokenIncorrect","networkError","msg","Status","getCurrentConnectionStatus","reconnect","watchConversationList","list","init","catch","err"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport Http from './util/http'\r\nimport http from './api/api'\r\nimport store from './store'\r\nimport filters from './filter/filter.js'\r\nimport MinRouter from './router/MinRouter'\r\nimport minRouter from './router/router'\r\nimport uniIcons from './components/uni-icons/uni-icons.vue'\r\n//空数据页面\r\nimport mkbEmpty from './components/mkb-empty/mkb-empty.vue'\r\n\r\nVue.use(Http)\r\nVue.use(MinRouter)\r\n\r\nVue.config.productionTip = false\r\nObject.keys(filters).forEach((key) => { \r\n\tVue.filter(key, filters[key]) \r\n});\r\n\r\n//注册页面图标\r\nVue.component('uni-icons', uniIcons)\r\nVue.component('mkb-empty', mkbEmpty)\r\n\r\nVue.prototype.$store = store\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n  ...App,\r\n  http,\r\n  minRouter\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0b5c764b')) {\n      api.createRecord('0b5c764b', component.options)\n    } else {\n      api.reload('0b5c764b', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"E:/xiaochengxu/v2.2.3/App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","\n\timport {\n\t\timConfig\n\t} from './util/config.js'\n\tconst Services = require('./util/services.js');\n\tconst RongIMLib = require('./lib/RongIMLib.wx-1.2.0.js');\n\texport default {\n\t\tglobalData: {\n\t\t\tServices: Services\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdata: {\n\t\t\t\t\tappKey: 'bmdehs6pbguas',\n\t\t\t\t\ttoken: wx.getStorageSync('token'),\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tuserInfo() {\n\t\t\t\treturn this.$store.state.userInfo\n\t\t\t},\n      loginStatus() {\n      \treturn this.$store.state.loginStatus\n      }\n\t\t},\n\n\t\t// 应用生命周期仅可在App.vue中监听，在其它页面监听无效。\n\t\tonLaunch: function() {\n\n\t\t\tlet that = this\n\n\t\t\t// wx.setEnableDebug({\n\t\t\t// \tenableDebug: true\n\t\t\t// });\n\t\t\tif (uni.getStorageSync('token')) {\n\t\t\t\tif (uni.getStorageSync('userInfo')) {\n\t\t\t\t\tthat.$store.dispatch('setLoginStatus', 1)\n\t\t\t\t\tthat.$store.dispatch('setUserInfo', uni.getStorageSync('userInfo'))\n\t\t\t\t\t// } else {\n\t\t\t\t\t// that.$store.dispatch('setLoginStatus', 1)\n\t\t\t\t\t// that.$store.dispatch('setUserInfo', uni.getStorageSync('userInfo'))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthat.$store.dispatch('setLoginStatus', 0);\n\t\t\t\tthat.$store.dispatch('logout');\n\t\t\t}\n      \n      console.log('loading login status.......', this.$store.state.loginStatus)\n\n\n\t\t\tif (wx.canIUse('getUpdateManager')) {\n\t\t\t\tconst updateManager = wx.getUpdateManager()\n\t\t\t\tupdateManager.onCheckForUpdate(function(res) {\n\t\t\t\t\tconsole.log('onCheckForUpdate====', res)\n\t\t\t\t\t// 请求完新版本信息的回调\n\t\t\t\t\tif (res.hasUpdate) {\n\t\t\t\t\t\tconsole.log('res.hasUpdate====')\n\t\t\t\t\t\tupdateManager.onUpdateReady(function() {\n\t\t\t\t\t\t\twx.showModal({\n\t\t\t\t\t\t\t\ttitle: '更新提示',\n\t\t\t\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tconsole.log('success====', res)\n\t\t\t\t\t\t\t\t\t// res: {errMsg: \"showModal: ok\", cancel: false, confirm: true}\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n\t\t\t\t\t\t\t\t\t\tupdateManager.applyUpdate()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\tupdateManager.onUpdateFailed(function() {\n\t\t\t\t\t\t\t// 新的版本下载失败\n\t\t\t\t\t\t\twx.showModal({\n\t\t\t\t\t\t\t\ttitle: '已经有新版本了哟~',\n\t\t\t\t\t\t\t\tcontent: '新版本已经上线啦~，请您删除当前小程序，重新搜索打开哟~'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\n\t\t\tthis.checkLogin();\n\t\t\t// this.getCategory();\n\t\t},\n    \n    \n    onShow() {\n      // console.log(11111)\n      // if (this.loginStatus === 1) {\n      //   this.initSDK(this);\n      // }\n    },\n\t\tmethods: {\n\t\t\t/**\n\t\t\t * 检查session 是否已经登录\n\t\t\t */\n\t\t\tcheckLogin() {\n\t\t\t\tlet that = this;\n\t\t\t\t// uni.showLoading({title:\"加载中\"});\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: \"weixin\",\n\t\t\t\t\tsuccess: (loginRes) => {\n\t\t\t\t\t\t// uni.hideLoading();\n\t\t\t\t\t\tif (loginRes && loginRes.code) {\n\t\t\t\t\t\t\tthat.$http.getSessionToken({\n\t\t\t\t\t\t\t\t\tcode: loginRes.code\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\tif (res && res.code == 200 && res.data && res.data.token) {\n\t\t\t\t\t\t\t\t\t\tlet userInfo = {\n\t\t\t\t\t\t\t\t\t\t\tavatarUrl: res.data.avatarUrl,\n\t\t\t\t\t\t\t\t\t\t\tisSubscribe: res.data.isSubscribe,\n\t\t\t\t\t\t\t\t\t\t\tnickName: res.data.nickName,\n\t\t\t\t\t\t\t\t\t\t\tuserId: res.data.userId\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tthat.avatarUrl = userInfo.avatarUrl;\n\t\t\t\t\t\t\t\t\t\tthat.nickName = userInfo.nickName;\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('setToken', res.data.token);\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('setUserInfo', userInfo);\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('setLoginStatus', 1);\n\t\t\t\t\t\t\t\t\t\t// that.initSDK(that);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tinitSDK(context) {\n\n\t\t\t\tconst self = this\n\n\t\t\t\tlet appKey = context.data.appKey;\n\t\t\t\tlet token = context.data.token;\n\n\t\t\t\tif (appKey == '' || token == '') {\n\t\t\t\t\t// return showPrompt('必须提供 appKey 和 token');\n\t\t\t\t}\n\n\t\t\t\tthis.$http\n\t\t\t\t\t.imUserRegister({\n\t\t\t\t\t\tid: self.userInfo.userId,\n\t\t\t\t\t\tname: self.userInfo.nickName,\n\t\t\t\t\t\tportraitUri: self.userInfo.avatarUrl,\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tconsole.log(res)\n\n\t\t\t\t\t\t// 公有云初始化\n\t\t\t\t\t\tlet modules = {\n\t\t\t\t\t\t\t//protobuf: 'https://cdn.ronghub.com/protobuf-2.3.1.min.js' //支持http(s)网络路径、本地相对路径,\n\t\t\t\t\t\t\tRongIMLib: RongIMLib,\n\t\t\t\t\t\t\tprotobuf: null\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\tappKey: appKey,\n\t\t\t\t\t\t\ttoken: token,\n\t\t\t\t\t\t\tconnectToken: res.data.token\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlet callbacks = {\n\t\t\t\t\t\t\treceiveNewMessage: function(message) {\n\t\t\t\t\t\t\t\tuni.$emit('newMessage', message)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetCurrentUser: function(userInfo) {},\n\t\t\t\t\t\t\tonTokenIncorrect: function() {\n\t\t\t\t\t\t\t\tconsole.log(\"token错误重新连接\")\n\t\t\t\t\t\t\t},\n              networkError(msg){\n                console.log(self.globalData.Services.Status.getCurrentConnectionStatus());\n                self.globalData.Services.Status.reconnect();\n              },\n\t\t\t\t\t\t\twatchConversationList: function(list) {\n\t\t\t\t\t\t\t\tconsole.log(list)\n                uni.$emit('newMessageList', list)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.globalData.Services.init(params, callbacks, modules);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * 获取categorys\n\t\t\t */\n\t\t\t// getCategory() {\n\t\t\t// \tif (!uni.getStorageSync(\"catalogues\")) {\n\t\t\t// \t\tthis.$http.getCategory({}).then(res => {\n\t\t\t// \t\t\tthis.$store.commit('setCatalogues', res.data);\n\t\t\t// \t\t});\n\t\t\t// \t}\n\n\t\t\t// },\n\n\t\t}\n\n\t}\n","import mod from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}